{"config":{"lang":["en"],"separator":"[\\s\\u200b\\-]","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u7b80\u4ecb","text":"<p>\u200b\u76ee\u524d\u200b\u7f51\u7ad9\u200b\u57fa\u4e8e\u200bMkdocs\u200b\u642d\u5efa\u200b\uff0c\u200b\u6587\u6863\u200b\u7edf\u4e00\u200b\u653e\u5728\u200bgit\u200b\u9879\u76ee\u200b\u4e2d\u200b\uff0c\u200b\u6587\u6863\u200b\u683c\u5f0f\u200b\u4f7f\u7528\u200bMarkdown\uff0c\u200b\u652f\u6301\u200b\u63d2\u5165\u200b\u56fe\u7247\u200b\u3001\u200b\u8868\u683c\u200b\u548c\u200b\u4ee3\u7801\u200b\u3002</p>"},{"location":"#_2","title":"\u76ee\u5f55\u200b\u7ed3\u6784","text":"<pre><code>    mkdocs.yml    # \u200b\u914d\u7f6e\u6587\u4ef6\u200b\n    docs/\n        index.md  # \u200b\u4e3b\u9875\u200b\n        chapter01/\n                 01-01.md # \u200b\u5177\u4f53\u200b\u9875\u9762\u200b\n        img/\n                 xx.png # \u200b\u9759\u6001\u200b\u56fe\u7247\u200b\n        file/\n                 xx.pdf # \u200b\u9644\u4ef6\u200b\n</code></pre>"},{"location":"#_3","title":"\u4fee\u6539\u200b\u6587\u6863","text":"<p>\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u4fee\u6539\u200b\u6587\u6863\u200b\u5185\u5bb9\u200b\uff0c\u200b\u53ea\u8981\u200b\u5c06\u200b\u4fee\u6539\u200b\u540e\u200b\u7684\u200b\u6587\u4ef6\u200b\u63d0\u4ea4\u200b\u5230\u200bGit\u200b\u9879\u76ee\u200b\u4e2d\u200b\uff0c\u200b\u670d\u52a1\u5668\u200b\u4f1a\u200b\u81ea\u52a8\u66f4\u65b0\u200b\u6587\u6863\u200b\u7684\u200b\u5185\u5bb9\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u63d2\u5165\u200b\u56fe\u7247\u200b\uff0c\u200b\u5efa\u8bae\u200b\u5728\u200b\u5f53\u524d\u76ee\u5f55\u200b\u521b\u5efa\u200bimg\u200b\u6587\u4ef6\u5939\u200b\uff0c\u200b\u7136\u540e\u200bMarkdown\u200b\u6587\u4ef6\u200b\u5f15\u5165\u200b\u76f8\u5bf9\u8def\u5f84\u200b\u5373\u53ef\u200b\u3002</p>"},{"location":"#_4","title":"\u5982\u4f55\u200b\u6dfb\u52a0\u200b\u6587\u6863","text":"<p>\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u6dfb\u52a0\u200b\u6587\u6863\u200b\uff0c\u200b\u5efa\u8bae\u200b\u4f7f\u7528\u200bMarkdown\u200b\u683c\u5f0f\u200b\u7f16\u5199\u200b\uff0c\u200b\u7136\u540e\u200b\u63d0\u4ea4\u200b\u5230\u200bgit\u200b\u9879\u76ee\u200b\u4e2d\u200b\u3002</p> <p>Mkdocs\u200b\u80fd\u591f\u200b\u6309\u200b\u76ee\u5f55\u200b\u8fdb\u884c\u200b\u5206\u7c7b\u200b\uff0c\u200b\u4ee5\u200bFDS\u200b\u7684\u200b\u7528\u6237\u200b\u4f7f\u7528\u6307\u5357\u200b\u4e3a\u4f8b\u200b\uff0c\u200b\u53ea\u8981\u200b\u5c06\u200b\u5199\u200b\u597d\u200b\u7684\u200b\u6587\u6863\u200b\u653e\u5230\u200b\u76f8\u5e94\u200b\u76ee\u5f55\u200b\uff0c\u200b\u7136\u540e\u200b\u5728\u200bmkdocs.yml\u200b\u4e2d\u200b\u6dfb\u52a0\u200b\u4f60\u200b\u7684\u200b\u6587\u6863\u200b\u94fe\u63a5\u200b\u5373\u53ef\u200b\u3002</p> <pre><code>nav:\n- id1:\n  - id2: chapter1/1-1.md\n</code></pre> <p>\u200b\u5176\u4e2d\u200b, \"chapter1/1-1.md\" \u200b\u8868\u793a\u200b\u6587\u6863\u200b\u6240\u5728\u200b\u7684\u200b\u4f4d\u7f6e\u200b\uff0c</p> <p>\"id1\" \u200b\u8868\u793a\u200b\u5b83\u200b\u6240\u5728\u200b\u7684\u200b\u5206\u7c7b\u200b\u540d\u200b\uff0c</p> <p>\"id2\" \u200b\u8868\u793a\u200b\u663e\u793a\u200b\u7684\u200b\u5bf9\u5e94\u200b\u6807\u9898\u200b\u540d\u200b\u3002</p>"},{"location":"#_5","title":"\u6d4b\u8bd5\u200b\u4e0e\u200b\u90e8\u7f72","text":"<p>\u200b\u4efb\u4f55\u4eba\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u5728\u200b\u672c\u5730\u200b\u8fd0\u884c\u200b\u6587\u6863\u200b\u4e2d\u5fc3\u200b\u8fdb\u884c\u200b\u6d4b\u8bd5\u200b\uff0c\u200b\u9996\u5148\u200b\u9700\u8981\u200bpip install mkdocs\uff0c\u200b\u7136\u540e\u200b\u5728\u200b\u9879\u76ee\u200b\u6839\u76ee\u5f55\u200b\u6267\u884c\u200bmkdocs serve\u200b\u5373\u53ef\u200b, \u200b\u6d4f\u89c8\u5668\u200b\u4e2d\u200b\u8bbf\u95ee\u200bhttp://127.0.0.1:8000/\u3002 \u200b\u5efa\u8bae\u200b\u5728\u200b\u672c\u5730\u200b\u5199\u200b\u6587\u6863\u200b\uff0c\u200b\u8fd0\u884c\u200bmkdocs\u200b\u6d4b\u8bd5\u901a\u8fc7\u200b\u540e\u200b\u518d\u200b\u63d0\u4ea4\u200b\u5230\u200bGit\u200b\u9879\u76ee\u200b\u4e2d\u200b\u3002</p> <ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs help</code> - Print this help message.</li> </ul>"},{"location":"#_6","title":"\u652f\u6301\u200b\u4e2d\u6587\u641c\u7d22","text":"<p>1.\u200b\u4f9d\u8d56\u200b mkdocs-material \u200b\u5185\u7f6e\u200b\u4e86\u200b\u4e2d\u6587\u200b\u652f\u6301\u200b</p> <pre><code>pip install mkdocs-material\n</code></pre>"},{"location":"c01/01-01/","title":"Markdown \u200b\u8bed\u6cd5","text":"<p>\u200b\u8f6c\u8f7d\u81ea\u200b\uff1a\u200b\u94fe\u63a5\u200b</p> <p>\u200b\u672c\u6587\u200b\u5c06\u200b\u901a\u8fc7\u200b\u4e00\u4e9b\u200b\u7b80\u5355\u200b\u7684\u200b\u4f8b\u5b50\u200b\u6765\u200b\u8bf4\u660e\u200bMarkdown\u200b\u7684\u200b\u7528\u6cd5\u200b\u3002</p>"},{"location":"c01/01-01/#markdown_1","title":"\u4ec0\u4e48\u200b\u662f\u200bMarkdown","text":"<p>Markdown\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5c06\u200b\u6587\u672c\u200b\u8f6c\u5316\u200b\u4e3a\u200bHTML\u200b\u7684\u200b\u5de5\u5177\u200b\u3002\u200b\u7b80\u5355\u200b\u6765\u8bf4\u200b\uff0cMarkdown\u200b\u662f\u200b\u4e00\u4e2a\u200b\u517c\u987e\u200b\u53ef\u8bfb\u6027\u200b\u4e0e\u200b\u6613\u7528\u6027\u200b\u7684\u200b\u8f7b\u91cf\u7ea7\u200b\u6807\u8bb0\u200b\u4f53\u7cfb\u200b\u3002Markdown\u200b\u5e76\u200b\u4e0d\u200b\u8ffd\u6c42\u200b\u5927\u800c\u5168\u200b\uff0c\u200b\u5b83\u200b\u53ea\u200b\u5173\u5fc3\u200bHTML\u200b\u91cc\u200b\u6700\u200b\u5e38\u7528\u200b\u7684\u200b\u51e0\u4e2a\u200b\u6807\u8bb0\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u4e00\u4e9b\u200b\u4e0d\u200b\u5e38\u7528\u200b\u7684\u200b\u6807\u8bb0\u200b\u5b83\u200b\u5141\u8bb8\u200b\u76f4\u63a5\u200b\u5c06\u200bHTML\u200b\u6807\u8bb0\u200b\u63d2\u5165\u200b\u6587\u672c\u200b\u3002</p>"},{"location":"c01/01-01/#_1","title":"\u7f16\u8f91\u5668","text":"<p>\u200b\u5728\u7ebf\u200b\u7f16\u8f91\u5668\u200b\uff1a\u200b\u9a6c\u514b\u200b\u98de\u8c61\u200b \u200b\u79bb\u7ebf\u200b\u7f16\u8f91\u5668\u200b\uff1avscode</p>"},{"location":"c01/01-01/#_2","title":"\u6807\u9898","text":""},{"location":"c01/01-01/#_3","title":"\u8bed\u6cd5\u200b\uff1a","text":"<pre><code>    # \u200b\u6807\u9898\u200b1\n    ## \u200b\u6807\u9898\u200b2\n    ###### \u200b\u6807\u9898\u200b6\n</code></pre>"},{"location":"c01/01-01/#_4","title":"\u6548\u679c\u200b\uff1a","text":""},{"location":"c01/01-01/#1","title":"\u6807\u9898\u200b1","text":""},{"location":"c01/01-01/#2","title":"\u6807\u9898\u200b2","text":""},{"location":"c01/01-01/#6","title":"\u6807\u9898\u200b6","text":""},{"location":"c01/01-01/#_5","title":"\u6362\u884c","text":"<p>\u200b\u5728\u200b\u6587\u5b57\u200b\u7684\u200b\u672b\u5c3e\u200b\u4f7f\u7528\u200b\u4e24\u4e2a\u200b\u6216\u200b\u4e24\u4e2a\u200b\u4ee5\u4e0a\u200b\u7684\u200b\u7a7a\u683c\u200b\u6765\u200b\u8868\u793a\u200b\u6362\u884c\u200b\u3002</p>"},{"location":"c01/01-01/#_6","title":"\u5f15\u7528","text":"<p>\u200b\u884c\u9996\u200b\u4f7f\u7528\u200b<code>&gt;</code>\u200b\u52a0\u4e0a\u200b\u4e00\u4e2a\u200b\u7a7a\u683c\u200b\u8868\u793a\u200b\u5f15\u7528\u200b\u6bb5\u843d\u200b\uff0c\u200b\u5185\u90e8\u200b\u53ef\u4ee5\u200b\u5d4c\u5957\u200b\u591a\u4e2a\u200b\u5f15\u7528\u200b\u3002   </p>"},{"location":"c01/01-01/#_7","title":"\u8bed\u6cd5\u200b\uff1a","text":"<pre><code>    &gt; \u200b\u8fd9\u662f\u200b\u4e00\u4e2a\u200b\u5f15\u7528\u200b\uff0c\n    &gt; \u200b\u8fd9\u91cc\u200b\u6728\u6709\u200b\u6362\u884c\u200b\uff0c   \n    &gt; \u200b\u5728\u200b\u8fd9\u91cc\u200b\u6362\u884c\u200b\u4e86\u200b\u3002\n    &gt; &gt; \u200b\u5185\u90e8\u200b\u5d4c\u5957\u200b\n</code></pre>"},{"location":"c01/01-01/#_8","title":"\u6548\u679c\u200b\uff1a","text":"<p>\u200b\u8fd9\u662f\u200b\u4e00\u4e2a\u200b\u5f15\u7528\u200b\uff0c \u200b\u8fd9\u91cc\u200b\u6728\u6709\u200b\u6362\u884c\u200b\uff0c  \u200b\u5728\u200b\u8fd9\u91cc\u200b\u6362\u884c\u200b\u4e86\u200b\u3002</p> <p>\u200b\u5185\u90e8\u200b\u5d4c\u5957\u200b</p>"},{"location":"c01/01-01/#_9","title":"\u5217\u8868","text":"<p>__\u200b\u65e0\u5e8f\u200b\u5217\u8868\u200b__\u200b\u4f7f\u7528\u200b<code>*</code>\u3001<code>+</code>\u200b\u6216\u200b<code>-</code>\u200b\u540e\u9762\u200b\u52a0\u4e0a\u200b\u7a7a\u683c\u200b\u6765\u200b\u8868\u793a\u200b\u3002</p>"},{"location":"c01/01-01/#_10","title":"\u8bed\u6cd5\u200b\uff1a","text":"<pre><code>    * Item 1\n    * Item 2\n    * Item 3\n\n    + Item 1\n    + Item 2\n    + Item 3\n\n    - Item 1\n    - Item 2\n    - Item 3\n</code></pre>"},{"location":"c01/01-01/#_11","title":"\u6548\u679c\u200b\uff1a","text":"<ul> <li>Item 1</li> <li>Item 2</li> <li> <p>Item 3</p> </li> <li> <p>Item 1</p> </li> <li>Item 2</li> <li> <p>Item 3</p> </li> <li> <p>Item 1  </p> </li> <li>Item 2</li> <li>Item 3</li> </ul> <p>__\u200b\u6709\u200b\u5e8f\u5217\u8868\u200b__\u200b\u4f7f\u7528\u200b\u6570\u5b57\u200b\u52a0\u200b\u82f1\u6587\u200b\u53e5\u53f7\u200b\u52a0\u200b\u7a7a\u683c\u200b\u8868\u793a\u200b\u3002   </p>"},{"location":"c01/01-01/#_12","title":"\u8bed\u6cd5\u200b\uff1a","text":"<pre><code>    1. Item 1\n    2. Item 2\n    3. Item 3\n</code></pre>"},{"location":"c01/01-01/#_13","title":"\u6548\u679c\u200b\uff1a","text":"<ol> <li>Item 1</li> <li>Item 2</li> <li>Item 3</li> </ol>"},{"location":"c01/01-01/#_14","title":"\u4ee3\u7801\u200b\u533a\u57df","text":"<p>__\u200b\u884c\u5185\u200b\u4ee3\u7801\u200b__\u200b\u4f7f\u7528\u200b\u53cd\u200b\u659c\u6760\u200b<code>`</code>\u200b\u8868\u793a\u200b\u3002  __\u200b\u4ee3\u7801\u200b\u6bb5\u843d\u200b__\u200b\u5219\u200b\u662f\u200b\u5728\u200b\u6bcf\u884c\u200b\u6587\u5b57\u200b\u524d\u52a0\u200b4\u200b\u4e2a\u200b\u7a7a\u683c\u200b\u6216\u8005\u200b1\u200b\u4e2a\u200b\u7f29\u8fdb\u200b\u7b26\u200b\u8868\u793a\u200b\u3002</p>"},{"location":"c01/01-01/#_15","title":"\u8bed\u6cd5\u200b\uff1a","text":"<pre><code>  Bash\u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200becho\u200b\u6765\u200b\u8fdb\u884c\u200b\u8f93\u51fa\u200b\u3002\n  ```\n    $ echo 'Something'\n    $ echo -e '\\tSomething\\n'\n  ```\n</code></pre> <pre><code>Bash\u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200becho\u200b\u6765\u200b\u8fdb\u884c\u200b\u8f93\u51fa\u200b\u3002\n  $ echo 'Something'\n  $ echo -e '\\tSomething\\n'\n</code></pre>"},{"location":"c01/01-01/#_16","title":"\u6548\u679c\u200b\uff1a","text":"<p>Bash\u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200becho\u200b\u6765\u200b\u8fdb\u884c\u200b\u8f93\u51fa\u200b\u3002</p> <pre><code>$ echo 'Something'\n$ echo -e '\\tSomething\\n'\n</code></pre>"},{"location":"c01/01-01/#_17","title":"\u5f3a\u8c03","text":"<p>Markdown\u200b\u4f7f\u7528\u200b<code>\\*</code>\u200b\u6216\u200b<code>\\_</code>\u200b\u8868\u793a\u200b\u5f3a\u8c03\u200b\u3002</p>"},{"location":"c01/01-01/#_18","title":"\u8bed\u6cd5\u200b\uff1a","text":"<pre><code>    \u200b\u5355\u200b\u661f\u53f7\u200b = *\u200b\u659c\u4f53\u200b*\n    \u200b\u5355\u200b\u4e0b\u5212\u7ebf\u200b = _\u200b\u659c\u4f53\u200b_\n    \u200b\u53cc\u661f\u200b\u53f7\u200b = **\u200b\u52a0\u7c97\u200b**\n    \u200b\u53cc\u200b\u4e0b\u5212\u7ebf\u200b = __\u200b\u52a0\u7c97\u200b__\n</code></pre>"},{"location":"c01/01-01/#_19","title":"\u6548\u679c\u200b\uff1a","text":"<p>\u200b\u5355\u200b\u661f\u53f7\u200b = \u200b\u659c\u4f53\u200b \u200b\u5355\u200b\u4e0b\u5212\u7ebf\u200b = \u200b\u659c\u4f53\u200b \u200b\u53cc\u661f\u200b\u53f7\u200b = \u200b\u52a0\u7c97\u200b \u200b\u53cc\u200b\u4e0b\u5212\u7ebf\u200b = \u200b\u52a0\u7c97\u200b </p>"},{"location":"c01/01-01/#_20","title":"\u94fe\u63a5","text":"<p>Markdown\u200b\u652f\u6301\u200b\u4e24\u79cd\u200b\u98ce\u683c\u200b\u7684\u200b\u94fe\u63a5\u200b\uff1aInline\u200b\u548c\u200bReference\u3002</p>"},{"location":"c01/01-01/#_21","title":"\u8bed\u6cd5\u200b\uff1a","text":"<p>Inline\uff1a\u200b\u4ee5\u200b\u4e2d\u62ec\u53f7\u200b\u6807\u8bb0\u200b\u663e\u793a\u200b\u7684\u200b\u94fe\u63a5\u200b\u6587\u672c\u200b\uff0c\u200b\u540e\u9762\u200b\u7d27\u8ddf\u200b\u7528\u200b\u5c0f\u62ec\u53f7\u200b\u5305\u56f4\u200b\u7684\u200b\u94fe\u63a5\u200b\u3002\u200b\u5982\u679c\u200b\u94fe\u63a5\u200b\u6709\u200btitle\u200b\u5c5e\u6027\u200b\uff0c\u200b\u5219\u200b\u5728\u200b\u94fe\u63a5\u200b\u4e2d\u200b\u4f7f\u7528\u200b\u7a7a\u683c\u200b\u52a0\u200b\"title\u200b\u5c5e\u6027\u200b\"\u3002 Reference\uff1a\u200b\u4e00\u822c\u200b\u5e94\u7528\u200b\u4e8e\u200b\u591a\u4e2a\u200b\u4e0d\u540c\u200b\u4f4d\u7f6e\u200b\u4f7f\u7528\u200b\u76f8\u540c\u200b\u94fe\u63a5\u200b\u3002\u200b\u901a\u5e38\u200b\u5206\u4e3a\u200b\u4e24\u4e2a\u200b\u90e8\u5206\u200b\uff0c\u200b\u8c03\u7528\u200b\u90e8\u5206\u200b\u4e3a\u200b<code>[\u200b\u94fe\u63a5\u200b\u6587\u672c\u200b][ref]</code>\uff1b\u200b\u5b9a\u4e49\u200b\u90e8\u5206\u200b\u53ef\u4ee5\u200b\u51fa\u73b0\u200b\u5728\u200b\u6587\u672c\u200b\u4e2d\u200b\u7684\u200b\u5176\u4ed6\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u683c\u5f0f\u200b\u4e3a\u200b<code>[ref]: http://some/link/address (\u200b\u53ef\u9009\u200b\u7684\u200b\u6807\u9898\u200b)</code>\u3002  \u200b\u6ce8\u200b\uff1aref\u200b\u4e2d\u200b\u4e0d\u200b\u533a\u5206\u200b\u5927\u5c0f\u5199\u200b\u3002 </p> <pre><code>\u200b\u8fd9\u662f\u200b\u4e00\u4e2a\u200bInline[\u200b\u793a\u4f8b\u200b](http://www.google.com \"\u200b\u53ef\u9009\u200b\u7684\u200btitle\")\u3002\n\u200b\u8fd9\u662f\u200b\u4e00\u4e2a\u200bReference[\u200b\u793a\u4f8b\u200b][ref]\u3002\n[ref]: http://www.google.com\n</code></pre>"},{"location":"c01/01-01/#_22","title":"\u6548\u679c\u200b\uff1a","text":"<p>\u200b\u8fd9\u662f\u200b\u4e00\u4e2a\u200bInline\u200b\u793a\u4f8b\u200b\u3002  \u200b\u8fd9\u662f\u200b\u4e00\u4e2a\u200bReference\u200b\u793a\u4f8b\u200b\u3002</p>"},{"location":"c01/01-01/#_23","title":"\u56fe\u7247","text":"<p>\u200b\u56fe\u7247\u200b\u7684\u200b\u4f7f\u7528\u200b\u65b9\u6cd5\u200b\u57fa\u672c\u4e0a\u200b\u548c\u200b\u94fe\u63a5\u200b\u7c7b\u4f3c\u200b\uff0c\u200b\u53ea\u662f\u200b\u5728\u200b\u4e2d\u62ec\u53f7\u200b\u524d\u52a0\u200b\u53f9\u200b\u53f7\u200b\u3002  \u200b\u6ce8\u200b\uff1aMarkdown\u200b\u4e0d\u80fd\u200b\u8bbe\u7f6e\u200b\u56fe\u7247\u5927\u5c0f\u200b\uff0c\u200b\u5982\u679c\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\u5219\u200b\u5e94\u200b\u4f7f\u7528\u200bHTML\u200b\u6807\u8bb0\u200b&lt;img&gt;\u3002 </p>"},{"location":"c01/01-01/#_24","title":"\u8bed\u6cd5\u200b\uff1a","text":"<pre><code>Inline\u200b\u793a\u4f8b\u200b\uff1a![\u200b\u66ff\u4ee3\u200b\u6587\u672c\u200b](/img/01-01-01.png \"\u200b\u53ef\u9009\u200b\u7684\u200btitle\")\nReference\u200b\u793a\u4f8b\u200b\uff1a![\u200b\u66ff\u4ee3\u200b\u6587\u672c\u200b][pic]\n[pic]: /img/01-01-01.png \"\u200b\u53ef\u9009\u200b\u7684\u200btitle\"\nHTML\u200b\u793a\u4f8b\u200b\uff1a&lt;img src=\"/img/01-01-01.png\" alt=\"\u200b\u66ff\u4ee3\u200b\u6587\u672c\u200b\" title=\"\u200b\u53ef\u9009\u200b\u7684\u200btitle\" width=\"400px\" /&gt;\n</code></pre>"},{"location":"c01/01-01/#_25","title":"\u6548\u679c\u200b\uff1a","text":""},{"location":"c01/01-01/#_26","title":"\u5176\u4ed6","text":""},{"location":"c01/01-01/#_27","title":"\u81ea\u52a8\u200b\u94fe\u63a5","text":"<p>\u200b\u4f7f\u7528\u200b\u5c16\u62ec\u53f7\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4e3a\u200b\u8f93\u5165\u200b\u7684\u200bURL\u200b\u81ea\u52a8\u200b\u521b\u5efa\u200b\u94fe\u63a5\u200b\u3002 \u200b\u5982\u200bhttp://www.baidu.com</p>"},{"location":"c01/01-01/#_28","title":"\u5206\u9694\u7ebf","text":"<p>\u200b\u5728\u200b\u4e00\u884c\u200b\u4e2d\u200b\u4f7f\u7528\u200b\u4e09\u4e2a\u200b\u6216\u200b\u4e09\u4e2a\u200b\u4ee5\u4e0a\u200b\u7684\u200b<code>*</code>\u3001<code>-</code>\u200b\u6216\u200b<code>_</code>\u200b\u53ef\u4ee5\u200b\u6dfb\u52a0\u200b\u5206\u9694\u7ebf\u200b\uff0c\u200b\u5176\u4e2d\u200b\u53ef\u4ee5\u200b\u6709\u200b\u7a7a\u767d\u200b\uff0c\u200b\u4f46\u662f\u200b\u4e0d\u80fd\u200b\u6709\u200b\u5176\u4ed6\u200b\u5b57\u7b26\u200b\u3002</p>"},{"location":"c01/01-01/#_29","title":"\u8f6c\u4e49\u5b57\u7b26","text":"<p>Markdown\u200b\u4e2d\u200b\u7684\u200b\u8f6c\u4e49\u5b57\u7b26\u200b\u4e3a\u200b<code>\\</code>\uff0c\u200b\u53ef\u4ee5\u200b\u8f6c\u4e49\u200b\u7684\u200b\u6709\u200b\uff1a</p> <ul> <li>\\\\ \u200b\u53cd\u200b\u659c\u6760\u200b</li> <li>\\` \u200b\u53cd\u200b\u5f15\u53f7\u200b</li> <li>\\* \u200b\u661f\u53f7\u200b</li> <li>\\_ \u200b\u4e0b\u5212\u7ebf\u200b</li> <li>\\{\\} \u200b\u5927\u62ec\u53f7\u200b</li> <li>\\[\\] \u200b\u4e2d\u62ec\u53f7\u200b</li> <li>\\(\\) \u200b\u5c0f\u62ec\u53f7\u200b</li> <li>\\# \u200b\u4e95\u53f7\u200b</li> <li>\\+ \u200b\u52a0\u53f7\u200b</li> <li>\\- \u200b\u51cf\u53f7\u200b</li> <li>\\. \u200b\u82f1\u6587\u200b\u53e5\u53f7\u200b</li> <li>\\! \u200b\u611f\u53f9\u53f7\u200b</li> </ul>"},{"location":"c01/01-01/#_30","title":"\u7ed3\u8bed","text":"<p>Markdown\u200b\u8bed\u6cd5\u200b\u5f88\u5927\u200b\u7a0b\u5ea6\u200b\u4e0a\u200b\u51cf\u5c11\u200b\u4e86\u200b\u7f16\u8f91\u200b\u7684\u200b\u6210\u672c\u200b\uff0c\u200b\u4f46\u662f\u200b\u5728\u200b\u5199\u4f5c\u200b\u8fd9\u200b\u7bc7\u6587\u7ae0\u200b\u7684\u200b\u65f6\u5019\u200b\u4e5f\u200b\u53d1\u73b0\u200b\u67d0\u4e9b\u200b\u6807\u8bb0\u200b\u5bf9\u200b\u4e2d\u6587\u200b\u7684\u200b\u652f\u6301\u200b\u4f3c\u4e4e\u200b\u5e76\u200b\u4e0d\u200b\u5b8c\u7f8e\u200b\uff0c\u200b\u867d\u7136\u200b\u8fd9\u4e9b\u200b\u7f3a\u9677\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u76f4\u63a5\u63d2\u5165\u200bHTML\u200b\u4ee3\u7801\u200b\u89e3\u51b3\u200b\uff08\u200b\u4f46\u200b\u8fd9\u4e48\u200b\u505a\u200b\u4e00\u70b9\u200b\u90fd\u200b\u4e0d\u200b\u6f02\u4eae\u200b\uff09\u3002\u200b\u603b\u7684\u6765\u8bf4\u200b\uff0c\u200b\u80fd\u591f\u200b\u5728\u200b\u79bb\u7ebf\u200b\u72b6\u6001\u200b\u4e0b\u200b\u4f7f\u7528\u200b\u547d\u4ee4\u884c\u200b\u6a21\u5f0f\u200b\u8fdb\u884c\u200b\u5199\u4f5c\u200b\u8fd8\u662f\u200b\u5f88\u723d\u200b\u7684\u200b\uff0c\u200b\u76f8\u6bd4\u200b\u5728\u7ebf\u200b\u5199\u4f5c\u200b\u6a21\u5f0f\u200b\u7cbe\u529b\u200b\u53ef\u4ee5\u200b\u66f4\u200b\u4e13\u6ce8\u200b\u3002</p>"},{"location":"c01/01-03/","title":"Git \u200b\u6559\u7a0b","text":""},{"location":"c01/01-03/#git_1","title":"Git\u200b\u6559\u7a0b","text":"<p>Git\u200b\u6559\u7a0b\u200b - \u200b\u5ed6\u200b\u96ea\u5cf0\u200b\u7684\u200b\u5b98\u65b9\u7f51\u7ad9\u200b</p>"},{"location":"c01/01-03/#_1","title":"\u5b89\u88c5\u5305","text":"<p>git SourceTree</p>"},{"location":"c01/01-03/#_2","title":"\u5e38\u7528\u547d\u4ee4","text":""},{"location":"c01/01-03/#git-flow","title":"git flow","text":"<ul> <li>\u200b\u516c\u53f8\u200b\u6d41\u7a0b\u200b</li> </ul> <pre><code>\u200b\u5206\u652f\u200b\u8bf4\u660e\u200b\uff1a\nlocal branch:\nmaster, develop, localdev\nremote branch:\nmaster, develop\n\u200b\u672c\u5730\u200b\u5f00\u53d1\u200b\u5728\u200blocaldev\u200b\u5206\u652f\u200b\u4e0a\u200b\n\n\u200b\u64cd\u4f5c\u200b\u6d41\u7a0b\u200b\uff1a\n\n\u200b\u4e0a\u73ed\u200b\u524d\u200b\uff1a\n\ngit checkout develop     //\u200b\u5207\u6362\u200b\u5230\u200bdevelop\ngit pull origin develop  //\u200b\u83b7\u53d6\u200b\u8fdc\u7a0b\u200b\u66f4\u65b0\u200b\ngit checkout localdev    //\u200b\u5207\u6362\u200b\u5230\u200b\u672c\u5730\u200b\u5f00\u53d1\u200b\u5206\u652f\u200b\ngit merge develop        //\u200b\u5408\u5e76\u200b\u83b7\u53d6\u200b\u7684\u200b\u4fee\u6539\u200b\n\n\u200b\u5f00\u59cb\u200b\u4eca\u5929\u200b\u5f00\u53d1\u200b\u5185\u5bb9\u200b\n\n\u200b\u4e0b\u73ed\u200b\u524d\u200b\uff1a\ngit commit -m 'xxx'            //\u200b\u63d0\u4ea4\u200b\u4eca\u5929\u200b\u7684\u200b\u4fee\u6539\u200b\u5230\u200blocaldev\ngit checkout develop    //\u200b\u5207\u6362\u200b\u5230\u200bdevelop\u200b\u5206\u652f\u200b\ngit pull origin develop   //\u200b\u66f4\u65b0\u200bdevelop\ngit checkout localdev   //\u200b\u5207\u6362\u200b\u5230\u200blocaldev\u200b\u5206\u652f\u200b\ngit rebase develop        //\u200b\u7528\u200brebase\u200b\u5e94\u7528\u200b\u4fee\u6539\u200b\ngit checkout develop    //\u200b\u5207\u6362\u200b\u5230\u200bdevelop\u200b\u5206\u652f\u200b\ngit merge localdev        //\u200b\u5408\u5e76\u200blocaldev\u200b\u5206\u652f\u200b\u7684\u200b\u4fee\u6539\u200b\u5185\u5bb9\u200b\ngit push origin develop //\u200b\u628a\u200b\u4eca\u5929\u200b\u7684\u200b\u4fee\u6539\u200b\u63d0\u4ea4\u200b\u5230\u200b\u8fdc\u7a0b\u200b\n\nrebase\u200b\u8bf4\u660e\u200b\uff1a\n1. \u200b\u9700\u8981\u200b\u7f16\u8f91\u200b\u51b2\u7a81\u200b\n  1.1 \u200b\u7f16\u8f91\u200b\u51b2\u7a81\u200b\n  1.2 git add .\n  1.3 git rebase --continue\n2. \u200b\u9700\u8981\u200b\u8df3\u8fc7\u200b\n  2.1 git reabse --skip\n</code></pre> <ul> <li>\u200b\u62c9\u53d6\u200b\u67d0\u4e2a\u200b\u5206\u652f\u200b\uff0c\u200b\u5e76\u200b\u8bbe\u7f6e\u200b\u63d0\u4ea4\u200b\u6df1\u5ea6\u200b</li> </ul> <pre><code># \u200b\u67d0\u4e2a\u200b\u5206\u652f\u200b --branch\n# \u200b\u63d0\u4ea4\u200b\u6df1\u5ea6\u200b --depth\ngit clone http://xxx.git --branch V6.0 --depth 1\n</code></pre> <ul> <li>git fetch \u200b\u548c\u200b  git pull</li> </ul> <pre><code>Git\u200b\u4e2d\u200b\u4ece\u200b\u8fdc\u7a0b\u200b\u7684\u200b\u5206\u652f\u200b\u83b7\u53d6\u200b\u6700\u65b0\u200b\u7684\u200b\u7248\u672c\u200b\u5230\u200b\u672c\u5730\u200b\u6709\u200b\u8fd9\u6837\u200b2\u200b\u4e2a\u200b\u547d\u4ee4\u200b\uff1a\n1. git\n fetch\uff1a\u200b\u76f8\u5f53\u4e8e\u200b\u662f\u4ece\u200b\u8fdc\u7a0b\u200b\u83b7\u53d6\u200b\u6700\u65b0\u200b\u7248\u672c\u200b\u5230\u200b\u672c\u5730\u200b\uff0c\u200b\u4e0d\u4f1a\u200b\u81ea\u52a8\u200bmerge\n\ngit fetch origin master\ngit log -p master..origin/master\ngit merge origin/master\n    \u200b\u4ee5\u4e0a\u200b\u547d\u4ee4\u200b\u7684\u200b\u542b\u4e49\u200b\uff1a\n   \u200b\u9996\u5148\u200b\u4ece\u200b\u8fdc\u7a0b\u200b\u7684\u200borigin\u200b\u7684\u200bmaster\u200b\u4e3b\u200b\u5206\u652f\u200b\u4e0b\u8f7d\u200b\u6700\u65b0\u200b\u7684\u200b\u7248\u672c\u200b\u5230\u200borigin/master\u200b\u5206\u652f\u200b\u4e0a\u200b\n   \u200b\u7136\u540e\u200b\u6bd4\u8f83\u200b\u672c\u5730\u200b\u7684\u200bmaster\u200b\u5206\u652f\u200b\u548c\u200borigin/master\u200b\u5206\u652f\u200b\u7684\u200b\u5dee\u522b\u200b\n   \u200b\u6700\u540e\u200b\u8fdb\u884c\u200b\u5408\u5e76\u200b\n   \u200b\u4e0a\u8ff0\u200b\u8fc7\u7a0b\u200b\u5176\u5b9e\u200b\u53ef\u4ee5\u200b\u7528\u200b\u4ee5\u4e0b\u200b\u66f4\u200b\u6e05\u6670\u200b\u7684\u200b\u65b9\u5f0f\u200b\u6765\u200b\u8fdb\u884c\u200b\uff1a\n\ngit fetch origin master:tmp\ngit diff tmp\ngit merge tmp\n    \u200b\u4ece\u200b\u8fdc\u7a0b\u200b\u83b7\u53d6\u200b\u6700\u65b0\u200b\u7684\u200b\u7248\u672c\u200b\u5230\u200b\u672c\u5730\u200b\u7684\u200btest\u200b\u5206\u652f\u200b\u4e0a\u200b\n   \u200b\u4e4b\u540e\u200b\u518d\u200b\u8fdb\u884c\u200b\u6bd4\u8f83\u200b\u5408\u5e76\u200b\n2. git\n pull\uff1a\u200b\u76f8\u5f53\u4e8e\u200b\u662f\u4ece\u200b\u8fdc\u7a0b\u200b\u83b7\u53d6\u200b\u6700\u65b0\u200b\u7248\u672c\u200b\u5e76\u200bmerge\u200b\u5230\u200b\u672c\u5730\u200b\n\ngit pull origin master\n\n\u200b\u4e0a\u8ff0\u200b\u547d\u4ee4\u200b\u5176\u5b9e\u200b\u76f8\u5f53\u4e8e\u200bgit fetch \u200b\u548c\u200b git merge\n\u200b\u5728\u200b\u5b9e\u9645\u200b\u4f7f\u7528\u200b\u4e2d\u200b\uff0cgit fetch\u200b\u66f4\u200b\u5b89\u5168\u200b\u4e00\u4e9b\u200b\n\u200b\u56e0\u4e3a\u200b\u5728\u200bmerge\u200b\u524d\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u67e5\u770b\u200b\u66f4\u65b0\u200b\u60c5\u51b5\u200b\uff0c\u200b\u7136\u540e\u200b\u518d\u200b\u51b3\u5b9a\u200b\u662f\u5426\u200b\u5408\u5e76\u200b\n</code></pre> <ul> <li>\u200b\u8981\u200b\u628a\u200b\u4e4b\u524d\u200b\u7684\u200b\u5386\u53f2\u200b\u91cd\u65b0\u200b\u518d\u200b pull \u200b\u4e0b\u6765\u200b</li> </ul> <pre><code>git pull --unshallow\n</code></pre>"},{"location":"c01/01-03/#githubcommit","title":"\u5728\u200bgithub\u200b\u4e2d\u200b\u5220\u9664\u200b\u5df2\u7ecf\u200b\u540c\u6b65\u200b\u8fc7\u200b\u7684\u200bcommit","text":"<pre><code>1\uff09\u200b\u5728\u200bgithub\u200b\u4e2d\u200b\u5220\u9664\u200b\u5df2\u7ecf\u200b\u540c\u6b65\u200b\u8fc7\u200b\u7684\u200bcommit\ngit reset --soft HEAD~1\n2\uff09\u200b\u5c06\u200b\u672c\u5730\u200b\u7684\u200bHEAD\u200b\u6587\u4ef6\u200b\u5f3a\u5236\u200b\u8986\u76d6\u200bgithub\u200b\u4e0a\u200b\u7684\u200bHEAD\u200b\u6587\u4ef6\u200b\ngit push origin HEAD --force\n</code></pre>"},{"location":"c04/04-03/","title":"LETTUCE\u200b\u4f7f\u7528\u200b\u8bf4\u660e\u200b(redis\u200b\u7684\u200bjava\u200b\u5e93\u200b)","text":""},{"location":"c04/04-03/#1","title":"1 \u200b\u8be6\u7ec6\u200b\u8bf4\u660e\u200b\u6587\u6863","text":"<p>https://github.com/mp911de/lettuce/wiki</p>"},{"location":"c04/04-03/#2","title":"2 \u200b\u4f9d\u8d56","text":"<p>compile 'biz.paluch.redis:lettuce:4.3.0.Final'</p>"},{"location":"c04/04-03/#3","title":"3 \u200b\u666e\u901a\u200b\u8c03\u7528\u200b\u6d41\u7a0b","text":"<pre><code>\n    RedisURI node1 = RedisURI.create(\"10.1.249.172\", 7000);\n    RedisURI node2 = RedisURI.create(\"10.1.249.172\", 7001);\n    RedisURI node3 = RedisURI.create(\"10.1.249.172\", 7002);\n    RedisURI node4 = RedisURI.create(\"10.1.249.172\", 7003);\n    RedisURI node5 = RedisURI.create(\"10.1.249.172\", 7004);\n    RedisURI node6 = RedisURI.create(\"10.1.249.172\", 7005);\n    RedisURI node7 = RedisURI.create(\"10.1.249.172\", 7100);\n    RedisURI node8 = RedisURI.create(\"10.1.249.172\", 7101);\n    RedisURI node9 = RedisURI.create(\"10.1.249.172\", 7102);\n\n    List rdslist=[node1,node2,node3,node4,node5,node6,node7,node8,node9]\n\n    RedisClusterClient clusterClient = RedisClusterClient.create(res,rdslist)//\u200b\u8bbe\u7f6e\u200bredis\u200b\u8fde\u63a5\u200b\u96c6\u7fa4\u200b\n    StatefulRedisClusterConnection&lt;String, String&gt; connection = getClientInstance().connect();//connection\u200b\u652f\u6301\u200b\u591a\u7ebf\u7a0b\u200b\uff0c\u200b\u652f\u6301\u200blonglive\uff0c\u200b\u6240\u4ee5\u200b\u53ea\u8981\u200b\u4e00\u4e2a\u200b\u5373\u53ef\u200b\uff01\uff01\n\n    public static RedisAdvancedClusterCommands&lt;String, String&gt; getSyncCommands() {//\u200b\u83b7\u5f97\u200b\u540c\u6b65\u200bcommand\n        return getConnectionInstance().sync();\n    }\n\n    public static RedisAdvancedClusterAsyncCommands&lt;String, String&gt; getAsyncCommands() {//\u200b\u83b7\u5f97\u200b\u5f02\u6b65\u200bcommand\n        return getConnectionInstance().async()\n    }\n\n    def getResultBySyncCommand={//\u200b\u540c\u6b65\u200b\u83b7\u5f97\u200b\u7ed3\u679c\u200b\n       return getSyncCommands().zrangebyscore(key,Range.create(StartScore,EndScore))\n    }\n\n    def getResultByAsyncCommand={//\u200b\u5f02\u6b65\u200b\u83b7\u5f97\u200b\u7ed3\u679c\u200b\n        RedisFuture&lt;String&gt; r=rservice.getAsyncCommands().get('10001test1')\n        r.thenAccept(new Consumer&lt;String&gt;() {\n            @Override\n            public void accept(String s) {\n                println(\" s is \" + s);\n            }\n        })\n    }\n\n    def zadd={//\u200b\u6dfb\u52a0\u200bzset\n        def key='some:xxxx:1234'\n        def result=syncCommands.zadd(key,score,it2.jsonvalue)\n        syncCommands.expire(key,120)//\u200b\u8bbe\u5b9a\u200b\u8fc7\u671f\u200b\u65f6\u95f4\u200b\n        return result\n    }\n\n</code></pre>"},{"location":"c04/04-04/","title":"nssm (windows\u200b\u4e0b\u200b\u5c06\u200b\u7a0b\u5e8f\u5b89\u88c5\u200b\u4e3a\u200b\u670d\u52a1\u200b\uff09","text":""},{"location":"c04/04-04/#_1","title":"\u7b80\u4ecb","text":"<p>nssm</p>"},{"location":"c04/04-04/#_2","title":"\u4e0b\u8f7d","text":"<p>nssm \u200b\u4e0b\u8f7d\u9875\u200b</p>"},{"location":"c04/04-04/#_3","title":"\u4f7f\u7528","text":"<p>\u200b\u5e38\u7528\u547d\u4ee4\u200b</p> <pre><code># \u200b\u5b89\u88c5\u200b\u670d\u52a1\u200b\nnssm install &lt;service&gt;\n\n# \u200b\u5378\u8f7d\u200b\u670d\u52a1\u200b\nnssm remove &lt;service&gt; \nnssm remove &lt;service&gt; confirm\n\n# \u200b\u63a7\u5236\u200b\u670d\u52a1\u200b\nnssm start &lt;servicename&gt;\nnssm stop &lt;servicename&gt;\nnssm restart &lt;servicename&gt;\nnssm status &lt;servicename&gt;\n</code></pre>"},{"location":"c04/04-06/","title":"redis cluster","text":""},{"location":"c04/04-06/#redis-cluster-","title":"redis cluster-\u200b\u73af\u5883\u200b\u6784\u5efa","text":"<pre><code>\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b:\nCentOS release 6.5 (Final)\n\n\u200b\u9700\u8981\u200b\u7684\u200b\u7ec4\u4ef6\u200b\uff1a\nredis 3.2.6 (redis-server,redis-trib.rb\uff0credis-cli) , \nruby 2.3.6 (redis-3.3.1\u200b\u5e93\u200b,gem) \u200b\u6784\u5efa\u200bredis cluster\uff0c\n</code></pre>"},{"location":"c04/04-06/#redis-326","title":"redis 3.2.6 \u200b\u5b89\u88c5","text":""},{"location":"c04/04-06/#_1","title":"\u6587\u6863","text":"<pre><code>\u200b\u6587\u6863\u200b\uff1ahttp://redis.io/download\n</code></pre>"},{"location":"c04/04-06/#_2","title":"\u79bb\u7ebf\u200b\u5b89\u88c5","text":"<pre><code>\u200b\u5b89\u88c5\u5305\u200b\u8def\u5f84\u200b\uff1a http://download.redis.io/releases/redis-3.2.6.tar.gz\n$ tar xzf redis-3.2.6.tar.gz\n$ cd redis-3.2.6\n$ make\n$ sudo make PREFIX=/usr/local/redis install\n</code></pre>"},{"location":"c04/04-06/#_3","title":"\u5b9e\u4f8b\u200b\u521b\u5efa\u200b\u5411\u5bfc","text":"<pre><code>$ cd redis-3.2.6/utils\n$ sh install_server.sh\n</code></pre>"},{"location":"c04/04-06/#iptables","title":"iptables\u200b\u914d\u7f6e","text":"<pre><code>sudo iptables -L INPUT --line-numbers\n\n\n# \u200b\u8981\u200b\u5220\u9664\u200b\u4e00\u4e2a\u200bINPUT\u200b\u94fe\u200b\u7684\u200b\u7b2c\u200b3\u200b\u6761\u200b\u89c4\u5219\u200b\niptables -D INPUT 3\n\n# \u200b\u6c38\u4e45\u200b\u4fdd\u5b58\u200b\u4f11\u606f\u200b\nservice iptables save\n\n</code></pre>"},{"location":"c04/04-06/#_4","title":"\u5907\u6ce8","text":"<pre><code># \u200b\u5b9a\u5236\u200b\u5b89\u88c5\u200b\u76ee\u5f55\u200b\n./configure --prefix=/usr/local/tcl/ \n# \u200b\u6e05\u9664\u200b\u6240\u6709\u200b\u751f\u6210\u200b\u7684\u200b\u6587\u4ef6\u200b\nmake distclean\n# \u200b\u6e05\u9664\u200b\u4e4b\u524d\u200b\u7f16\u8bd1\u200b\u7684\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b\u53ca\u200b\u914d\u7f6e\u6587\u4ef6\u200b\nmake clean\n# \u200b\u6839\u636e\u200bMakefile\u200b\u7f16\u8bd1\u200b\u6e90\u4ee3\u7801\u200b\uff0c\u200b\u8fde\u63a5\u200b\uff0c\u200b\u751f\u6210\u200b\u76ee\u6807\u200b\u6587\u4ef6\u200b\uff0c\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b\u3002\nmake\n# \u200b\u5c06\u200b\u7f16\u8bd1\u200b\u6210\u529f\u200b\u7684\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b\u5b89\u88c5\u200b\u5230\u200b\u7cfb\u7edf\u76ee\u5f55\u200b\u4e2d\u200b\uff0c\u200b\u4e00\u822c\u200b\u4e3a\u200b/usr/local/bin\u200b\u76ee\u5f55\u200b\nmake install\n# \u200b\u5378\u8f7d\u200b\nmake uninstall\n</code></pre>"},{"location":"c04/04-06/#ruby-231","title":"ruby 2.3.1 \u200b\u5b89\u88c5","text":""},{"location":"c04/04-06/#_5","title":"\u6587\u6863","text":"<pre><code>\u200b\u6587\u6863\u200b\uff1ahttps://www.ruby-lang.org/en/downloads/\n</code></pre>"},{"location":"c04/04-06/#zlib-1211","title":"\u79bb\u7ebf\u200b\u5b89\u88c5\u200b zlib 1.2.11\uff08\u200b\u4f9d\u8d56\u200b\uff09","text":"<pre><code>\u200b\u5b89\u88c5\u5305\u200b\u9875\u9762\u200b\uff1ahttp://zlib.net\n\u200b\u5b89\u88c5\u5305\u200b\u8def\u5f84\u200b\uff1ahttp://zlib.net/zlib-1.2.11.tar.gz\n\u200b\u5b89\u88c5\u200b\u547d\u4ee4\u200b\uff1a\n$tar -xvzf zlib-1.2.11.tar.gz\n$cd zlib\n$./configure\n$make\n$sudo make install\n</code></pre>"},{"location":"c04/04-06/#ruby-231_1","title":"\u79bb\u7ebf\u200b\u5b89\u88c5\u200b ruby 2.3.1","text":"<pre><code>\u200b\u5b89\u88c5\u5305\u200b\u5730\u5740\u200b\uff1ahttps://cache.ruby-lang.org/pub/ruby/2.3/ruby-2.3.1.tar.gz\n\u200b\u5b89\u88c5\u200b\u547d\u4ee4\u200b\uff1a\n$tar -xvzf ruby-2.3.1.tar.gz\n$cd ruby\n$ ./configure\n$ make\n$ sudo make install\n</code></pre>"},{"location":"c04/04-06/#redis-331","title":"\u79bb\u7ebf\u200b\u5b89\u88c5\u200b redis-3.3.1\u200b\u5e93","text":"<pre><code>\u200b\u5b89\u88c5\u5305\u200b\u9875\u9762\u200b\uff1ahttps://rubygems.org/gems/redis\n\u200b\u5b89\u88c5\u5305\u200b\u8def\u5f84\u200b\uff1ahttps://rubygems.org/downloads/redis-3.3.1.gem\n\u200b\u5b89\u88c5\u200b\u547d\u4ee4\u200b\uff1a\ngem install redis-3.3.1.gem --local\n</code></pre>"},{"location":"c04/04-06/#redis-cluster_1","title":"redis cluster \u200b\u6784\u5efa","text":""},{"location":"c04/04-06/#_6","title":"\u6587\u6863","text":"<pre><code>\u200b\u6587\u6863\u200b\uff1ahttp://redis.io/topics/cluster-tutorial\n</code></pre>"},{"location":"c04/04-06/#_7","title":"\u76ee\u5f55\u200b\u521b\u5efa","text":"<pre><code>mkdir cluster-test\ncd cluster-test\nmkdir 7000 7001 7002 7003 7004 7005\ncd 7000\nnano redis.conf\n# \u200b\u6ce8\u200b\uff1a7000\uff0c7001\uff0c7002\uff0c7003\uff0c7004\uff0c7005\u200b\u6587\u4ef6\u5939\u200b \u200b\u4f9d\u6b21\u200b\u521b\u5efa\u200b\n</code></pre>"},{"location":"c04/04-06/#redisconf","title":"redis.conf \u200b\u6a21\u677f\u200b\uff08\u200b\u6bcf\u4e2a\u200b\u6587\u4ef6\u5939\u200b\u90fd\u200b\u9700\u8981\u200b\u914d\u7f6e\u200b\uff09","text":"<pre><code>port 7000\ncluster-enabled yes\ncluster-config-file nodes.conf\ncluster-node-timeout 5000\nappendonly no\nprotected-mode no\n</code></pre>"},{"location":"c04/04-06/#redis","title":"\u542f\u52a8\u200b redis","text":"<pre><code>cd 7000\nredis-server ./redis.conf \n# \u200b\u6ce8\u200b\uff1a\u200b\u4f9d\u6b21\u200b\u5f00\u542f\u200b 7000\uff0c7001\uff0c7002\uff0c7003\uff0c7004\uff0c7005\uff0c\n\n</code></pre>"},{"location":"c04/04-06/#_8","title":"\u521b\u5efa\u200b\u96c6\u7fa4","text":"<pre><code>redis-trib.rb create --replicas 1 127.0.0.1:7000 127.0.0.1:7001 127.0.0.1:7002 127.0.0.1:7003 127.0.0.1:7004 127.0.0.1:7005\n# \u200b\u6ce8\u200b:\u200b\u751f\u4ea7\u200b\u73af\u5883\u200b\uff0c127.0.0.1 \u200b\u9700\u8981\u200b\u6539\u6210\u200b \u200b\u5bf9\u5e94\u200b\u7684\u200b\u673a\u5668\u200bip\n# redis\u200b\u4e3b\u4ece\u5173\u7cfb\u200b\uff1a7000 \u200b\u548c\u200b 7003\uff0c7001 \u200b\u548c\u200b 7004\uff0c7002\u200b\u548c\u200b7005\uff0c\n</code></pre>"},{"location":"c04/04-06/#_9","title":"\u6d4b\u8bd5\u200b\u914d\u7f6e\u200b\u6210\u529f","text":"<pre><code>$ redis-cli -c -p 7000\nredis 127.0.0.1:7000&gt; set foo bar\n-&gt; Redirected to slot [12182] located at 127.0.0.1:7002\nOK\nredis 127.0.0.1:7002&gt; set hello world\n-&gt; Redirected to slot [866] located at 127.0.0.1:7000\nOK\nredis 127.0.0.1:7000&gt; get foo\n-&gt; Redirected to slot [12182] located at 127.0.0.1:7002\n\"bar\"\nredis 127.0.0.1:7000&gt; get hello\n-&gt; Redirected to slot [866] located at 127.0.0.1:7000\n\"world\"\n</code></pre>"},{"location":"c04/04-07/","title":"redis cluster-\u200b\u573a\u666f\u200b\u6d4b\u8bd5","text":""},{"location":"c04/04-07/#_1","title":"\u6d4b\u8bd5\u200b\u51c6\u5907","text":""},{"location":"c04/04-07/#_2","title":"\u786c\u4ef6\u200b\u8be6\u60c5","text":"<pre><code>* \u200b\u670d\u52a1\u5668\u200b\u8be6\u60c5\u200b\uff1a\u200b\u53cc\u6838\u200b\uff0cCentOS 6.5\n* redis: \u200b\u4e09\u5bf9\u200b\u4e3b\u4ece\u200bredis[(7000,7003),(7001,7004),(7002,7005)]\n</code></pre>"},{"location":"c04/04-07/#_3","title":"\u538b\u6d4b\u200b\u5de5\u5177","text":"<pre><code>* \u200b\u538b\u6d4b\u200b\u547d\u4ee4\u200b\uff1aredis-benchmark\n</code></pre>"},{"location":"c04/04-07/#_4","title":"\u51e0\u79cd\u200b\u5e38\u89c1\u200b\u573a\u666f","text":"<pre><code>* \u200b\u4f7f\u7528\u200bredis-benchmark\u200b\u8fdb\u884c\u200b\u538b\u6d4b\u200b\uff0c\u200b\u67e5\u770b\u200b\u538b\u6d4b\u200b\u7ed3\u679c\u200b\n* \u200b\u538b\u6d4b\u200b\u4e2d\u200b\uff0c\u200b\u4e3b\u4ece\u200b\u5207\u6362\u200b\uff0c\u200b\u662f\u5426\u200b\u5f71\u54cd\u200b\u4e1a\u52a1\u200b\n* \u200b\u538b\u6d4b\u200b\u4e2d\u200b\uff0c\u200b\u91cd\u65b0\u200b\u5206\u7247\u200b\uff0c\u200b\u662f\u5426\u200b\u5f71\u54cd\u200b\u4e1a\u52a1\u200b\n</code></pre>"},{"location":"c04/04-07/#_5","title":"\u7528\u5230\u200b\u7684\u200b\u547d\u4ee4","text":"<ul> <li>\u200b\u91cd\u65b0\u200b\u5206\u7247\u200b</li> </ul> <pre><code>redis-trib.rb reshard &lt;host&gt;:&lt;port&gt;\nredis-trib.rb check 127.0.0.1:7000\nredis-trib.rb fix &lt;host&gt;:&lt;port&gt;\n</code></pre> <ul> <li>\u200b\u538b\u6d4b\u200b 1000\u200b\u5e76\u53d1\u200b\uff0c\u200b\u603b\u6570\u200b\u4e3a\u200b100000</li> </ul> <pre><code>redis-benchmark -h 10.1.249.172 -p 7000 -d 100 -c 1000 -n 100000 -q -t get,set &amp;\n</code></pre> <ul> <li>\u200b\u5ba2\u6237\u7aef\u200b\u8fde\u63a5\u200b</li> </ul> <pre><code>redis-cli -h 10.1.249.172 -p 7000 CLUSTER GETKEYSINSLOT 1179 999\nredis-cli -h 10.1.249.172 -p 7000 CLUSTER KEYSLOT myzset1\nredis-cli -h 10.1.249.172 -p 7004 CLUSTER setslot  1179 stable\nredis-cli -h 127.0.0.1 -p 7003 -c\nredis-cli -h 127.0.0.1 -p 7003 cluster nodes\n</code></pre>"},{"location":"c04/04-07/#_6","title":"\u6d4b\u8bd5\u200b\u7ed3\u679c","text":""},{"location":"c04/04-07/#redis-benchmark","title":"redis-benchmark \u200b\u538b\u6d4b\u200b\u7ed3\u679c","text":"\u538b\u6d4b\u200b\u5b9e\u4f8b\u200b\u6570\u200b \u200b\u8bfb\u200b\uff08GET\uff09 \u200b\u5199\u200b\uff08SET\uff09 1\u200b\u4e2a\u200b\u5b9e\u4f8b\u200b(1000\u200b\u5e76\u53d1\u200b\uff09 38729 37169 2\u200b\u4e2a\u200b\u5b9e\u4f8b\u200b(500\u200b\u5e76\u53d1\u200b\uff09 65653 49382 4\u200b\u4e2a\u200b\u5b9e\u4f8b\u200b(250\u200b\u5e76\u53d1\u200b\uff09 85890 82042"},{"location":"c04/04-07/#_7","title":"\u538b\u6d4b\u200b\u4e2d\u200b\uff0c\u200b\u4e3b\u4ece\u200b\u5207\u6362","text":"<pre><code>\u200b\u6b65\u9aa4\u200b\uff1a\n1. redis-benchmark \u200b\u538b\u6d4b\u200b\u4e2d\u200b\n2. redis\u200b\u4e3b\u4ece\u5173\u7cfb\u200b\uff1a[(7000,7003),(7001,7004),(7002,7005)]\n3. \u200b\u63a7\u5236\u200b\u9875\u9762\u200b\u4e0a\u200b\uff0c \u200b\u505c\u6b62\u200b7000\uff0c7003\u200b\u53d8\u6210\u200bmaster\uff0c\u200b\u7136\u540e\u200b\u8ba9\u200b7000\u200b\u91cd\u65b0\u200b\u8fd0\u884c\u200b\u3002\u200b\u4e3b\u4ece\u5173\u7cfb\u200b\u7531\u200b\u201c7000,7003\u201d \u200b\u53d8\u6210\u200b\u201c7003,7000\u201d \n4. \u200b\u4f7f\u7528\u200bapi\u200b\u8c03\u7528\u200bredis\uff0c\u200b\u8bfb\u200b\u548c\u200b\u5199\u200bkey\u200b\u6b63\u5e38\u200b\n\n\u200b\u7ed3\u679c\u200b\uff1a\n\u200b\u538b\u6d4b\u200b\u4e2d\u200b\uff0c\u200b\u4e3b\u4ece\u200b\u5207\u6362\u200b\uff0c\u200b\u5bf9\u200b\u4e1a\u52a1\u200b\u65e0\u200b\u5f71\u54cd\u200b\n</code></pre>"},{"location":"c04/04-07/#_8","title":"\u538b\u6d4b\u200b\u4e2d\u200b\uff0c\u200b\u91cd\u65b0\u200b\u5206\u7247","text":"<pre><code>\u200b\u6b65\u9aa4\u200b\uff1a\n1. redis-benchmark \u200b\u538b\u6d4b\u200b\u4e2d\u200b\n2. \u200b\u4f7f\u7528\u200bapi\u200b\u5f80\u200b\u4e00\u4e2a\u200bkey\u200b\u4e2d\u200b\uff0c\u200b\u6279\u91cf\u200b\u5199\u200b\u5165\u6d77\u91cf\u200b\u6570\u636e\u200b\n3. \u200b\u4f7f\u7528\u200b redis-trib.rb reshard \u200b\u91cd\u65b0\u200b\u5206\u7247\u200b\uff0c\u200b\u4e3b\u8981\u200b\u79fb\u52a8\u200b\u8be5\u200bkey\u200b\u6240\u5728\u200b\u7684\u200bslot\n4. \u200b\u4f7f\u7528\u200bapi\u200b\u8c03\u7528\u200bredis\uff0c\u200b\u8bfb\u200b\u548c\u200b\u5199\u200bkey\u200b\u6b63\u5e38\u200b\n\n\u200b\u7ed3\u679c\u200b\uff1a\n\u200b\u538b\u6d4b\u200b\u4e2d\u200b\uff0c\u200b\u91cd\u65b0\u200b\u5206\u7247\u200b\uff0c\u200b\u5bf9\u200b\u4e1a\u52a1\u200b\u65e0\u200b\u5f71\u54cd\u200b\n\n\u200b\u6ce8\u610f\u200b\u70b9\u200b\uff1a\n1. \u200b\u91cd\u65b0\u200b\u5206\u7247\u200b\uff0c\u200b\u5982\u679c\u200b\u5355\u4e2a\u200bslot\u200b\u4e2d\u200b\u7684\u200bkey\u200b\u4f53\u79ef\u200b\u592a\u200b\u5927\u200b\uff08\u200b\u5360\u7528\u200b\u5185\u5b58\u200b2GB\u200b\u5de6\u53f3\u200b\uff09\uff0c\u200b\u5f88\u200b\u5bb9\u6613\u200b\u8d85\u65f6\u200b\u5931\u8d25\u200b\u3002\u200b\u53ef\u4ee5\u200b\u7528\u200bredis-trib.rb fix &lt;host&gt;:&lt;port&gt;\u200b\u4fee\u590d\u200b\u3002\n2. \u200b\u91cd\u65b0\u200b\u5206\u7247\u200b\uff0c\u200b\u8d85\u65f6\u200b\u5931\u8d25\u200b\u7684\u8bdd\u200b\uff0c\u200b\u5bf9\u200bredis\u200b\u96c6\u7fa4\u200b\u7684\u200b\u8bfb\u53d6\u200bkey\u200b\u6ca1\u6709\u200b\u5f71\u54cd\u200b\u3002\n</code></pre>"},{"location":"c04/04-09/","title":"confd-\u200b\u8f7b\u91cf\u7ea7\u200b\u914d\u7f6e\u200b\u5de5\u5177","text":""},{"location":"c04/04-09/#_1","title":"\u7b80\u4ecb","text":""},{"location":"c04/04-09/#_2","title":"\u529f\u80fd\u200b\u4ecb\u7ecd","text":"<pre><code>\u200b\u8f7b\u91cf\u7ea7\u200b\u914d\u7f6e\u200b\u5de5\u5177\u200b, \u200b\u6570\u636e\u200b\u540e\u53f0\u200b\u652f\u6301\u200betcd\uff0credis\u200b\u7b49\u7b49\u200b\n</code></pre>"},{"location":"c04/04-09/#_3","title":"\u5feb\u901f\u200b\u6587\u6863","text":"<pre><code>0. Quick Start Guide\nhttps://github.com/kelseyhightower/confd/blob/master/docs/quick-start-guide.md\n1. Command Line Flags\nhttps://github.com/kelseyhightower/confd/blob/master/docs/command-line-flags.md\n</code></pre>"},{"location":"c04/04-09/#confd-v0110","title":"\u79bb\u7ebf\u200b\u5b89\u88c5\u200b confd v0.11.0","text":""},{"location":"c04/04-09/#_4","title":"\u4e0b\u8f7d\u200b\u9875\u9762","text":"<pre><code>1. \u200b\u4e0b\u8f7d\u200b\u9875\u9762\u200b https://github.com/kelseyhightower/confd/releases\n2. \u200b\u6700\u65b0\u200b\u7684\u200b\u7a33\u5b9a\u7248\u200b\uff1av0.11.0\n</code></pre>"},{"location":"c04/04-09/#_5","title":"\u5b89\u88c5","text":"<pre><code># \u200b\u4e0b\u8f7d\u200b\nwget https://github.com/kelseyhightower/confd/releases/download/v0.11.0/confd-0.11.0-linux-amd64\n# \u200b\u590d\u5236\u5230\u200bbin\u200b\u76ee\u5f55\u200b\nsudo cp confd-0.11.0-linux-amd64 /usr/local/bin/confd\n# \u200b\u4fee\u6539\u200b\u6587\u4ef6\u200b\u6743\u9650\u200b\nsudo chmod 751 /usr/local/bin/confd\n# \u200b\u547d\u4ee4\u884c\u200b\u5e2e\u52a9\u200b\nsudo /usr/local/bin/confd -h\n# \u200b\u67e5\u770b\u200b\u7248\u672c\u200b\nsudo /usr/local/bin/confd -version\n</code></pre>"},{"location":"c04/04-09/#confd","title":"confd \u200b\u914d\u7f6e","text":""},{"location":"c04/04-09/#_6","title":"\u521d\u59cb\u5316","text":"<ul> <li>conf.d/myconfig.toml</li> <li>template/myconfig.conf.tmpl</li> <li>confd.toml</li> </ul> <pre><code># \u200b\u521b\u5efa\u200b\u6587\u4ef6\u5939\u200bconfd\uff0c\u200b\u5e76\u200b\u5728\u200b\u4e0b\u9762\u200b\u65b0\u5efa\u200b\u6587\u4ef6\u5939\u200b conf.d\u200b\u548c\u200btemplates\nsudo mkdir -p /etc/confd/{conf.d,templates}\n# \u200b\u521b\u5efa\u200b confd.toml\ncd /etc/confd\nsudo touch confd.toml\n</code></pre>"},{"location":"c04/04-09/#myconfigtoml","title":"myconfig.toml \u200b\u8303\u4f8b","text":""},{"location":"c04/04-09/#_7","title":"\u6587\u6863","text":"<pre><code>https://github.com/kelseyhightower/confd/blob/master/docs/template-resources.md\n</code></pre>"},{"location":"c04/04-09/#_8","title":"\u914d\u7f6e","text":"<p>\u200b\u8def\u5f84\u200b\uff1a/etc/confd/conf.d/myconfig.toml</p> <pre><code>[template]\nsrc = \"myconfig.conf.tmpl\"\ndest = \"/tmp/myconfig.conf\"\nkeys = [\n    \"/myapp/database/url\",\n    \"/myapp/database/user\",\n]\nuid = 0\ngid = 0\nmode = \"0644\"\n</code></pre>"},{"location":"c04/04-09/#myconfigconftmpl","title":"myconfig.conf.tmpl \u200b\u8303\u4f8b","text":""},{"location":"c04/04-09/#_9","title":"\u6587\u6863","text":"<pre><code>https://github.com/kelseyhightower/confd/blob/master/docs/templates.md\n</code></pre>"},{"location":"c04/04-09/#_10","title":"\u914d\u7f6e","text":"<p>\u200b\u8def\u5f84\u200b\uff1a/etc/confd/templates/myconfig.conf.tmpl</p> <pre><code>[myconfig]\ndatabase_url = {{getv \"/myapp/database/url\"}}\ndatabase_user = {{getv \"/myapp/database/user\"}}\n</code></pre>"},{"location":"c04/04-09/#confdtoml","title":"confd.toml \u200b\u8303\u4f8b","text":""},{"location":"c04/04-09/#_11","title":"\u6587\u6863","text":"<pre><code>https://github.com/kelseyhightower/confd/blob/master/docs/configuration-guide.md\n</code></pre>"},{"location":"c04/04-09/#_12","title":"\u914d\u7f6e","text":"<p>\u200b\u8def\u5f84\u200b\uff1a/etc/confd/confd.toml</p> <pre><code>backend = \"etcd\"\nconfdir = \"/etc/confd\"\nlog-level = \"info\"\ninterval = 600\nnodes = [\n \"http://10.1.249.40:2379\",\n]\nnoop = false\nsync-only = false\nwatch = true\n</code></pre>"},{"location":"c04/04-09/#confd_1","title":"confd\u200b\u542f\u52a8","text":"<pre><code># \u200b\u9ed8\u8ba4\u200b\u8bfb\u53d6\u200b\u914d\u7f6e\u200b\uff1a/etc/confd/confd.toml\n/usr/local/bin/confd &gt; /etc/confd/confd.log 2&gt;&amp;1 &amp;\n# \u200b\u81ea\u5b9a\u4e49\u200b\u8bfb\u53d6\u200b\u914d\u7f6e\u200b\n/usr/local/bin/confd -config-file /etc/confd/confd.toml  &gt; /etc/confd/confd.log 2&gt;&amp;1 &amp;\n</code></pre>"},{"location":"c04/04-09/#nginx","title":"nginx \u200b\u914d\u7f6e\u200b\u5b9e\u4f8b","text":""},{"location":"c04/04-09/#_13","title":"\u6587\u4ef6\u200b\u7ed3\u6784","text":""},{"location":"c04/04-09/#confdconfdtoml","title":"confd/confd.toml","text":"<pre><code>backend = \"etcd\"\nconfdir = \"/etc/confd\"\nlog-level = \"debug\"\ninterval = 600\nnodes = [\n \"http://10.1.249.40:2379\",\n]\nnoop = false\nsync-only = false\nwatch = true\n</code></pre>"},{"location":"c04/04-09/#confdconfdmyconfigtoml","title":"confd/conf.d/myconfig.toml","text":"<pre><code>[template]\nsrc = \"myconfig.conf.tmpl\"\ndest = \"/etc/nginx/nginx.conf\"\nkeys = [\n    \"/nginx\",\n]\nuid = 0\ngid = 0\nmode = \"0644\"\n\ncheck_cmd = \"sudo /usr/local/nginx/sbin/nginx -t -c {{.src}}\"\nreload_cmd = \"sudo /usr/local/nginx/sbin/nginx -s reload\"\n</code></pre>"},{"location":"c04/04-09/#confdtemplatesmyconfigconftmpl","title":"confd/templates/myconfig.conf.tmpl","text":"<pre><code>worker_processes {{getv \"/nginx/worker_processes\"}};\n\nevents {\n    worker_connections  1024;\n}\n\n\nhttp {\n    upstream tyk_gateway {\n        ip_hash;\n\n{{range getvs \"/nginx/upstream/*\"}}\n        server {{.}};{{end}}\n\n        check interval=5000 rise=3 fall=3 timeout=4000 type=http;\n        check_http_expect_alive http_2xx http_3xx http_4xx;\n    }\n\n    server {\n    listen {{getv \"/nginx/listen\"}};\n        location / {\n            proxy_pass http://tyk_gateway;\n        }\n        location /status {\n                check_status;\n                access_log   off;\n                allow 0.0.0.0;\n                allow all;\n           }\n    }\n}\n</code></pre>"},{"location":"c04/04-09/#etcd","title":"etcd \u200b\u7ed3\u6784","text":"\u5e8f\u5217\u200b key value 1 /nginx/listen 9001 2 nginx/upstream Directory 2.1 /nginx/upstream/host1 10.1.249.172:8080 2.2 /nginx/upstream/host2 10.1.249.128:8080 3 nginx/worker_processes 1"},{"location":"c04/04-12/","title":"\u6a21\u7248\u200b\u673a\u200b(centos7)","text":"<ul> <li>\u200b\u7ec4\u4ef6\u200b</li> </ul> <pre><code>\u200b\u9700\u8981\u200b\u7684\u200b\u7ec4\u4ef6\u200b\u6709\u200b\uff1a\nCentos7\nJre 1.8\npython 2.7.x\nSupervisord\nPymssql\nlogstash-2.4.0\nNginx\nconfd\n</code></pre> <ul> <li>\u200b\u5b89\u88c5\u200b\u76ee\u5f55\u200b</li> </ul> <pre><code># \u200b\u5b89\u88c5\u200b\u76ee\u5f55\u200b\nJre 1.8: /usr/local/java\npython 2.7.x: \uff08\u200b\u7cfb\u7edf\u200b\u5df2\u200b\u9ed8\u8ba4\u200b\u5b89\u88c5\u200b\uff09\nSupervisord: python 2.7.x\u200b\u7684\u200bpip\u200b\u6a21\u5757\u200b \nPymssql\uff1apython 2.7.x\u200b\u7684\u200bpip\u200b\u6a21\u5757\u200b \nlogstash-2.4.0\uff1a/usr/local/logstash\nNginx\uff1a/usr/local/bin/nginx\nconfd\uff1a/usr/local/bin/confd\n\n# \u200b\u7aef\u53e3\u200b\u5360\u7528\u200b\nSupervisord\uff1a7800\nNginx\uff1a8080\n</code></pre> <ul> <li>\u200b\u68c0\u67e5\u200b\u5b89\u88c5\u200b</li> </ul> <pre><code>java -version\npython -V\nsupervisord -V\ncat /etc/rc.local\npip list | grep pymssql\n/usr/local/logstash/bin/logstash -V\n/usr/local/bin/confd -version\ncat /etc/selinux/config\n</code></pre>"},{"location":"c04/04-12/#linux","title":"linux\u200b\u7248\u672c","text":""},{"location":"c04/04-12/#_1","title":"\u68c0\u67e5\u200b\u7248\u672c","text":"<pre><code>[user@Test0164 ~]$ cat /etc/redhat-release\nCentOS release 7 (Final)\n</code></pre>"},{"location":"c04/04-12/#jre-18","title":"Jre 1.8","text":"<ul> <li>\u200b\u5b89\u88c5\u200b</li> </ul> <pre><code>\u200b\u5b89\u88c5\u200b\u9875\u9762\u200b\uff1ahttp://www.oracle.com/technetwork/java/javase/downloads/index-jsp-138363.html\n\u200b\u5b89\u88c5\u5305\u200b\u8def\u5f84\u200b\uff1a\u200b\u5b89\u88c5\u200b\u9875\u9762\u200b\u6709\u200bjdk-8u111-linux-x64.tar.gz\u200b\u4e0b\u8f7d\u200b\u5730\u5740\u200b\n\u200b\u5b89\u88c5\u200b\u547d\u4ee4\u200b\uff0c\u200b\u89e3\u538b\u200b\u5230\u200b /usr/local/java \uff1a\ntar -xvzf jdk-8u111-linux-x64.tar.gz\n</code></pre> <ul> <li>\u200b\u4fee\u6539\u200b\u73af\u5883\u53d8\u91cf\u200b\u6587\u4ef6\u200b\uff0c vim /etc/profile :</li> </ul> <pre><code>export JAVA_HOME=/usr/local/java\nexport CLASSPATH=.:$JAVA_HOME/jre/lib/rt.jar:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar\nexport PATH=$PATH:$JAVA_HOME/bin\n</code></pre> <ul> <li>\u200b\u73af\u5883\u53d8\u91cf\u200b\u751f\u6548\u200b</li> </ul> <pre><code>source /etc/profile\n</code></pre> <ul> <li>\u200b\u4fee\u6539\u200b/usr/bin\u200b\u7684\u200b\u8f6f\u200b\u94fe\u63a5\u200b</li> </ul> <pre><code>sudo rm -rf /usr/bin/java\nsudo ln -s /usr/local/java/bin/java  /usr/bin/java\n</code></pre>"},{"location":"c04/04-12/#python-27x","title":"python 2.7.x \uff08\u200b\u7cfb\u7edf\u200b\u5df2\u200b\u9ed8\u8ba4\u200b\u5b89\u88c5\u200b\uff09","text":"<ul> <li>\u200b\u5b89\u88c5\u200b Development tools</li> </ul> <pre><code>yum group list\nyum groupinstall \"Development tools\" -y\n</code></pre> <ul> <li>\u200b\u914d\u7f6e\u200byum\u200b\u4ee3\u7406\u200b</li> </ul> <pre><code>echo \"proxy=http://yourproxy:8080\" &gt;&gt; /etc/yum.conf\n</code></pre> <ul> <li>\u200b\u914d\u7f6e\u200bpip\u200b\u6e90\u200b</li> </ul> <pre><code>vi ~/.pip/pip.conf\n\n[global]\nindex-url = http://pypi.douban.com/simple\ntrusted-host = pypi.douban.com\n</code></pre>"},{"location":"c04/04-12/#supervisord","title":"Supervisord","text":"<ul> <li>\u200b\u5b89\u88c5\u200b</li> </ul> <pre><code>pip install supervisor\n</code></pre> <ul> <li>\u200b\u521b\u5efa\u200b\u914d\u7f6e\u200b</li> </ul> <pre><code>echo_supervisord_conf &gt; /etc/supervisord.conf\n</code></pre> <ul> <li>\u200b\u4fee\u6539\u200b\u914d\u7f6e\u200b</li> </ul> <pre><code># \u200b\u4fee\u6539\u200b\u8282\u70b9\u200b(chown\u200b\u4fee\u6539\u200b\u4e3a\u200b\u5f53\u524d\u200b\u7528\u6237\u200b):\n[unix_http_server]\nchmod=0700                 ; socket file mode (default 0700)\nchown=user:user       ; socket file uid:gid owner\n\n# \u200b\u4fee\u6539\u200b\u8282\u70b9\u200b\uff08web\u200b\u7ba1\u7406\u200b\u9875\u9762\u200b):\n[inet_http_server]         ; inet (TCP) server disabled by default\nport=0.0.0.0:7800        ; (ip_address:port specifier, *:port for all iface)\nusername=user              ; (default is no username (open server))\npassword=123               ; (default is no password (open server))\n\n# \u200b\u4fee\u6539\u200b\u8282\u70b9\u200b\uff08\u200b\u6dfb\u52a0\u200b\u9879\u76ee\u200b\u914d\u7f6e\u200b\u8def\u5f84\u200b\uff0c\u200b\u652f\u6301\u200b*\u200b\u901a\u914d\u7b26\u200b\uff09\uff1a\n[include]\nfiles = /etc/supervisor/conf/*.conf\n</code></pre> <ul> <li>\u200b\u9879\u76ee\u200b\u914d\u7f6e\u200b app-*.conf(\u200b\u8303\u4f8b\u200b) (\u200b\u8def\u5f84\u200b\uff1a/etc/supervisor/conf/)</li> </ul> <pre><code>[program:redis-7000]\ncommand=redis-server  /home/user/cluster-test/7000/redis.conf    ; supervisor\u200b\u542f\u52a8\u200b\u547d\u4ee4\u200b\ndirectory=/home/user/cluster-test/7000/                                                ; \u200b\u9879\u76ee\u200b\u7684\u200b\u6587\u4ef6\u5939\u200b\u8def\u5f84\u200b\nstartsecs=0                                                                             ; \u200b\u542f\u52a8\u200b\u65f6\u95f4\u200b\nstopwaitsecs=0                                                                          ; \u200b\u7ec8\u6b62\u200b\u7b49\u5f85\u65f6\u95f4\u200b\nautostart=true                                                                         ; \u200b\u662f\u5426\u200b\u81ea\u52a8\u200b\u542f\u52a8\u200b\nautorestart=true                                                                       ; \u200b\u662f\u5426\u200b\u81ea\u52a8\u200b\u91cd\u542f\u200b\nstdout_logfile=/home/user/conf/log/redis-7000.log                       ; log \u200b\u65e5\u5fd7\u200b\nstderr_logfile=/home/user/conf/log/redis-7000.err\n</code></pre> <ul> <li>\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b\u5f00\u673a\u200b\u542f\u52a8\u200b</li> </ul> <pre><code>\u200b\u4fee\u6539\u200b /etc/rc.local,\u200b\u672b\u5c3e\u200b\u6dfb\u52a0\u200b\u4e00\u884c\u200b\uff1a\n/usr/local/bin/supervisord\n\n\u200b\u7136\u540e\u200b\u4fee\u6539\u200b\u6743\u9650\u200b\uff1a\nchmod +x /etc/rc.d/rc.local\n</code></pre>"},{"location":"c04/04-12/#pymssql","title":"Pymssql","text":"<ul> <li>\u200b\u5b89\u88c5\u200b</li> </ul> <pre><code>pip install pymssql\n</code></pre>"},{"location":"c04/04-12/#logstash-240","title":"logstash-2.4.0","text":"<ul> <li>\u200b\u5b89\u88c5\u200b\u6587\u6863\u200b</li> </ul> <pre><code>\u200b\u5b89\u88c5\u200b\u9875\u9762\u200b\uff1ahttps://www.elastic.co/downloads/logstash\n\u200b\u5b89\u88c5\u5305\u200b\u8def\u5f84\u200b\uff1a\u200b\u5b89\u88c5\u200b\u9875\u9762\u200b\u6709\u200blogstash-2.4.tar\u200b\u4e0b\u8f7d\u200b\u5730\u5740\u200b\n</code></pre> <ul> <li>\u200b\u5b89\u88c5\u200b</li> </ul> <pre><code># \u200b\u5b89\u88c5\u200b\u8def\u5f84\u200b\uff1a/usr/local/logstash\n# \u200b\u5b89\u88c5\u200b\u547d\u4ee4\u200b\uff0c\u200b\u89e3\u538b\u200b\u5e76\u200b\u5b89\u88c5\u200b\uff1a\ntar -xvf logstash-2.4.tar\n</code></pre>"},{"location":"c04/04-12/#nginx-110","title":"nginx 1.10","text":"<ul> <li>\u200b\u6587\u6863\u200b</li> </ul> <pre><code>http://nginx.org/en/docs/\n</code></pre> <ul> <li>\u200b\u5b89\u88c5\u200b</li> </ul> <pre><code>yum install epel-release -y\nyum repolist\nyum install nginx -y\n</code></pre> <ul> <li>\u200b\u68c0\u67e5\u200b\u7248\u672c\u200b</li> </ul> <pre><code>\u200b\u914d\u7f6e\u200b\u6587\u4ef6\u76ee\u5f55\u200b\uff1a\n/etc/nginx/\n\n\u200b\u7248\u672c\u200b\u68c0\u67e5\u200b:\nnginx -V\n</code></pre>"},{"location":"c04/04-12/#confd-v0110","title":"confd v0.11.0","text":"<ul> <li>\u200b\u4e0b\u8f7d\u200b</li> </ul> <pre><code>wget https://github.com/kelseyhightower/confd/releases/download/v0.11.0/confd-0.11.0-linux-amd64\n</code></pre> <ul> <li>\u200b\u5b89\u88c5\u200b</li> </ul> <pre><code># \u200b\u590d\u5236\u5230\u200bbin\u200b\u76ee\u5f55\u200b\nsudo cp confd-0.11.0-linux-amd64 /usr/local/bin/confd\n\n# \u200b\u4fee\u6539\u200b\u6587\u4ef6\u200b\u6743\u9650\u200b\nsudo chmod 755 /usr/local/bin/confd\n\n# \u200b\u4fee\u6539\u200b\u6587\u4ef6\u200b\u6240\u6709\u200b\nsudo chown user:user /usr/local/bin/confd\n\n# \u200b\u547d\u4ee4\u884c\u200b\u5e2e\u52a9\u200b\n /usr/local/bin/confd -h\n</code></pre> <ul> <li>\u200b\u67e5\u770b\u200b\u7248\u672c\u200b</li> </ul> <pre><code>/usr/local/bin/confd -version\n</code></pre>"},{"location":"c04/04-12/#telnet","title":"telnet","text":"<pre><code>\u200b\u5b89\u88c5\u200b\nyum install epel-release -y\nyum install telnet\n\n\u200b\u5c1d\u8bd5\u200b\ntelnet 127.0.0.1 80\n</code></pre>"},{"location":"c04/04-12/#firewall","title":"firewall \u200b\u9632\u706b\u5899","text":"<pre><code>\u200b\u65b0\u589e\u200b\u7aef\u53e3\u200b\uff1a\nfirewall-cmd --zone=public --add-port=22/tcp --permanent\nfirewall-cmd --zone=public --add-port=80/tcp --permanent\n\n\u200b\u7136\u540e\u200b\u4fdd\u5b58\u200b\uff1a\nfirewall-cmd --reload\n\n\u200b\u67e5\u770b\u200b\u5217\u8868\u200b\uff1a\nfirewall-cmd --list-all\n\n\u200b\u5173\u95ed\u200bfirewall\nsystemctl stop firewalld\nsystemctl disable firewalld\n</code></pre>"},{"location":"c04/04-12/#selinux","title":"\u5173\u95ed\u200b selinux","text":"<pre><code>1. \u200b\u6c38\u4e45\u200b\u6709\u6548\u200b\n\u200b\u4fee\u6539\u200b /etc/selinux/config \u200b\u6587\u4ef6\u200b\u4e2d\u200b\u7684\u200b SELINUX=\"\" \u200b\u4e3a\u200b disabled \uff0c\u200b\u7136\u540e\u200b\u91cd\u542f\u200b\u3002\n2. \u200b\u5373\u65f6\u200b\u751f\u6548\u200b\nsetenforce 0\n</code></pre>"},{"location":"c04/04-13/","title":"\u6a21\u7248\u200b\u673a","text":"<ul> <li>\u200b\u7ec4\u4ef6\u200b</li> </ul> <pre><code>\u200b\u9700\u8981\u200b\u7684\u200b\u7ec4\u4ef6\u200b\u6709\u200b\uff1a\nCentos6.5\nJre 1.8\npython 2.7.x\nSupervisord\nPymssql\nlogstash-2.4.0\nNginx\nconfd\n</code></pre> <ul> <li>\u200b\u5b89\u88c5\u200b\u76ee\u5f55\u200b</li> </ul> <pre><code># \u200b\u5b89\u88c5\u200b\u76ee\u5f55\u200b\nJre 1.8: /usr/local/java\npython 2.7.x: /usr/local\nSupervisord: python 2.7.x\u200b\u7684\u200bpip\u200b\u6a21\u5757\u200b \nPymssql\uff1apython 2.7.x\u200b\u7684\u200bpip\u200b\u6a21\u5757\u200b \nlogstash-2.4.0\uff1a/usr/local/logstash\nNginx\uff1a/usr/local/nginx\nconfd\uff1a/usr/local/bin/confd\n\n# \u200b\u7aef\u53e3\u200b\u5360\u7528\u200b\nSupervisord\uff1a7800\nNginx\uff1a8080\n</code></pre> <ul> <li>\u200b\u68c0\u67e5\u200b\u5b89\u88c5\u200b</li> </ul> <pre><code>java -version\npython -V\nsupervisord -V\ncat /etc/rc.local\npip list | grep pymssql\n/usr/local/logstash/bin/logstash -V\n/usr/local/bin/confd -version\ncat /etc/selinux/config\n</code></pre>"},{"location":"c04/04-13/#linux","title":"linux\u200b\u7248\u672c","text":""},{"location":"c04/04-13/#_2","title":"\u68c0\u67e5\u200b\u7248\u672c","text":"<pre><code>[user@Test0164 ~]$ cat /etc/redhat-release\nCentOS release 6.5 (Final)\n</code></pre>"},{"location":"c04/04-13/#jre-18","title":"Jre 1.8","text":"<ul> <li>\u200b\u5b89\u88c5\u200b</li> </ul> <pre><code>\u200b\u5b89\u88c5\u200b\u9875\u9762\u200b\uff1ahttp://www.oracle.com/technetwork/java/javase/downloads/index-jsp-138363.html\n\u200b\u5b89\u88c5\u5305\u200b\u8def\u5f84\u200b\uff1a\u200b\u5b89\u88c5\u200b\u9875\u9762\u200b\u6709\u200bjdk-8u111-linux-x64.tar.gz\u200b\u4e0b\u8f7d\u200b\u5730\u5740\u200b\n\u200b\u5b89\u88c5\u200b\u547d\u4ee4\u200b\uff0c\u200b\u89e3\u538b\u200b\u5230\u200b /usr/local/java \uff1a\ntar -xvzf jdk-8u111-linux-x64.tar.gz\n</code></pre> <ul> <li>\u200b\u4fee\u6539\u200b\u73af\u5883\u53d8\u91cf\u200b\u6587\u4ef6\u200b\uff0c vim /etc/profile :</li> </ul> <pre><code>export JAVA_HOME=/usr/local/java\nexport CLASSPATH=.:$JAVA_HOME/jre/lib/rt.jar:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar\nexport PATH=$PATH:$JAVA_HOME/bin\n</code></pre> <ul> <li>\u200b\u73af\u5883\u53d8\u91cf\u200b\u751f\u6548\u200b</li> </ul> <pre><code>source /etc/profile\n</code></pre> <ul> <li>\u200b\u4fee\u6539\u200b/usr/bin\u200b\u7684\u200b\u8f6f\u200b\u94fe\u63a5\u200b</li> </ul> <pre><code>sudo rm -rf /usr/bin/java\nsudo ln -s /usr/local/java/bin/java  /usr/bin/java\n</code></pre>"},{"location":"c04/04-13/#python-27x","title":"python 2.7.x","text":"<ul> <li>\u200b\u5b89\u88c5\u200b\u76f8\u5173\u200b\u7684\u200b\u4f9d\u8d56\u200b</li> </ul> <pre><code>yum group list\nyum groupinstall \"Development tools\" -y\nyum install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel -y\n</code></pre> <ul> <li>\u200b\u5b89\u88c5\u200b\u8be6\u60c5\u200b</li> </ul> <pre><code>1. \u200b\u5b89\u88c5\u200b\u9875\u9762\u200b\uff1ahttps://www.python.org/downloads/release/python-2713/\n\n2. \u200b\u89e3\u538b\u200b\u7f16\u8bd1\u200b\u5b89\u88c5\u200b\ntar -xvzf Python-2.7.13.tgz\ncd Python-2.7.13\n./configure --prefix=/usr/local --enable-shared\nmake\nmake altinstall\necho \"/usr/local/lib\" &gt; /etc/ld.so.conf.d/pyton.conf\nldconfig\n\n3. \u200b\u4fee\u6539\u200b/usr/bin\u200b\u7684\u200b\u8f6f\u200b\u94fe\u63a5\u200b\nsudo rm -rf /usr/bin/python\nsudo ln -s /usr/local/bin/python2.7 /usr/bin/python\n\n4. \u200b\u6d4b\u8bd5\u200b\u662f\u5426\u200b\u4fee\u6539\u200b\u6210\u529f\u200b\npython -V\n</code></pre> <ul> <li>\u200b\u5b89\u88c5\u200b setuptools</li> </ul> <pre><code>1. \u200b\u4e0b\u8f7d\u200b\u5730\u5740\u200b\uff1ahttps://pypi.python.org/pypi/setuptools\n2. \u200b\u5b89\u88c5\u5305\u200b\u8def\u5f84\u200b\uff1a\u200b\u5b89\u88c5\u200b\u9875\u9762\u200b\u6709\u200bsetuptools-32.3.1.zip\u200b\u4e0b\u8f7d\u200b\u5730\u5740\u200b\n3. \u200b\u89e3\u538b\u200b\uff1a\nunzip setuptools-32.3.1.zip\ncd setuptools-32.3.1\npython setup.py install\n</code></pre> <ul> <li>\u200b\u5b89\u88c5\u200b PIP</li> </ul> <pre><code>1. \u200b\u4e0b\u8f7d\u200b\u5730\u5740\u200b\uff1ahttps://pypi.python.org/pypi/pip\n2. \u200b\u5b89\u88c5\u5305\u200b\u8def\u5f84\u200b\uff1a\u200b\u5b89\u88c5\u200b\u9875\u9762\u200b\u6709\u200bpip-9.0.1.tar.gz\u200b\u4e0b\u8f7d\u200b\u5730\u5740\u200b\n3. \u200b\u89e3\u538b\u200b\uff1a\ntar -xvzf pip-9.0.1.tar.gz\ncd pip-9.0.1\npython setup.py install\n</code></pre> <ul> <li>\u200b\u4fee\u590d\u200b yum \u200b\u5de5\u5177\u200b</li> </ul> <pre><code>[user@Test0164 bin]$ which yum\n/usr/bin/yum\n[user@Test0164 bin]$ sudo vi /usr/bin/yum\n\n#\u200b\u4fee\u6539\u200b yum\u200b\u4e2d\u200b\u7684\u200bpython \n\u200b\u5c06\u200b\u7b2c\u4e00\u884c\u200b  #!/usr/bin/python  \u200b\u6539\u4e3a\u200b #!/usr/bin/python2.6\n</code></pre> <ul> <li>\u200b\u914d\u7f6e\u200byum\u200b\u4ee3\u7406\u200b</li> </ul> <pre><code>echo \"proxy=http://yourproxy:8080\" &gt;&gt; /etc/yum.conf\n</code></pre>"},{"location":"c04/04-13/#supervisord","title":"Supervisord","text":"<ul> <li>\u200b\u79bb\u7ebf\u200b\u5b89\u88c5\u200b meld3-1.0.1\uff08\u200b\u4f9d\u8d56\u200b\u5e93\u200b\uff09</li> </ul> <pre><code>\u200b\u5b89\u88c5\u200b\u9875\u9762\u200b\uff1ahttps://pypi.python.org/pypi/meld3\n\u200b\u5b89\u88c5\u5305\u200b\u8def\u5f84\u200b\uff1a\u200b\u9875\u9762\u200b\u6709\u200bmeld3-1.0.1.tar.gz\u200b\u4e0b\u8f7d\u200b\u5730\u5740\u200b\n\u200b\u5b89\u88c5\u200b\u547d\u4ee4\u200b\uff1a\ntar -xvzf meld3-1.0.1.tar.gz\ncd meld3\npython setup.py install\n</code></pre> <ul> <li>\u200b\u5b89\u88c5\u200b</li> </ul> <pre><code>\u200b\u5b89\u88c5\u200b\u9875\u9762\u200b\uff1ahttps://pypi.python.org/pypi/supervisor\n\u200b\u5b89\u88c5\u5305\u200b\u8def\u5f84\u200b\uff1a\u200b\u5b89\u88c5\u200b\u9875\u9762\u200b\u6709\u200bsupervisor-3.3.1.tar.gz\u200b\u4e0b\u8f7d\u200b\u5730\u5740\u200b\n\u200b\u5b89\u88c5\u200b\u547d\u4ee4\u200b\uff0c\u200b\u89e3\u538b\u200b\u5e76\u200b\u5b89\u88c5\u200b\uff1a\ntar -xvzf supervisor-3.3.1.tar.gz\ncd supervisor-3.3.1\npython setup.py install\n</code></pre> <ul> <li>\u200b\u521b\u5efa\u200b\u914d\u7f6e\u200b</li> </ul> <pre><code>echo_supervisord_conf &gt; /etc/supervisord.conf\n</code></pre> <ul> <li>\u200b\u4fee\u6539\u200b\u914d\u7f6e\u200b</li> </ul> <pre><code># \u200b\u4fee\u6539\u200b\u8282\u70b9\u200b(chown\u200b\u4fee\u6539\u200b\u4e3a\u200b\u5f53\u524d\u200b\u7528\u6237\u200b):\n[unix_http_server]\nchmod=0700                 ; socket file mode (default 0700)\nchown=user:user       ; socket file uid:gid owner\n\n# \u200b\u4fee\u6539\u200b\u8282\u70b9\u200b\uff08web\u200b\u7ba1\u7406\u200b\u9875\u9762\u200b):\n[inet_http_server]         ; inet (TCP) server disabled by default\nport=0.0.0.0:7800        ; (ip_address:port specifier, *:port for all iface)\nusername=user              ; (default is no username (open server))\npassword=123               ; (default is no password (open server))\n\n# \u200b\u4fee\u6539\u200b\u8282\u70b9\u200b\uff08\u200b\u6dfb\u52a0\u200b\u9879\u76ee\u200b\u914d\u7f6e\u200b\u8def\u5f84\u200b\uff0c\u200b\u652f\u6301\u200b*\u200b\u901a\u914d\u7b26\u200b\uff09\uff1a\n[include]\nfiles = /etc/supervisor/conf/*.conf\n</code></pre> <ul> <li>\u200b\u9879\u76ee\u200b\u914d\u7f6e\u200b app-*.conf(\u200b\u8303\u4f8b\u200b)</li> </ul> <pre><code>[program:redis-7000]\ncommand=redis-server  /home/user/cluster-test/7000/redis.conf    ; supervisor\u200b\u542f\u52a8\u200b\u547d\u4ee4\u200b\ndirectory=/home/user/cluster-test/7000/                                                ; \u200b\u9879\u76ee\u200b\u7684\u200b\u6587\u4ef6\u5939\u200b\u8def\u5f84\u200b\nstartsecs=0                                                                             ; \u200b\u542f\u52a8\u200b\u65f6\u95f4\u200b\nstopwaitsecs=0                                                                          ; \u200b\u7ec8\u6b62\u200b\u7b49\u5f85\u65f6\u95f4\u200b\nautostart=true                                                                         ; \u200b\u662f\u5426\u200b\u81ea\u52a8\u200b\u542f\u52a8\u200b\nautorestart=true                                                                       ; \u200b\u662f\u5426\u200b\u81ea\u52a8\u200b\u91cd\u542f\u200b\nstdout_logfile=/home/user/conf/log/redis-7000.log                       ; log \u200b\u65e5\u5fd7\u200b\nstderr_logfile=/home/user/conf/log/redis-7000.err\n</code></pre> <ul> <li>\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b\u5f00\u673a\u200b\u542f\u52a8\u200b</li> </ul> <pre><code>\u200b\u4fee\u6539\u200b /etc/rc.local,\u200b\u672b\u5c3e\u200b\u6dfb\u52a0\u200b\u4e00\u884c\u200b\uff1a\n/usr/local/bin/supervisord\n</code></pre>"},{"location":"c04/04-13/#pymssql","title":"Pymssql","text":"<ul> <li>\u200b\u5b89\u88c5\u200bsetuptools-git\uff08\u200b\u4f9d\u8d56\u200b\uff09</li> </ul> <pre><code>\u200b\u5b89\u88c5\u200b\u9875\u9762\u200b\uff1ahttps://pypi.python.org/pypi/setuptools-git\n\u200b\u5b89\u88c5\u5305\u200b\u8def\u5f84\u200b\uff1a\u200b\u5b89\u88c5\u200b\u9875\u9762\u200b\u6709\u200bsetuptools-git-1.1.tar.gz\u200b\u4e0b\u8f7d\u200b\u5730\u5740\u200b\n\u200b\u5b89\u88c5\u200b\u547d\u4ee4\u200b\uff0c\u200b\u89e3\u538b\u200b\u5e76\u200b\u5b89\u88c5\u200b\uff1a\ntar -xvzf setuptools-git-1.1.tar.gz\ncd setuptools-git-1.1\npython setup.py install\n</code></pre> <ul> <li>\u200b\u5b89\u88c5\u200bfreetds\uff08\u200b\u4f9d\u8d56\u200b\uff09</li> </ul> <pre><code>\u200b\u6587\u6863\u200b\uff1ahttp://pymssql.org/en/latest/freetds.html\n\u200b\u5b89\u88c5\u200b\u9875\u9762\u200b\uff1aftp://ftp.freetds.org/pub/freetds/stable/freetds-patched.tar.gz\n\u200b\u5b89\u88c5\u5305\u200b\u8def\u5f84\u200b\uff1a\u200b\u5b89\u88c5\u200b\u9875\u9762\u200b\u6709\u200bfreetds-patched.tar.gz\u200b\u4e0b\u8f7d\u200b\u5730\u5740\u200b\n\u200b\u5b89\u88c5\u200b\u547d\u4ee4\u200b\uff0c\u200b\u89e3\u538b\u200b\u5e76\u200b\u5b89\u88c5\u200b\uff1a\ntar -xvzf freetds-patched.tar.gz\ncd freetds-1.00.24\n./configure --prefix=/usr/local\nmake\nmake install\n</code></pre> <ul> <li>\u200b\u5b89\u88c5\u200b</li> </ul> <pre><code>\u200b\u5b89\u88c5\u200b\u9875\u9762\u200b\uff1ahttps://pypi.python.org/pypi/pymssql/2.1.3\n\u200b\u5b89\u88c5\u5305\u200b\u8def\u5f84\u200b\uff1a\u200b\u5b89\u88c5\u200b\u9875\u9762\u200b\u6709\u200bpymssql-2.1.3.tar.gz\u200b\u4e0b\u8f7d\u200b\u5730\u5740\u200b\n\u200b\u5b89\u88c5\u200b\u547d\u4ee4\u200b\uff0c\u200b\u89e3\u538b\u200b\u5e76\u200b\u5b89\u88c5\u200b\uff1a\nexport PYMSSQL_BUILD_WITH_BUNDLED_FREETDS=1\ntar -xvzf pymssql-2.1.3.tar.gz\ncd pymssql-2.1.3\npython setup.py install\n</code></pre>"},{"location":"c04/04-13/#logstash-240","title":"logstash-2.4.0","text":"<ul> <li>\u200b\u5b89\u88c5\u200b\u6587\u6863\u200b</li> </ul> <pre><code>\u200b\u5b89\u88c5\u200b\u9875\u9762\u200b\uff1ahttps://www.elastic.co/downloads/logstash\n\u200b\u5b89\u88c5\u5305\u200b\u8def\u5f84\u200b\uff1a\u200b\u5b89\u88c5\u200b\u9875\u9762\u200b\u6709\u200blogstash-2.4.tar\u200b\u4e0b\u8f7d\u200b\u5730\u5740\u200b\n</code></pre> <ul> <li>\u200b\u5b89\u88c5\u200b</li> </ul> <pre><code># \u200b\u5b89\u88c5\u200b\u8def\u5f84\u200b\uff1a/usr/local/logstash\n# \u200b\u5b89\u88c5\u200b\u547d\u4ee4\u200b\uff0c\u200b\u89e3\u538b\u200b\u5e76\u200b\u5b89\u88c5\u200b\uff1a\ntar -xvf logstash-2.4.tar\n</code></pre>"},{"location":"c04/04-13/#nginx-1102","title":"nginx 1.10.2 \u200b\u79bb\u7ebf\u200b\u5b89\u88c5","text":"<ul> <li>\u200b\u6587\u6863\u200b</li> </ul> <pre><code>http://nginx.org/en/docs/\n</code></pre> <ul> <li>pcre-8.39(\u200b\u4f9d\u8d56\u200b)</li> </ul> <pre><code>wget ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.39.tar.gz\ntar -xvzf pcre-8.39.tar.gz\ncd pcre\n./configure\nmake\nmake install \n</code></pre> <ul> <li>openssl-1.1.0c(\u200b\u4f9d\u8d56\u200b)</li> </ul> <pre><code>wget https://www.openssl.org/source/openssl-1.1.0c.tar.gz\ntar -xvzf openssl-1.1.0c.tar.gz\ncd openssl\n./configure\nmake\nmake install \n</code></pre> <ul> <li>\u200b\u5b89\u88c5\u200b\u8def\u5f84\u200b\uff1a/usr/local/nginx</li> </ul> <pre><code>wget http://nginx.org/download/nginx-1.10.2.tar.gz\ntar xzf nginx-1.10.2.tar.gz\ncd nginx\n./configure --prefix=/usr/local/nginx --with-http_ssl_module\nmake\nmake install\n</code></pre> <ul> <li>\u200b\u68c0\u67e5\u200b\u7248\u672c\u200b</li> </ul> <pre><code>ln -s /usr/local/lib/libpcre.so.1 /lib64\nln -s /usr/local/lib64/libssl.so.1.1 /lib64\nln -s /usr/local/lib64/libcrypto.so.1.1 /lib64\n\n/usr/local/nginx/sbin/nginx -V\n</code></pre>"},{"location":"c04/04-13/#confd-v0110","title":"confd v0.11.0","text":"<ul> <li>\u200b\u4e0b\u8f7d\u200b</li> </ul> <pre><code>wget https://github.com/kelseyhightower/confd/releases/download/v0.11.0/confd-0.11.0-linux-amd64\n</code></pre> <ul> <li>\u200b\u5b89\u88c5\u200b</li> </ul> <pre><code># \u200b\u590d\u5236\u5230\u200bbin\u200b\u76ee\u5f55\u200b\nsudo cp confd-0.11.0-linux-amd64 /usr/local/bin/confd\n\n# \u200b\u4fee\u6539\u200b\u6587\u4ef6\u200b\u6743\u9650\u200b\nsudo chmod 755 /usr/local/bin/confd\n\n# \u200b\u4fee\u6539\u200b\u6587\u4ef6\u200b\u6240\u6709\u200b\nsudo chown user:user /usr/local/bin/confd\n\n# \u200b\u547d\u4ee4\u884c\u200b\u5e2e\u52a9\u200b\n /usr/local/bin/confd -h\n</code></pre> <ul> <li>\u200b\u67e5\u770b\u200b\u7248\u672c\u200b</li> </ul> <pre><code>/usr/local/bin/confd -version\n</code></pre>"},{"location":"c04/04-13/#telnet","title":"telnet","text":"<pre><code>\u200b\u5b89\u88c5\u200b\nyum install epel-release -y\nyum install telnet\n\n\u200b\u5c1d\u8bd5\u200b\ntelnet 127.0.0.1 80\n</code></pre>"},{"location":"c04/04-13/#iptables","title":"iptables \u200b\u9632\u706b\u5899","text":"<p>\u200b\u53c2\u8003\u200b\u6587\u6863\u200b</p> <pre><code>\u200b\u65b0\u589e\u200b\u7aef\u53e3\u200b\n#sudo /sbin/iptables -I INPUT -p tcp --dport 80 -j ACCEPT\n#sudo /sbin/iptables -I INPUT -p tcp --dport 22 -j ACCEPT\n#sudo /sbin/iptables -I INPUT -p tcp --dport 3306 -j ACCEPT\n#sudo /sbin/iptables -I INPUT -p tcp --dport 8080 -j ACCEPT\n\n\u200b\u7136\u540e\u200b\u4fdd\u5b58\u200b\uff1a\n#sudo /etc/init.d/iptables save\n\n\u200b\u67e5\u770b\u200b\u6253\u5f00\u200b\u7684\u200b\u7aef\u53e3\u200b\uff1a\n#sudo /etc/init.d/iptables status\n\niptables\u200b\u4fdd\u5b58\u200b\u6587\u4ef6\u200b\n#sudo nano /etc/sysconfig/iptables\n</code></pre>"},{"location":"c04/04-14/","title":"SSH \u200b\u5bc6\u94a5\u200b\u5bf9","text":""},{"location":"c04/04-14/#ssh_1","title":"Ssh\u200b\u5bc6\u94a5\u200b\u5bf9","text":"<ul> <li>linux\u200b\u5ba2\u6237\u7aef\u200b\u4e0b\u200b\u751f\u6210\u200b\u79c1\u94a5\u200b\u548c\u200b\u516c\u94a5\u200b\uff0c\u200b\u5728\u200b~/.ssh\u200b\u4e0b\u9762\u200b\u751f\u6210\u200b\u79c1\u94a5\u200b (id_rsa) \u200b\u4e0e\u200b\u516c\u94a5\u200b (id_rsa.pub)</li> </ul> <pre><code>ssh-keygen -t rsa \n\u200b\u5907\u6ce8\u200b\uff1a\u200b\u79c1\u94a5\u200b\u7684\u200b\u5bc6\u7801\u200b\uff08passphrase\uff09\u200b\u4e0d\u200b\u5efa\u8bae\u200b\u4e3a\u200b\u76f4\u63a5\u200b\u56de\u8f66\u200b\uff0c\u200b\u5efa\u8bae\u200b\u8bbe\u7f6e\u200b\u4e2a\u200b\u5bc6\u7801\u200b\n</code></pre> <ul> <li>\u200b\u670d\u52a1\u5668\u7aef\u200b\u914d\u7f6e\u200b, vim /etc/ssh/sshd_config\uff0c\u200b\u4ee5\u4e0b\u200b\u53c2\u6570\u200b\u9700\u8981\u200b\u4fee\u6539\u200b\u4e0b\u200b\uff1a</li> </ul> <pre><code># \u200b\u662f\u5426\u200b\u8ba9\u200b sshd \u200b\u53bb\u200b\u68c0\u67e5\u7528\u6237\u200b\u5bb6\u200b\u76ee\u5f55\u200b\u6216\u200b\u76f8\u5173\u200b\u6863\u6848\u200b\u7684\u200b\u6743\u9650\u200b\u6570\u636e\u200b\nStrictModes no\n\n# \u200b\u662f\u5426\u200b\u5141\u8bb8\u200b\u7528\u6237\u200b\u81ea\u884c\u200b\u4f7f\u7528\u200b\u6210\u5bf9\u200b\u7684\u200b\u5bc6\u94a5\u200b\u7cfb\u7edf\u200b\u8fdb\u884c\u200b\u767b\u5165\u200b\u884c\u4e3a\u200b\uff0c\u200b\u4ec5\u200b\u9488\u5bf9\u200b version 2\u3002\n# \u200b\u81f3\u4e8e\u200b\u81ea\u5236\u200b\u7684\u200b\u516c\u94a5\u200b\u6570\u636e\u200b\u5c31\u200b\u653e\u7f6e\u200b\u4e8e\u200b\u7528\u6237\u200b\u5bb6\u200b\u76ee\u5f55\u200b\u4e0b\u200b\u7684\u200b .ssh/authorized_keys \u200b\u5185\u200b\nRSAAuthentication yes\nPubkeyAuthentication yes\nAuthorizedKeysFile %h/.ssh/authorized_keys\n\n#\u200b\u7981\u7528\u200broot\u200b\u8d26\u6237\u200b\u767b\u5f55\u200b\uff0c\u200b\u975e\u5fc5\u8981\u200b. \u200b\u9ed8\u8ba4\u200b\u4e3a\u200b\u5141\u8bb8\u200b\uff08yes\uff09\nPermitRootLogin yes\n\n# \u200b\u6709\u200b\u4e86\u200b\u8bc1\u4e66\u200b\u767b\u5f55\u200b\u4e86\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7981\u7528\u200b\u5bc6\u7801\u200b\u767b\u5f55\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e0d\u7981\u200b\u7528\u200b\uff08yes\uff09\nPasswordAuthentication yes\n</code></pre> <ul> <li>\u200b\u5c06\u200b\u516c\u94a5\u200b\u4e0a\u200b\u4f20\u5230\u200b\u670d\u52a1\u5668\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u5ba2\u6237\u7aef\u200b\u7684\u200b\u516c\u94a5\u200b\u6dfb\u52a0\u200b\u5230\u200bauthorized_keys</li> </ul> <pre><code>cat  id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys\nchown 644  ~/.ssh/authorized_keys\n</code></pre> <ul> <li>\u200b\u5982\u679c\u200b\u6709\u200b\u4fee\u6539\u200b\u914d\u7f6e\u200b/etc/ssh/sshd_config\uff0c\u200b\u9700\u8981\u200b\u91cd\u542f\u200bssh\u200b\u670d\u52a1\u5668\u200b</li> </ul> <pre><code>\u200b\u7cfb\u7edf\u200b\u662f\u200bcentos6\uff1a\nsudo /etc/init.d/sshd restart\n\u200b\u7cfb\u7edf\u200b\u662f\u200bcentos7\uff1a\nsudo systemctl restart sshd.service\n</code></pre>"},{"location":"c04/04-16/","title":"\u5206\u5e03\u5f0f\u200b\u4efb\u52a1\u8c03\u5ea6\u200b (spring boot \u200b\u5206\u5e03\u5f0f\u200b\u4efb\u52a1\u200b)","text":"<ul> <li>\u200b\u7b80\u4ecb\u200b</li> </ul> <pre><code>\u200b\u57fa\u672c\u200b\u90fd\u200b\u662f\u200b\u57fa\u4e8e\u200bquartz,\u200b\u652f\u6301\u200b\u5b9e\u65f6\u200b\u4efb\u52a1\u200b\uff0c\u200b\u5b9a\u65f6\u200b\u4efb\u52a1\u200b\u548c\u200bCron\u200b\u4efb\u52a1\u200b\u3002\n\n* light-task-scheduler\n* xxl-job\n* \u200b\u5f53\u5f53\u200b\u5f00\u6e90\u200b elastic-job\n\n</code></pre>"},{"location":"c04/04-16/#1-light-task-scheduler","title":"1. light-task-scheduler","text":""},{"location":"c04/04-16/#11","title":"1.1 \u200b\u63cf\u8ff0","text":"<pre><code>LTS(light-task-scheduler)\u200b\u4e3b\u8981\u200b\u7528\u4e8e\u200b\u89e3\u51b3\u200b\u5206\u5e03\u5f0f\u200b\u4efb\u52a1\u8c03\u5ea6\u200b\u95ee\u9898\u200b\uff0c\u200b\u652f\u6301\u200b\u5b9e\u65f6\u200b\u4efb\u52a1\u200b\uff0c\u200b\u5b9a\u65f6\u200b\u4efb\u52a1\u200b\u548c\u200bCron\u200b\u4efb\u52a1\u200b\u3002\n\n\u200b\u6709\u200b\u8f83\u200b\u597d\u200b\u7684\u200b\u4f38\u7f29\u6027\u200b\uff0c\u200b\u6269\u5c55\u6027\u200b\uff0c\u200b\u5065\u58ee\u200b\u7a33\u5b9a\u6027\u200b\u800c\u200b\u88ab\u200b\u591a\u5bb6\u200b\u516c\u53f8\u200b\u4f7f\u7528\u200b\uff0c\u200b\u540c\u65f6\u200b\u4e5f\u200b\u5e0c\u671b\u200b\u5f00\u6e90\u200b\u7231\u597d\u8005\u200b\u4e00\u8d77\u200b\u8d21\u732e\u200b\u3002\n</code></pre>"},{"location":"c04/04-16/#12","title":"1.2 \u200b\u6587\u6863","text":"<p>\u200b\u94fe\u63a5\u200b\u4f20\u9001\u95e8\u200b</p>"},{"location":"c04/04-16/#2-xxl-job","title":"2. xxl-job","text":""},{"location":"c04/04-16/#21","title":"2.1 \u200b\u63cf\u8ff0","text":"<pre><code>XXL-JOB\u200b\u662f\u200b\u4e00\u4e2a\u200b\u8f7b\u91cf\u7ea7\u200b\u5206\u5e03\u5f0f\u200b\u4efb\u52a1\u8c03\u5ea6\u200b\u6846\u67b6\u200b\uff0c\u200b\u5176\u200b\u6838\u5fc3\u200b\u8bbe\u8ba1\u200b\u76ee\u6807\u200b\u662f\u200b\u5f00\u53d1\u200b\u8fc5\u901f\u200b\u3001\u200b\u5b66\u4e60\u200b\u7b80\u5355\u200b\u3001\u200b\u8f7b\u91cf\u7ea7\u200b\u3001\u200b\u6613\u200b\u6269\u5c55\u200b\u3002\n\n\u200b\u73b0\u5df2\u200b\u5f00\u653e\u200b\u6e90\u4ee3\u7801\u200b\u5e76\u200b\u63a5\u5165\u200b\u591a\u5bb6\u200b\u516c\u53f8\u200b\u7ebf\u4e0a\u200b\u4ea7\u54c1\u7ebf\u200b\uff0c\u200b\u5f00\u7bb1\u200b\u5373\u7528\u200b\u3002\n</code></pre>"},{"location":"c04/04-16/#22","title":"2.2 \u200b\u6587\u6863","text":"<p>\u200b\u94fe\u63a5\u200b\u4f20\u9001\u95e8\u200b</p>"},{"location":"c04/04-16/#3-elastic-job","title":"3. \u200b\u5f53\u5f53\u200b\u5f00\u6e90\u200b elastic-job","text":""},{"location":"c04/04-16/#31","title":"3.1 \u200b\u63cf\u8ff0","text":"<pre><code>Elastic-Job\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5206\u5e03\u200b\u5f0f\u8c03\u5ea6\u200b\u89e3\u51b3\u65b9\u6848\u200b\uff0c\u200b\u7531\u200b\u4e24\u4e2a\u200b\u76f8\u4e92\u200b\u72ec\u7acb\u200b\u7684\u200b\u5b50\u9879\u76ee\u200bElastic-Job-Lite\u200b\u548c\u200bElastic-Job-Cloud\u200b\u7ec4\u6210\u200b\u3002\n\nElastic-Job-Lite\u200b\u5b9a\u4f4d\u200b\u4e3a\u200b\u8f7b\u91cf\u7ea7\u200b\u65e0\u200b\u4e2d\u5fc3\u5316\u200b\u89e3\u51b3\u65b9\u6848\u200b\uff0c\u200b\u4f7f\u7528\u200bjar\u200b\u5305\u200b\u7684\u200b\u5f62\u5f0f\u200b\u63d0\u4f9b\u200b\u5206\u5e03\u5f0f\u200b\u4efb\u52a1\u200b\u7684\u200b\u534f\u8c03\u200b\u670d\u52a1\u200b\u3002\n</code></pre>"},{"location":"c04/04-16/#32","title":"3.2 \u200b\u6587\u6863","text":"<p>\u200b\u94fe\u63a5\u200b\u4f20\u9001\u95e8\u200b</p>"},{"location":"c04/04-17/","title":"ZooKeeper\u200b\u5b89\u88c5\u200b\u914d\u7f6e","text":""},{"location":"c04/04-17/#1","title":"1. \u200b\u5b89\u88c5\u200b\u548c\u200b\u914d\u7f6e","text":"<p>\u200b\u94fe\u63a5\u200b</p>"},{"location":"c04/04-17/#11","title":"1.1 \u200b\u5b89\u88c5","text":"<pre><code># \u200b\u4e0b\u8f7d\u200b\uff1a\nwget http://archive.apache.org/dist/zookeeper/stable/zookeeper-3.4.6.tar.gz\n\n# \u200b\u89e3\u538b\u200b\u4e0e\u200b\u8f6f\u200b\u94fe\u63a5\u200b\uff1a\ntar -zxvf zookeeper-3.4.6.tar.gz -C /opt\nln -s /opt/zookeeper-3.4.6 /opt/zookeeper\nchown -R zookeeper:hadoop /opt/zookeeper*\n\n# \u200b\u590d\u5236\u200b\u914d\u7f6e\u6587\u4ef6\u200b\ncp /opt/zookeeper/zoo_sample.cfg /opt/zookeeper/zoo.cfg\n</code></pre>"},{"location":"c04/04-17/#12","title":"1.2 \u200b\u4fee\u6539\u200b\u914d\u7f6e","text":"<pre><code># \u200b\u4fee\u6539\u200b\u914d\u7f6e\u200b\nvi /opt/zookeeper/zoo.cfg\n\ndataDir=/opt/zookeeper/data-1\ndataLogDir=/opt/zookeeper/logs-1\nclientPort=5011\ntickTime=2000\ninitLimit=5\nsyncLimit=2\nserver.1=127.0.0.1:5012:5013\nserver.2=127.0.0.1:5022:5023\nserver.3=127.0.0.1:5032:5033\n\n\n\u200b\u5728\u200bdataDir\u200b\u76ee\u5f55\u200b\u4e0b\u200b\u521b\u5efa\u200bmyid\u200b\u6587\u4ef6\u200b\uff0c\u200b\u7b2c\u4e00\u53f0\u200b\u673a\u5668\u200b\u7684\u200b\u5185\u5bb9\u200b\u4e3a\u200b1\uff0c\u200b\u7b2c\u4e8c\u53f0\u200b\u673a\u5668\u200b\u7684\u200b\u5185\u5bb9\u200b\u4e3a\u200b2\uff0c\u200b\u7b2c\u4e09\u53f0\u200b\u673a\u5668\u200b\u7684\u200b\u5185\u5bb9\u200b\u4e3a\u200b3\uff0c\u200b\u82e5\u200b\u6709\u200b\u66f4\u200b\u591a\u200b\u4f9d\u6b64\u7c7b\u63a8\u200b\u3002\n\n\u200b\u7b2c\u4e00\u53f0\u200b\u673a\u5668\u200b\u4fee\u6539\u200b\u4e3a\u200b\uff1a \nmkdir -p /opt/zookeeper/data/ \necho 1 &gt; /opt/zookeeper/data/myid\n\n\u200b\u5728\u200b\u7b2c\u4e8c\u53f0\u200b\u548c\u200b\u7b2c\u4e09\u53f0\u200b\u673a\u5668\u200b\u4e0a\u200b\uff0c\u200b\u628a\u200b\u201cecho 1\u201d\u200b\u7684\u200b\u201c1\u201d\u200b\u6539\u6210\u200b\u5bf9\u5e94\u200b\u7684\u200b\u503c\u200b\u3002\n</code></pre>"},{"location":"c04/04-17/#13","title":"1.3 \u200b\u5b57\u200b\u6bb5\u200b\u8bf4\u660e","text":"<pre><code>dataDir\uff1a\u200b\u6570\u636e\u200b\u76ee\u5f55\u200b\n\ndataLogDir\uff1a\u200b\u65e5\u5fd7\u200b\u76ee\u5f55\u200b\n\nclientPort\uff1a\u200b\u5ba2\u6237\u7aef\u200b\u8fde\u63a5\u200b\u7aef\u53e3\u200b\n\ntickTime\uff1aZookeeper \u200b\u670d\u52a1\u5668\u4e4b\u95f4\u200b\u6216\u200b\u5ba2\u6237\u7aef\u200b\u4e0e\u200b\u670d\u52a1\u5668\u4e4b\u95f4\u200b\u7ef4\u6301\u200b\u5fc3\u8df3\u200b\u7684\u200b\u65f6\u95f4\u200b\u95f4\u9694\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u6bcf\u4e2a\u200b tickTime \u200b\u65f6\u95f4\u200b\u5c31\u200b\u4f1a\u200b\u53d1\u9001\u200b\u4e00\u4e2a\u200b\u5fc3\u8df3\u200b\u3002\n\ninitLimit\uff1aZookeeper\u200b\u7684\u200bLeader \u200b\u63a5\u53d7\u200b\u5ba2\u6237\u7aef\u200b\uff08Follower\uff09\u200b\u521d\u59cb\u5316\u200b\u8fde\u63a5\u200b\u65f6\u200b\u6700\u957f\u200b\u80fd\u200b\u5fcd\u53d7\u200b\u591a\u5c11\u200b\u4e2a\u200b\u5fc3\u8df3\u200b\u65f6\u95f4\u200b\u95f4\u9694\u200b\u6570\u200b\u3002\u200b\u5f53\u200b\u5df2\u7ecf\u200b\u8d85\u8fc7\u200b 5\u200b\u4e2a\u200b\u5fc3\u8df3\u200b\u7684\u200b\u65f6\u95f4\u200b\uff08\u200b\u4e5f\u200b\u5c31\u662f\u200btickTime\uff09\u200b\u957f\u5ea6\u200b\u540e\u200b Zookeeper \u200b\u670d\u52a1\u5668\u200b\u8fd8\u200b\u6ca1\u6709\u200b\u6536\u5230\u200b\u5ba2\u6237\u7aef\u200b\u7684\u200b\u8fd4\u56de\u200b\u4fe1\u606f\u200b\uff0c\u200b\u90a3\u4e48\u200b\u8868\u660e\u200b\u8fd9\u4e2a\u200b\u5ba2\u6237\u7aef\u200b\u8fde\u63a5\u200b\u5931\u8d25\u200b\u3002\u200b\u603b\u200b\u7684\u200b\u65f6\u95f4\u200b\u957f\u5ea6\u200b\u5c31\u662f\u200b 5*2000=10 \u200b\u79d2\u200b\n\nsyncLimit\uff1a\u200b\u8868\u793a\u200b Leader \u200b\u4e0e\u200b Follower \u200b\u4e4b\u95f4\u200b\u53d1\u9001\u200b\u6d88\u606f\u200b\u65f6\u200b\u8bf7\u6c42\u200b\u548c\u200b\u5e94\u7b54\u200b\u65f6\u95f4\u200b\u957f\u5ea6\u200b\uff0c\u200b\u6700\u957f\u200b\u4e0d\u80fd\u200b\u8d85\u8fc7\u200b\u591a\u5c11\u200b\u4e2a\u200btickTime \u200b\u7684\u200b\u65f6\u95f4\u200b\u957f\u5ea6\u200b\uff0c\u200b\u603b\u200b\u7684\u200b\u65f6\u95f4\u200b\u957f\u5ea6\u200b\u5c31\u662f\u200b 2*2000=4 \u200b\u79d2\u200b\u3002\n\nserver.A=B\uff1aC\uff1aD\uff1a\u200b\u5176\u4e2d\u200bA \u200b\u662f\u200b\u4e00\u4e2a\u200b\u6570\u5b57\u200b\uff0c\u200b\u8868\u793a\u200b\u8fd9\u4e2a\u200b\u662f\u200b\u7b2c\u51e0\u200b\u53f7\u200b\u670d\u52a1\u5668\u200b\uff1bB \u200b\u662f\u200b\u8fd9\u4e2a\u200b\u670d\u52a1\u5668\u200b\u7684\u200b ip \u200b\u5730\u5740\u200b\uff1bC \u200b\u8868\u793a\u200b\u7684\u200b\u662f\u200b\u8fd9\u4e2a\u200b\u670d\u52a1\u5668\u200b\u4e0e\u200b\u96c6\u7fa4\u200b\u4e2d\u200b\u7684\u200b Leader \u200b\u670d\u52a1\u5668\u200b\u4ea4\u6362\u200b\u4fe1\u606f\u200b\u7684\u200b\u7aef\u53e3\u200b\uff1bD \u200b\u8868\u793a\u200b\u7684\u200b\u662f\u200b\u4e07\u4e00\u200b\u96c6\u7fa4\u200b\u4e2d\u200b\u7684\u200b Leader \u200b\u670d\u52a1\u5668\u200b\u6302\u200b\u4e86\u200b\uff0c\u200b\u9700\u8981\u200b\u4e00\u4e2a\u200b\u7aef\u53e3\u200b\u6765\u200b\u91cd\u65b0\u200b\u8fdb\u884c\u200b\u9009\u4e3e\u200b\uff0c\u200b\u9009\u51fa\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b Leader\uff0c\u200b\u800c\u200b\u8fd9\u4e2a\u200b\u7aef\u53e3\u200b\u5c31\u662f\u200b\u7528\u6765\u200b\u6267\u884c\u200b\u9009\u4e3e\u200b\u65f6\u200b\u670d\u52a1\u5668\u200b\u76f8\u4e92\u200b\u901a\u4fe1\u200b\u7684\u200b\u7aef\u53e3\u200b\u3002\u200b\u5982\u679c\u200b\u662f\u200b\u4f2a\u200b\u96c6\u7fa4\u200b\u7684\u200b\u914d\u7f6e\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u7531\u4e8e\u200b B \u200b\u90fd\u200b\u662f\u200b\u4e00\u6837\u200b\uff0c\u200b\u6240\u4ee5\u200b\u4e0d\u540c\u200b\u7684\u200b Zookeeper \u200b\u5b9e\u4f8b\u200b\u901a\u4fe1\u200b\u7aef\u53e3\u53f7\u200b\u4e0d\u80fd\u200b\u4e00\u6837\u200b\uff0c\u200b\u6240\u4ee5\u200b\u8981\u200b\u7ed9\u200b\u5b83\u4eec\u200b\u5206\u914d\u200b\u4e0d\u540c\u200b\u7684\u200b\u7aef\u53e3\u53f7\u200b\u3002\n</code></pre>"},{"location":"c04/04-17/#14","title":"1.4 \u200b\u542f\u52a8\u200b\u4e0e\u200b\u505c\u6b62","text":"<pre><code>\u200b\u542f\u52a8\u200b\uff1a\n\n/opt/zookeeper/bin/zkServer.sh start\n\u200b\u505c\u6b62\u200b\uff1a\n\n/opt/zookeeper/bin/zkServer.sh stop\n</code></pre>"},{"location":"c04/04-17/#2","title":"2. \u200b\u5907\u6ce8","text":"<ul> <li>ZooKeeper \u200b\u6309\u7167\u200b\u914d\u7f6e\u200b\u8fd0\u884c\u200b</li> </ul> <pre><code>./zkServer.sh start zoo1.cfg \n</code></pre>"},{"location":"c04/04-18/","title":"sonarqube","text":""},{"location":"c04/04-18/#_1","title":"\u76f8\u5173\u200b\u6587\u6863","text":"<ul> <li>Sonar Java</li> <li>Sonar C#</li> </ul>"},{"location":"c04/04-18/#sonarqube-sever","title":"sonarqube sever \u200b\u5b89\u88c5","text":"<ul> <li>docker \u200b\u5b89\u88c5\u200b</li> </ul> <pre><code>docker\u200b\u9875\u9762\u200b: \nhttps://hub.docker.com/_/sonarqube/\n\n\u200b\u547d\u4ee4\u200b:\ndocker run -d --name sonarqube -p 19000:9000 -p 19092:9092 10.1.249.43:8082/sonarqube:lts-alpine\n</code></pre> <ul> <li>\u200b\u6d4b\u8bd5\u73af\u5883\u200b\u5730\u5740\u200b</li> </ul> <pre><code>\u200b\u5730\u5740\u200b: http://10.105.16.86:19000/\n</code></pre>"},{"location":"c04/04-18/#java-gradle","title":"java gradle \u200b\u6784\u5efa","text":"<ul> <li>\u200b\u4fee\u6539\u200b build.gradle:</li> </ul> <pre><code>buildscript {\n    ext {\n        springBootVersion = '1.5.3.RELEASE'\n    }\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath \"org.sonarsource.scanner.gradle:sonarqube-gradle-plugin:2.5\"\n    }\n}\n\napply plugin: \"org.sonarqube\"\napply plugin \"jacoco\"\n</code></pre> <ul> <li>gradle \u200b\u6784\u5efa\u200b</li> </ul> <pre><code>gradle sonar -Dsonar.host.url=http://10.105.16.86:19000 -Dsonar.verbose=true\n</code></pre>"},{"location":"c04/04-18/#c","title":"C# \u200b\u6784\u5efa","text":""},{"location":"c04/04-19/","title":"\u76d1\u63a7\u200b\u7cfb\u7edf\u200b\u7684\u200b\u9ad8\u6027\u80fd\u200b\u7ec4\u4ef6","text":"<p>\u200b\u76d1\u63a7\u200b\u7cfb\u7edf\u200b\u7684\u200b\u9ad8\u6027\u80fd\u200b\u7ec4\u4ef6\u200b</p>"},{"location":"c04/04-19/#_2","title":"\u4ecb\u7ecd","text":""},{"location":"c04/04-19/#_3","title":"\u4e3a\u4ec0\u4e48","text":"<p>\u200b\u51fa\u4e8e\u200b\u5404\u79cd\u200b\u7406\u7531\u200b\uff0c\u200b\u6211\u4eec\u200b\u7ecf\u5e38\u200b\u9700\u8981\u200b\u6536\u96c6\u200b\u4e0e\u200b\u670d\u52a1\u5668\u200b\u3001\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u4ee5\u53ca\u200b\u6d41\u91cf\u200b\u76f8\u5173\u200b\u7684\u200b\u72b6\u6001\u200b\u6570\u636e\u200b\u3002\u200b\u6536\u96c6\u200b\u5e76\u200b\u6574\u7406\u200b\u8fd9\u4e9b\u200b\u6570\u636e\u200b\u80fd\u591f\u200b\u5e2e\u52a9\u200b\u6211\u4eec\u200b\u5236\u5b9a\u200b\u51fa\u200b\u66f4\u52a0\u200b\u884c\u4e4b\u6709\u6548\u200b\u7684\u200b\u89c4\u6a21\u200b\u4f38\u7f29\u200b\u53ca\u200b\u6545\u969c\u200b\u6392\u67e5\u200b\u51b3\u7b56\u200b\uff0c\u200b\u540c\u65f6\u200b\u5bf9\u200b\u73b0\u6709\u200b\u914d\u7f6e\u200b\u4e2d\u200b\u7684\u200b\u75db\u70b9\u200b\u8fdb\u884c\u200b\u8ffd\u8e2a\u200b\u3002</p> <p>\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5229\u7528\u200b\u591a\u79cd\u200b\u5de5\u5177\u200b\u5bf9\u200b\u8bbe\u5907\u200b\u4e0a\u200b\u7684\u200b\u5404\u9879\u200b\u6307\u6807\u200b\u52a0\u4ee5\u200b\u8ffd\u8e2a\u200b\uff0c\u200b\u800c\u4e14\u200b\u5176\u200b\u901a\u5e38\u200b\u53ea\u200b\u9700\u8981\u200b\u5360\u7528\u200b\u7279\u5b9a\u200b\u8fdb\u7a0b\u200b\u4e2d\u200b\u7684\u200b\u4e00\u5c0f\u90e8\u5206\u200b\u8d44\u6e90\u200b\u3002\u200b\u6211\u4eec\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u8fd9\u4e9b\u200b\u5de5\u5177\u200b\u52a0\u4ee5\u200b\u7ed3\u5408\u200b\uff0c\u200b\u4ece\u800c\u200b\u521b\u5efa\u200b\u51fa\u200b\u4e00\u5957\u200b\u5bf9\u200b\u7ed3\u679c\u200b\u8fdb\u884c\u200b\u6536\u96c6\u200b\u3001\u200b\u8bb0\u5f55\u200b\u4e0e\u200b\u663e\u793a\u200b\u7684\u200b\u5b8c\u6574\u200b\u7cfb\u7edf\u200b\u3002</p>"},{"location":"c04/04-19/#_4","title":"\u4e00\u822c\u200b\u7684\u200b\u7ec4\u4ef6","text":"<pre><code>-&gt; \u200b\u6536\u96c6\u200b\u5de5\u5177\u200b \n-&gt; \u200b\u5b58\u50a8\u200b\u5de5\u5177\u200b  \n-&gt; \u200b\u5c55\u793a\u200b\u5de5\u5177\u200b \n-&gt; \u200b\u62a5\u8b66\u200b\u5de5\u5177\u200b\n</code></pre> <pre><code>python2.7  \n--&gt; \u200b\u5199\u200b\u4e1a\u52a1\u200b\n--&gt; \u200b\u8c03\u7528\u200b carbon api, \u200b\u63a8\u9001\u200b\u5230\u200b whisper\n\nrundeck \n--&gt; \u200b\u5b9a\u65f6\u200b\u4efb\u52a1\u200b\n--&gt; \u200b\u5b9a\u65f6\u200b\u4efb\u52a1\u200b\u4fe1\u606f\u200b\u63a8\u9001\u200b\n--&gt; \u200b\u5386\u53f2\u200b\u65e5\u5fd7\u200b\u67e5\u8be2\u200b\n\nGraphite \n--&gt; carbon \n--&gt; whisper \u200b\u4fdd\u5b58\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u636e\u5e93\u200b\n--&gt; graphite-web \n\ngrafana \n--&gt; \u200b\u8c03\u7528\u200bgraphite-web,\u200b\u5c55\u793a\u200b\u62a5\u8868\u200b\n--&gt; \u200b\u62a5\u8b66\u200b\n</code></pre>"},{"location":"c04/04-19/#_5","title":"\u89e3\u51b3\u65b9\u6848","text":"<pre><code>1. \nELK = Logstash+ElasticSearch+Kibana\n\n2.\nGraphite + grafana\n</code></pre>"},{"location":"c04/04-19/#_6","title":"\u53c2\u8003\u200b\u6587\u6863","text":"<ul> <li>\u200b\u5173\u4e8e\u200b\u5927\u578b\u200b\u76d1\u63a7\u200b\u7cfb\u7edf\u200b\u7684\u200b\u9ad8\u6027\u80fd\u200b\u7ec4\u4ef6\u200b\u8bbe\u8ba1\u200b</li> </ul>"},{"location":"c04/04-19/#elk","title":"\u65e5\u5fd7\u200b\u6536\u96c6\u200b\u65b9\u6848\u200b ELK","text":""},{"location":"c04/04-19/#logstash","title":"logstash","text":"<pre><code> [logstash](https://www.elastic.co/products/logstash)\n</code></pre>"},{"location":"c04/04-19/#elasticsearch","title":"ElasticSearch","text":"<pre><code> [ElasticSearch](https://www.elastic.co/guide/cn/elasticsearch/guide/current/index.html)\n [ElasticSearch \u200b\u8fd0\u7ef4\u200b](https://segmentfault.com/a/1190000004325032)\n</code></pre>"},{"location":"c04/04-19/#kibana","title":"Kibana","text":"<pre><code> [Kibana](https://www.elastic.co/products/kibana)\n</code></pre>"},{"location":"c04/04-19/#graphite-grafana","title":"\u65e5\u5fd7\u200b\u6536\u96c6\u200b\u65b9\u6848\u200b (Graphite + grafana)","text":""},{"location":"c04/04-19/#_7","title":"\u6536\u96c6\u200b\u5de5\u5177","text":"<ul> <li>diamond (\u200b\u6536\u96c6\u200blinux\u200b\u673a\u5668\u200b\u7684\u200b)</li> </ul> <pre><code>\u200b\u6587\u6863\u200b:\n[](https://github.com/python-diamond/Diamond)\n\n\u200b\u5b89\u88c5\u200b:\npip install diamond\n\n\u200b\u914d\u7f6e\u200b:\n/etc/diamond/dimaond.conf\n\n1) \u200b\u4fee\u6539\u200bGraphite\u200b\u7684\u200bip\u200b\u548c\u200b\u7aef\u53e3\u200b\u5373\u53ef\u200b\n2) \u200b\u9ed8\u8ba4\u200b\u9891\u6b21\u200b\u4e3a\u200b5\u200b\u5206\u949f\u200b\n</code></pre> <ul> <li>metrics</li> </ul> <pre><code>\u200b\u6587\u6863\u200b:\n[metrics](https://github.com/dropwizard/metrics)\n[Metrics \u2014\u2014 JVM\u200b\u4e0a\u200b\u7684\u200b\u5b9e\u65f6\u200b\u76d1\u63a7\u200b\u7c7b\u5e93\u200b](http://www.jianshu.com/p/e4f70ddbc287)\n[metrics.dropwizard.io](http://metrics.dropwizard.io/3.2.3/getting-started.html)\n</code></pre>"},{"location":"c04/04-19/#graphite","title":"\u5b58\u50a8\u200b\u5de5\u5177\u200b Graphite","text":"<pre><code>\u200b\u6587\u6863\u200b:\n[Graphite](http://graphite.readthedocs.io/en/latest/index.html)\n[Carbon Caches \u200b\u538b\u529b\u200b\u6d4b\u8bd5\u200b](https://segmentfault.com/a/1190000002587848)\n\nGraphite \u200b\u7531\u200b\u4e09\u200b\u90e8\u5206\u200b\u7ec4\u6210\u200b:\n    carbon \uff1a\u200b\u76d1\u542c\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u7684\u200b\u6570\u636e\u200b\u7684\u200b\u540e\u53f0\u7a0b\u5e8f\u200b\u3002\n    whisper\uff1a\u200b\u4e00\u4e2a\u200b\u7b80\u5355\u200b\u7684\u200b\u6570\u636e\u5e93\u200b\u5e93\u200b\uff0c\u200b\u7528\u6765\u200b\u5b58\u50a8\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u6570\u636e\u200b\u3002\n    webapp\uff1a Django webapp\uff0c\u200b\u4f7f\u7528\u200b Cairo \u200b\u6765\u200b\u6839\u636e\u200b\u9700\u8981\u200b\u5448\u73b0\u200b\u56fe\u5f62\u200b\u3002\n\nGraphite \u200b\u5f53\u505a\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u6570\u636e\u200b\u7684\u200b\u683c\u5f0f\u200b\u5982\u4e0b\u200b\uff1a\n    &lt;key&gt; &lt;numeric value&gt; &lt;timestamp&gt; \n\n\n\u200b\u5b89\u88c5\u200b:\npip install whisper\npip install carbon (\u200b\u82e5\u200b\u62a5\u9519\u200b,\u200b\u5c1d\u8bd5\u200byum install python-devel)\npip install graphite-web\n\n\u200b\u914d\u7f6e\u200b:\nMAX_CREATES_PER_MINUTE  \n\u200b\u5bf9\u200b\u6bcf\u5206\u949f\u200b\u6700\u200b\u591a\u200b\u521b\u5efa\u200b\u7684\u200b.wsp\u200b\u6587\u4ef6\u200b\u7684\u200b\u4e2a\u6570\u200b\u8fdb\u884c\u200b\u8f6f\u200b\u9650\u5236\u200b\u3002\u200b\u8d85\u8fc7\u200b\u9650\u5236\u200b\u7684\u200b\u65b0\u200bMetrics\u200b\u5bf9\u5e94\u200b\u7684\u200b.wsp\u200b\u6587\u4ef6\u200b\u4e0d\u4f1a\u200b\u88ab\u200b\u521b\u5efa\u200b\uff0cMetrics\u200b\u4e5f\u200b\u88ab\u200b\u4e22\u5f03\u200b\n\n\u200b\u4f7f\u7528\u200b:\nkey\u200b\u89c4\u5219\u200b:\n${\u200b\u90e8\u95e8\u200b\u540d\u79f0\u200b}.${\u200b\u9879\u76ee\u540d\u79f0\u200b}.$(\u200b\u673a\u5668\u200b\u540d\u79f0\u200b).$(\u200b\u4e1a\u52a1\u200b\u81ea\u5b9a\u4e49\u200b)\n\n\u200b\u7136\u540e\u200b:\ncrs.crs-rate-sync.test160.task.task1-successPrecent\n\necho \"crs.crs-rate-sync.`hostname`.task.task1-successPrecent 1 `date +%s`\" | nc 10.105.16.86 2003\n\n</code></pre> <pre><code>\u200b\u6d4b\u8bd5\u73af\u5883\u200b:\n\n\u200b\u63a8\u9001\u200b\u63a5\u53e3\u200b: 10.105.16.86:2003\n\u200b\u67e5\u8be2\u200b\u63a5\u53e3\u200b: http://10.105.16.86:10080\n</code></pre>"},{"location":"c04/04-19/#grafana","title":"\u5c55\u793a\u200b\u5de5\u5177\u200b grafana","text":"<pre><code>\u200b\u6587\u6863\u200b:\n[grafana](http://graphite.readthedocs.io/en/latest/index.html)\n\n\u200b\u5b89\u88c5\u200b:\n1) docker\ndocker run -d --name=grafana -p 3000:3000 grafana/grafana \n2) \u200b\u5b89\u88c5\u5305\u200b\nhttps://grafana.com/grafana/download?platform=linux\n\n\u200b\u914d\u7f6e\u200b:\n[Using Graphite in Grafana](http://docs.grafana.org/features/datasources/graphite/)\n\n1. \u200b\u8bbe\u7f6e\u200b\u6570\u636e\u6e90\u200b\n2. \u200b\u65b0\u5efa\u200b\u65b0\u200b\u7684\u200b dashboard\n</code></pre> <pre><code>\u200b\u6d4b\u8bd5\u73af\u5883\u200b:\nhttp://10.105.16.86:3000/?orgId=1\n\nuser 123321a\n</code></pre>"},{"location":"c04/04-19/#_8","title":"(\u200b\u65b9\u6848\u200b)\u200b\u7f51\u7edc\u200b\u76d1\u63a7","text":""},{"location":"c04/04-19/#_9","title":"\u7cfb\u7edf\u200b\u73af\u5883","text":"<pre><code>centos 6.5\n</code></pre>"},{"location":"c04/04-19/#_10","title":"\u4f9d\u8d56\u200b\u7ec4\u4ef6","text":"<pre><code>python2.7 \nrundeck\npython\nGraphite\ngrafana\n</code></pre>"},{"location":"c04/04-19/#_11","title":"\u5b89\u88c5\u200b\u8fc7\u7a0b","text":""},{"location":"c04/04-19/#graphite_1","title":"\u5b89\u88c5\u200b graphite","text":"<pre><code>1. \u200b\u5b89\u88c5\u200b\u4f9d\u8d56\u200b\npip install requests -i http://10.1.249.43:8081/repository/pypi-public/simple --trusted-host 10.1.249.43 \ncarbon (incremental)\nwhisper\ngraphite-web (cffi)\nuwsgi \n2. \u200b\u4fee\u6539\u200b\u914d\u7f6e\u200b\n2.1 conf\u200b\u76ee\u5f55\u200b\u4e0b\u200b,\u200b\u53bb\u6389\u200b\u6240\u6709\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u7684\u200bexample\n\n2.2 \ncarbon.conf\n\u200b\u4fee\u6539\u200b MAX_CREATES_PER_MINUTE\n\n2.3 \nstorage-schemas.conf \n\u200b\u4fee\u6539\u200b retentions\n\n2.4 /opt/graphite/webapp/graphite\n2.4.1  \n\u200b\u590d\u5236\u200b local_settings.py.example \u200b\u5230\u200b local_settings.py\n2.4.2  TIME_ZONE\nAsia/Shanghai\n2.4.3 SECRET_KEY\nbase64\n\n2.5 graphite \u200b\u521d\u59cb\u5316\u200b\ncd /opt/graphite &amp;&amp; PYTHONPATH=/opt/graphite/webapp django-admin.py migrate --settings=graphite.settings --run-syncdb\n\n3. \u200b\u542f\u52a8\u200b \n1. carbon\nps aux | grep carbon \n/opt/graphite/bin/carbon-cache.py start\n\n2. graphite\nps aux | grep graphite\n\ncd /opt/graphite &amp;&amp; PYTHONPATH=`pwd`/storage/whisper nohup ./bin/run-graphite-devel-server.py --port=8085 --libs=`pwd`/webapp /opt/graphite 1&gt;/opt/graphite/storage/log/webapp/process.log 2&gt;&amp;1 &amp;\n</code></pre>"},{"location":"c04/04-20/","title":"consul \u200b\u751f\u4ea7\u200b\u73af\u5883\u200b\u7ec4\u4ef6\u200b\u5b89\u88c5","text":""},{"location":"c04/04-20/#steo1-consul-centos7-107","title":"steo1: \u200b\u4e0b\u8f7d\u200b\u5bf9\u5e94\u200bconsul\u200b\u7248\u672c\u200b \uff08Centos7\uff09 1.0.7\u200b\u4e0b\u8f7d\u200b\u5730\u5740","text":""},{"location":"c04/04-20/#step2","title":"step2: \u200b\u89e3\u538b\u200b\u6587\u4ef6\u200b:","text":"<pre><code>unzip consul_1.0.7_linux_amd64.zip\n\nmv consul /usr/local/bin/\n</code></pre>"},{"location":"c04/04-20/#step3-client","title":"step3: \u200b\u521b\u5efa\u200bclient \u200b\u914d\u7f6e\u6587\u4ef6","text":"<p>mkdir -p /etc/consul.d/config</p> <p>vi /etc/consul.d/config/client-acl.json \u200b\u914d\u7f6e\u200b\u5185\u5bb9\u200b\u5982\u4e0b\u200b\uff08encrypt\u200b\u5b57\u200b\u6bb5\u200b\u9700\u8981\u200bprd\u200b\u5bc6\u94a5\u200b\uff09:</p> <pre><code>{\n  \"acl_datacenter\": \"consul_domain\",\n  \"acl_agent_token\": \"0016efb5-54fd-4128-89bd-7bbf2795257a\",\n\n  \"datacenter\": \"consul_domain\",\n  \"log_level\": \"INFO\",\n  \"enable_syslog\":true,\n  \"enable_debug\":true,\n  \"data_dir\": \"data\",\n  \"encrypt\":\"xxxxxxxxxxxxx\",\n  \"retry_join\":[\"consul.domain.com\"],\n\n  \"rejoin_after_leave\": true,\n  \"enable_script_checks\":true,\n\n  \"limits\":{\n    \"rpc_rate\":100\n  },\n\n  \"http_config\": {\n      \"block_endpoints\": [\"/v1/acl\"]\n  },\n\n  \"telemetry\":{\n    \"metrics_prefix\":\"consul\",\n    \"statsd_address\":\"statsd.domain.com:8125\",\n    \"prefix_filter\":[\n        \"-consul.\",\n        \"+consul.client.rpc.exceeded\"\n    ]\n  },\n\n  \"ports\": {\n    \"dns\":9904,\n    \"http\": 9903,\n    \"serf_lan\": 9901,\n    \"serf_wan\": 9902,\n    \"server\": 9900\n  }\n}\n\n</code></pre>"},{"location":"c04/04-20/#step4","title":"step4:\u200b\u521b\u5efa\u200b\u670d\u52a1\u200b\u6587\u4ef6","text":"<p>vi /etc/consul.d/consul_initial.sh</p> <p>\u200b\u5185\u5bb9\u200b\u5982\u4e0b\u200b:</p> <pre><code>#!/bin/bash\nexport consul_bind_name=$(hostname -I | cut -d' ' -f1 | sed -e \"s/\\./_/g\")\nexport consul_bind_ip=$(hostname -I | cut -d' ' -f1)\n/usr/local/bin/consul agent -node=${consul_bind_name} -bind=${consul_bind_ip} -config-dir=/etc/consul.d/config -data-dir=/etc/consul.d/ -client=0.0.0.0\n\n\u200b\u6ce8\u610f\u200b\u591a\u200b\u7f51\u5361\u200b(\u200b\u6216\u8005\u200b\u88c5\u200b\u4e86\u200bdocker)\u200b\u4e0b\u200b\u8bf7\u200b\u6307\u5b9a\u200b\u5199\u200b\u56fa\u5b9a\u200bip \u200b\u5982\u200b:\nexport consul_bind_name=a_b_c_d (_\u200b\u5206\u5272\u200b\u7684\u200bip\u200b\u540d\u5b57\u200b)\nexport consul_bind_ip=a.b.c.d \uff08ip\u200b\u5730\u5740\u200b\uff09\n</code></pre> <p>\u200b\u4fee\u6539\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b\u5c5e\u6027\u200b</p> <p>chmod +x /etc/consul.d/consul_initial.sh</p>"},{"location":"c04/04-20/#ste5","title":"ste5: \u200b\u521b\u5efa\u200b\u5b88\u62a4\u200b\u8fdb\u7a0b\u200b\u6587\u4ef6","text":"<p>vi /etc/systemd/system/consul.service</p> <pre><code>[unit]\nDescription=consul agent\nWants=network-online.target\nAfter=network-online.target\n\n[Service]\nEnvironmentFile=-/etc/sysconfig/consul  #\"-\", which indicates that if the file does not exist, it will not be read and no error or warning message is logged\nEnvironment=GOMAXPROCS=2\nRestart=on-failure\nExecStart=/etc/consul.d/consul_initial.sh\nExecReload=/bin/kill -HUP $MAINPID  \nKillSignal=SIGTERM\n\n[Install]\nWantedBy=multi-user.target \n</code></pre>"},{"location":"c04/04-20/#step6","title":"step6: \u200b\u542f\u52a8\u200b\u670d\u52a1\u5668","text":"<pre><code>systemctl daemon-reload\nsystemctl start consul\nsystemctl enable consul\n</code></pre>"},{"location":"c04/04-02/04-02/","title":"Nexus 3.0\uff08\u200b\u4ed3\u5e93\u200b\u7ba1\u7406\u200b \uff09","text":"<p>\u200b\u7531\u4e8e\u200b\u7f51\u7edc\u200b\u548c\u200bnexus\u200b\u672c\u5730\u200b\u7f13\u5b58\u200b\u7684\u200b\u539f\u56e0\u200b\uff0c\u200b\u5efa\u8bae\u200b\u4f7f\u7528\u200bnexus\u200b\u6e90\u200b\u3002</p>"},{"location":"c04/04-02/04-02/#0-nexus","title":"0. nexus\u200b\u79c1\u6709\u200b\u6e90\u200b\u5217\u8868","text":"\u5e8f\u53f7\u200b \u200b\u7c7b\u522b\u200b \u200b\u529f\u80fd\u200b \u200b\u5730\u5740\u200b 1 pypi \u200b\u4ed3\u5e93\u200b\u7ec4\u200b http://192.168.0.1:8081/repository/pypi-public/ 2 pypi \u200b\u79c1\u6709\u200breleases http://192.168.0.1:8081/repository/pypi-releases/ 3 npm \u200b\u4ed3\u5e93\u200b\u7ec4\u200b http://192.168.0.1:8081/repository/npm-public/ 4 npm \u200b\u79c1\u6709\u200breleases http://192.168.0.1:8081/repository/npm-releases/ 5 maven \u200b\u4ed3\u5e93\u200b\u7ec4\u200b http://192.168.0.1:8081/repository/maven-public/ 6 maven \u200b\u79c1\u6709\u200breleases http://192.168.0.1:8081/repository/maven-releases/ 7 maven \u200b\u79c1\u6709\u200bsnapshots http://192.168.0.1:8081/repository/maven-snapshots/ 8 nuget \u200b\u4ed3\u5e93\u200b\u7ec4\u200b http://192.168.0.1:8081/repository/nuget-group/"},{"location":"c04/04-02/04-02/#1-dockernexus","title":"1. docker\u200b\u4f7f\u7528\u200bnexus\u200b\u79c1\u6709\u200b\u6e90","text":""},{"location":"c04/04-02/04-02/#11-nexus","title":"1.1 nexus\u200b\u79c1\u6709\u200b\u6e90","text":"<pre><code>\u200b\u62c9\u53d6\u200bdocker\u200b\u670d\u52a1\u5668\u200b\uff1a\"192.168.0.1:8082\" \n\u200b\u63d0\u4ea4\u200bdocker\u200b\u670d\u52a1\u5668\u200b\uff1a\"192.168.0.1:8083\"\n</code></pre>"},{"location":"c04/04-02/04-02/#12-httpshttps","title":"1.2 \u200b\u56e0\u4e3a\u200b\u4f7f\u7528\u200b\u7684\u200bhttps\u200b\u8bc1\u4e66\u200b\u662f\u200b\u81ea\u200b\u7b7e\u540d\u200b\uff0c\u200b\u9700\u8981\u200b\u624b\u52a8\u200b\u6dfb\u52a0\u200b\u5ffd\u7565\u200bhttps\u200b\u5b89\u5168\u200b\u9a8c\u8bc1\u200b\u5217\u8868\u200b\u3002","text":"<ul> <li>**\u200b\u5f53\u200b\u7cfb\u7edf\u200b\u662f\u200bwindows 10\uff0c\"insecure-registries\" \u200b\u8282\u70b9\u200b\u4e0b\u200b\u9700\u8981\u200b\u6dfb\u52a0\u200b\u8fc7\u6ee4\u200b</li> </ul> <pre><code>{\n  \"insecure-registries\": [\n    \"192.168.0.1:8082\",\n    \"192.168.0.1:8083\"\n  ]\n}\n</code></pre> <ul> <li>\u200b\u5f53\u200b\u7cfb\u7edf\u200b\u662f\u200b\u5176\u4ed6\u200b\u7cfb\u7edf\u200b\u65f6\u200b\u3002 \u200b\u5b98\u65b9\u200b\u6587\u6863\u200bdocker insecure</li> </ul> <pre><code>1. \u200b\u5f53\u200b\u7cfb\u7edf\u200b\u662f\u200blinux\u200b\u65f6\u200b\uff0c\u200b\u4fee\u6539\u200b /etc/docker/daemon.json (\u200b\u6587\u4ef6\u200b\u82e5\u200b\u4e0d\u200b\u5b58\u5728\u200b\uff0c\u200b\u53ef\u200b\u65b0\u5efa\u200b)\n{\n  \"insecure-registries\": [\n    \"192.168.0.1:8082\",\n    \"192.168.0.1:8083\"\n  ],\n  \"registry-mirrors\": [\n    \"https://docker.mirrors.ustc.edu.cn\",\n    \"https://hub-mirror.c.163.com/\"\n  ]\n}\n\n2. \u200b\u91cd\u542f\u200b\u670d\u52a1\u200b\nsystemctl restart docker &amp;&amp; systemctl status docker -l\n\n</code></pre>"},{"location":"c04/04-02/04-02/#13-192168018082","title":"1.3 \u200b\u62c9\u53d6\u200b\u955c\u50cf\u200b\uff08\u200b\u670d\u52a1\u5668\u200b:192.168.0.1:8082\uff09","text":"<pre><code># \u200b\u767b\u5f55\u200b192.168.0.1:8082\uff08\u200b\u53ea\u200b\u9700\u200b\u767b\u5f55\u200b\u6210\u529f\u200b\u4e00\u6b21\u200b\u5373\u53ef\u200b\uff09\ndocker login 192.168.0.1:8082 \n\n# \u200b\u641c\u7d22\u200b\u955c\u50cf\u200b\ndocker search 192.168.0.1:8082/hello-world\n\n# \u200b\u62c9\u53d6\u200b\u955c\u50cf\u200b\ndocker pull 192.168.0.1:8082/hello-world\n</code></pre>"},{"location":"c04/04-02/04-02/#14-192168018083","title":"1.4 \u200b\u4e0a\u4f20\u200b\u81ea\u5b9a\u4e49\u200b\u955c\u50cf\u200b\uff08\u200b\u670d\u52a1\u5668\u200b:192.168.0.1:8083\uff09","text":"<pre><code># \u200b\u62c9\u53d6\u200b\u955c\u50cf\u200b\ndocker pull 192.168.0.1:8082/hello-world\n\n# \u200b\u8fd0\u884c\u200b\ndocker run -t -i 192.168.0.1:8082/centos\n\n# \u200b\u67e5\u770b\u200b\u4efb\u52a1\u200b\u8fd0\u884c\u200b\uff0c\u200b\u5728\u200bdocker commit\u200b\u65f6\u200b\u9700\u8981\u200b\u5176\u4e2d\u200b\u7684\u200b&lt;CONTAINER ID&gt;\ndocker ps -a \n\n# \u200b\u63d0\u4ea4\u200b\ndocker commit -m \"test\" &lt;CONTAINER ID&gt; 192.168.0.1:8083/nexus-test\n\n# \u200b\u767b\u5f55\u200b192.168.0.1:8083\uff08\u200b\u53ea\u200b\u9700\u200b\u767b\u5f55\u200b\u6210\u529f\u200b\u4e00\u6b21\u200b\u5373\u53ef\u200b\uff09\ndocker login 192.168.0.1:8083\n\n# \u200b\u63a8\u9001\u200b\u672c\u5730\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u955c\u50cf\u200b\ndocker push 192.168.0.1:8083/nexus-test\n\n# \u200b\u5c1d\u8bd5\u200b\u62c9\u53d6\u200b\u521a\u200b\u4e0a\u4f20\u200b\u8fc7\u200b\u7684\u200b\u955c\u50cf\u200b\uff0c\u200b\u5e94\u8be5\u200b\u53ef\u4ee5\u200b\u6210\u529f\u200b\u62c9\u53d6\u200b\ndocker pull 192.168.0.1:8082/nexus-test\n</code></pre>"},{"location":"c04/04-02/04-02/#2-mavennexus","title":"2. maven\u200b\u4f7f\u7528\u200bnexus\u200b\u6e90","text":""},{"location":"c04/04-02/04-02/#21","title":"2.1 \u200b\u9879\u76ee\u200b\u4f7f\u7528\u200b\u672c\u5730\u200b\u4ed3\u5e93","text":"<ul> <li>\u200b\u4fee\u6539\u200bbuild.gradle\uff0c\u200b\u6539\u4e3a\u200b\u672c\u5730\u200b\u4ed3\u5e93\u200b\u7ec4\u200b:</li> </ul> <pre><code>    repositories {\n        maven {\n            url \"http://192.168.0.1:8081/repository/maven-public/\"\n        }\n    }\n</code></pre>"},{"location":"c04/04-02/04-02/#22-jarreleasessnapshots","title":"2.2 \u200b\u4e0a\u4f20\u200b\u672c\u5730\u200b\u9879\u76ee\u200bjar\u200b\u5230\u200b\u79c1\u6709\u200b\u5e93\u200breleases\u200b\u548c\u200bsnapshots","text":"<ul> <li>\u200b\u4fee\u6539\u200bbuild.gradle, \u200b\u7136\u540e\u200b\u5728\u200b\u9879\u76ee\u200b\u6839\u76ee\u5f55\u200b\u4e0b\u200b\u6267\u884c\u200b\"gradle upload\"\uff0c\u200b\u5373\u53ef\u200b\u4e0a\u4f20\u200b\u6210\u529f\u200b\u3002</li> </ul> <pre><code>apply plugin: 'maven'\nuploadArchives {\n    repositories {\n        mavenDeployer {\n            repository(url: \"http://192.168.0.1:8081/repository/maven-releases\")\n                    {\n                        authentication(userName: 'tester', password: 'tester')\n                    }\n            snapshotRepository(url: \"http://192.168.0.1:8081/repository/maven-snapshots\")\n                    {\n                authentication(userName: 'tester', password: 'tester')\n                    }\n            pom.version = \"1.0.1\"\n            pom.artifactId = \"example\"\n            pom.groupId = \"com.xxx\"\n        }\n    }\n}\n\n</code></pre> <ul> <li>\u200b\u5907\u6ce8\u200b\uff1a\u200b\u7248\u672c\u53f7\u200b\u8bbe\u7f6e\u200b\u3002\u200b\u82e5\u200b\u7248\u672c\u53f7\u200b\u4ee5\u200b\"-SNAPSHOT\"\u200b\u7ed3\u5c3e\u200b,\u200b\u4f1a\u200b\u53d1\u5e03\u200b\u5230\u200brelease\u200b\u4ed3\u5e93\u200b\uff0c\u200b\u5176\u4ed6\u200b\u60c5\u51b5\u200b\u53d1\u5e03\u200b\u5230\u200breleases\u200b\u5206\u652f\u200b</li> </ul> <pre><code>pom.version = \"1.0.1-SNAPSHOT\"\n</code></pre>"},{"location":"c04/04-02/04-02/#3-pypinexus","title":"3. pypi\u200b\u4f7f\u7528\u200bnexus\u200b\u6e90","text":""},{"location":"c04/04-02/04-02/#30","title":"3.0 \u200b\u5b98\u65b9\u200b\u6587\u6863","text":"<p>\u200b\u4f20\u9001\u95e8\u200b</p>"},{"location":"c04/04-02/04-02/#31","title":"3.1 \u200b\u9879\u76ee\u200b\u4f7f\u7528\u200b\u672c\u5730\u200b\u4ed3\u5e93","text":"<ul> <li>\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u662f\u200bwindows\uff0c\u200b\u65b0\u589e\u200b\u914d\u7f6e\u6587\u4ef6\u200b(C:\\Users\\&lt;\u200b\u4f60\u200b\u7684\u200b\u5e10\u6237\u540d\u200b&gt;\\pip\\pip.ini)\u3002</li> </ul> <pre><code>[global]\nindex = http://192.168.0.1:8081/repository/pypi-public/pypi\nindex-url = http://192.168.0.1:8081/repository/pypi-public/simple\n\n[install]\ntrusted-host=192.168.0.1\n</code></pre> <ul> <li>\u200b\u5176\u4ed6\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b</li> </ul> <p>TBC</p>"},{"location":"c04/04-02/04-02/#32-releases","title":"3.2 \u200b\u4e0a\u4f20\u200b\u672c\u5730\u200b\u9879\u76ee\u200b\u5230\u200b\u79c1\u6709\u200b\u5e93\u200breleases","text":"<ul> <li>\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u662f\u200bwindows\uff0c\u200b\u65b0\u5efa\u200b\u6587\u4ef6\u200b\uff08C:\\Users\\&lt;\u200b\u4f60\u200b\u7684\u200b\u5e10\u6237\u540d\u200b&gt;.pypirc\uff09</li> </ul> <pre><code>[distutils]\nindex-servers = nexus\n\n[nexus]\nrepository = http://192.168.0.1:8081/repository/pypi-releases/\nusername = tester\npassword = tester\n</code></pre> <ul> <li>\u200b\u5176\u4ed6\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b</li> </ul> <p>TBC</p> <ul> <li>\u200b\u4f7f\u7528\u200b twine \u200b\u4e0a\u4f20\u200b (\u200b\u5e2e\u52a9\u200b\u6587\u6863\u200b)</li> </ul> <pre><code>pip install twine\ntwine upload -r nexus &lt;filename&gt;\n</code></pre>"},{"location":"c04/04-02/04-02/#4-npmnexus","title":"4. npm\u200b\u4f7f\u7528\u200bnexus\u200b\u6e90","text":""},{"location":"c04/04-02/04-02/#41","title":"4.1 \u200b\u9879\u76ee\u200b\u4f7f\u7528\u200b\u672c\u5730\u200b\u4ed3\u5e93","text":"<pre><code>npm config set registry http://192.168.0.1:8081/repository/npm-public/\nnpm config list\nnpm install -g redis\n</code></pre>"},{"location":"c04/04-02/04-02/#42-releases","title":"4.2 \u200b\u4e0a\u4f20\u200b\u672c\u5730\u200b\u9879\u76ee\u200b\u5230\u200b\u79c1\u6709\u200b\u5e93\u200breleases","text":"<p>TBC</p>"},{"location":"c04/04-02/04-02/#5-nugetnexus","title":"5. nuget\u200b\u4f7f\u7528\u200bnexus\u200b\u6e90","text":""},{"location":"c04/04-02/04-02/#51","title":"5.1 \u200b\u9879\u76ee\u200b\u4f7f\u7528\u200b\u672c\u5730\u200b\u4ed3\u5e93","text":"<pre><code>http://192.168.0.1:8081/repository/nuget-group/\n</code></pre>"},{"location":"c04/04-02/04-02/#6-nexus","title":"6. nexus \u200b\u81ea\u200b\u7b7e\u540d\u200b\u8bc1\u4e66","text":"<p>\u200b\u5b98\u65b9\u200b\u5e2e\u52a9\u200b\u94fe\u63a5\u200b</p> <pre><code>keytool -genkeypair -keystore keystore.jks -storepass nexus3 -keypass nexus3 -alias jetty -keyalg RSA -keysize 2048 -validity 5000 -dname \"CN=*.nexus, OU=Example, O=Sonatype, L=Unspecified, ST=Unspecified, C=US\" -ext \"SAN=DNS:nexus,IP:192.168.0.1\" -ext \"BC=ca:true\"\n\nkeytool -delete -keystore keystore.jks -alias jetty\n</code></pre>"},{"location":"c04/04-08/","title":"nginx \u200b\u5b89\u88c5\u200b\u548c\u200b\u4f7f\u7528","text":""},{"location":"c04/04-08/#1","title":"1. \u200b\u9700\u6c42","text":""},{"location":"c04/04-08/#_1","title":"\u9700\u6c42\u200b\u76ee\u7684","text":"<pre><code>1. \u200b\u53cd\u5411\u200b\u4ee3\u7406\u200b\n2. \u200b\u4f1a\u8bdd\u200b\u4fdd\u6301\u200b\n3. \u200b\u8d1f\u8f7d\u200b\u5747\u8861\u200b\n</code></pre>"},{"location":"c04/04-08/#_2","title":"\u53c2\u8003\u200b\u94fe\u63a5","text":"<pre><code>http://nginx.org/en/docs/\nhttp://nolinux.blog.51cto.com/4824967/1594029\n</code></pre>"},{"location":"c04/04-08/#2-nginx","title":"2. \u200b\u9ed8\u8ba4\u200b\u5b89\u88c5\u200b nginx","text":""},{"location":"c04/04-08/#21-pcre-839","title":"2.1 \u200b\u79bb\u7ebf\u200b\u5b89\u88c5\u200b\u4f9d\u8d56\u200b pcre-8.39","text":""},{"location":"c04/04-08/#_3","title":"\u6587\u6863","text":"<pre><code>http://www.pcre.org/\n</code></pre>"},{"location":"c04/04-08/#_4","title":"\u5b89\u88c5","text":"<pre><code>wget ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.39.tar.gz\ntar xzf pcre-8.39.tar.gz\ncd pcre\n./configure\nmake\nmake install \n</code></pre>"},{"location":"c04/04-08/#_5","title":"\u68c0\u67e5\u200b\u7248\u672c","text":"<pre><code>pcre-config --version\n</code></pre>"},{"location":"c04/04-08/#22-nginx-1103","title":"2.2 nginx 1.10.3 \u200b\u79bb\u7ebf\u200b\u5b89\u88c5","text":""},{"location":"c04/04-08/#_6","title":"\u6587\u6863","text":"<pre><code>http://nginx.org/en/docs/\n</code></pre>"},{"location":"c04/04-08/#_7","title":"\u5b89\u88c5","text":"<pre><code>yum group list\nyum groupinstall \"Development tools\" -y\nsudo yum install zlib-devel\nwget https://nginx.org/download/nginx-1.10.3.tar.gz\ntar xzf nginx-1.10.3.tar.gz\ncd nginx\n./configure --prefix=/opt/app/nginx\nmake\nmake install\n</code></pre>"},{"location":"c04/04-08/#_8","title":"\u68c0\u67e5\u200b\u7248\u672c","text":"<pre><code>/usr/local/nginx/sbin/nginx -V\n</code></pre>"},{"location":"c04/04-08/#3","title":"3. \u200b\u53cd\u5411\u200b\u4ee3\u7406","text":""},{"location":"c04/04-08/#31-ngx_http_proxy_module-ngx_http_upstream_module","title":"3.1 ngx_http_proxy_module \u200b\u548c\u200b ngx_http_upstream_module\u200b\u6a21\u5757\u200b (\u200b\u81ea\u5e26\u200b)","text":""},{"location":"c04/04-08/#_9","title":"\u6587\u6863","text":"<pre><code>http://nginx.org/en/docs/http/ngx_http_upstream_module.html\nhttp://nginx.org/en/docs/http/ngx_http_proxy_module.html\n</code></pre>"},{"location":"c04/04-08/#_10","title":"\u914d\u7f6e","text":"<pre><code>http {\n    include       mime.types;\n    default_type  application/octet-stream;\n    sendfile        on;\n    keepalive_timeout  65;\n\n    upstream some_TEST {\n        sticky name=route expires=2h ;\n        server 10.0.0.1:80;\n        server 10.0.0.2:80;\n        keepalive 2000;\n    }\n\n    server {\n        listen       80;\n        server_name  localhost;\n\n        location / {\n            proxy_pass          http://some_TEST/;\n            proxy_redirect      default;\n            proxy_set_header    X-Real-IP       $remote_addr;\n            proxy_set_header    X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_http_version 1.1;\n            proxy_set_header Connection \"\";\n        }\n\n    }\n}\n</code></pre>"},{"location":"c04/04-08/#32-nginx_upstream_check_module","title":"3.2 \u200b\u5065\u5eb7\u68c0\u67e5\u200b\u6a21\u5757\u200b nginx_upstream_check_module (\u200b\u7b2c\u4e09\u65b9\u200b)(\u200b\u6ca1\u6709\u200b\u5b89\u88c5\u200b)","text":""},{"location":"c04/04-08/#_11","title":"\u6587\u6863","text":"<pre><code>https://github.com/yaoweibin/nginx_upstream_check_module\n</code></pre>"},{"location":"c04/04-08/#_12","title":"\u5b89\u88c5","text":"<pre><code>wget http://nginx.org/download/nginx-1.10.3.tar.gz\ntar xzf nginx-1.10.3.tar.gz\ncd nginx\n\n# \u200b\u5b89\u88c5\u200b\u8865\u4e01\u200b\nwget https://github.com/yaoweibin/nginx_upstream_check_module/archive/master.zip\nunzip nginx_upstream_check_module-master.zip\npatch -p0 &lt; /opt/soft/nginx_upstream_check_module-master/check_1.9.2+.patch \n./configure --add-module=/opt/soft/nginx_upstream_check_module-master \nmake\nmake install\n</code></pre>"},{"location":"c04/04-08/#_13","title":"\u914d\u7f6e\u200b\u6587\u6863","text":"<pre><code>https://github.com/yaoweibin/nginx_upstream_check_module\n</code></pre>"},{"location":"c04/04-08/#_14","title":"\u914d\u7f6e\u200b\u8303\u4f8b","text":"<pre><code>http {\n    upstream tyk_gateway {\n        server 10.1.249.172:8080;\n        server 10.1.249.128:8080;\n        check interval=5000 rise=3 fall=3 timeout=4000 type=http;\n        check_http_expect_alive http_2xx http_3xx http_4xx;\n    }\n\n    server {\n    listen 9001;\n        location / {\n            proxy_pass http://tyk_gateway;\n        }\n    location /status {\n                check_status;\n                access_log   off;\n                allow 0.0.0.0;\n                allow all;\n           }\n    }\n}\n</code></pre>"},{"location":"c04/04-08/#4","title":"4. \u200b\u8d1f\u8f7d\u200b\u5747\u8861","text":""},{"location":"c04/04-08/#41-ip_hash","title":"4.1 ip_hash \u200b\u8d1f\u8f7d\u200b\u5747\u8861\u200b (\u200b\u81ea\u5e26\u200b)","text":""},{"location":"c04/04-08/#_15","title":"\u914d\u7f6e\u200b\u6587\u6863","text":"<pre><code>http://nginx.org/en/docs/http/load_balancing.html#nginx_load_balancing_with_ip_hash\n</code></pre>"},{"location":"c04/04-08/#_16","title":"\u914d\u7f6e\u200b\u8303\u4f8b","text":"<pre><code># upstream\u200b\u8282\u70b9\u200b\u4e2d\u200b\u6dfb\u52a0\u200b\u201cip_hash\u201d\u200b\u5373\u53ef\u200b\nhttp {\n    upstream tyk_gateway {\n        ip_hash;\n        server 10.1.249.172:8080;\n        server 10.1.249.128:8080;\n    }\n}\n</code></pre>"},{"location":"c04/04-08/#42-sticky","title":"4.2 Sticky \u200b\u8d1f\u8f7d\u200b\u5747\u8861\u200b (\u200b\u7b2c\u4e09\u65b9\u200b)(\u200b\u9ed8\u8ba4\u200b\u5b89\u88c5\u200b)","text":""},{"location":"c04/04-08/#_17","title":"\u914d\u7f6e\u200b\u6587\u6863","text":"<pre><code>https://bitbucket.org/nginx-goodies/nginx-sticky-module-ng\n</code></pre>"},{"location":"c04/04-08/#_18","title":"\u5b89\u88c5","text":"<pre><code>wget https://bitbucket.org/nginx-goodies/nginx-sticky-module-ng/get/master.tar.gz\ntar xvzf master.tar.gz\ncd /opt/soft/nginx\n./configure --prefix=/opt/app/nginx --add-module=/opt/soft/nginx-sticky-module-ng\nmv /opt/app/nginx/sbin/nginx /opt/app/nginx/sbin/nginx.old\nmake\nmake install\nsudo kill -9 $(ps -ef | grep nginx | grep -v grep | awk '{print $2}')\ncd /opt/app/nginx/sbin\nsudo ./nginx\n</code></pre>"},{"location":"c04/04-08/#_19","title":"\u914d\u7f6e\u200b\u8303\u4f8b","text":"<pre><code>http {\n    upstream some_TEST {\n        sticky name=route expires=2h ;\n        server 10.253.9.60:80;\n        server 10.253.9.116:80;\n        keepalive 2000;\n    }\n}\n</code></pre>"},{"location":"c04/04-08/#5","title":"5. \u200b\u5e38\u7528\u547d\u4ee4","text":""},{"location":"c04/04-08/#51-nginx","title":"5.1 \u200b\u5e38\u7528\u200bnginx\u200b\u547d\u4ee4","text":"<pre><code>sudo /usr/local/nginx/sbin/nginx -c /etc/nginx/nginx.conf\n# \u200b\u505c\u6b62\u200bNginx\nnginx -s stop\n# \u200b\u5e73\u7a33\u200b\u5173\u95ed\u200bNginx\uff0c\u200b\u4fdd\u5b58\u200b\u76f8\u5173\u200b\u4fe1\u606f\u200b\uff0c\u200b\u6709\u200b\u5b89\u6392\u200b\u7684\u200b\u7ed3\u675f\u200bweb\u200b\u670d\u52a1\u200b\nnginx -s quit \n# \u200b\u56e0\u200b\u6539\u53d8\u200b\u4e86\u200bNginx\u200b\u76f8\u5173\u200b\u914d\u7f6e\u200b\uff0c\u200b\u9700\u8981\u200b\u91cd\u65b0\u200b\u52a0\u8f7d\u200b\u914d\u7f6e\u200b\u800c\u200b\u91cd\u8f7d\u200b\nnginx -s reload\n# \u200b\u91cd\u65b0\u200b\u6253\u5f00\u200b\u65e5\u5fd7\u200b\u6587\u4ef6\u200b\nnginx -s reopen\n\n# \u200b\u5e38\u7528\u200blinux\u200b\u547d\u4ee4\u200b\nfind / -name libcrypto\nlocate libcrypto.so\nsudo lsof -i:\uff08\u200b\u7aef\u53e3\u53f7\u200b\uff09\nkill -9 &lt;PID&gt;\nnetstat -ant | grep $ip:8080 |wc -l\ntop\nps aux | grep nginx\n</code></pre>"},{"location":"c04/04-08/#52","title":"5.2 \u200b\u62a5\u9519\u200b\u5904\u7406","text":"<ul> <li>\u200b\u627e\u200b\u4e0d\u5230\u200b libcrypto.so</li> </ul> <pre><code># \u200b\u505a\u8f6f\u200b\u94fe\u63a5\u200b\nln -s /usr/local/lib/libcrypto.so.1.1 /lib64\n</code></pre>"},{"location":"c04/04-10/04-10/","title":"etcd cluster-\u200b\u53ef\u7528\u6027\u200b\u6d4b\u8bd5","text":""},{"location":"c04/04-10/04-10/#_1","title":"\u6982\u8ff0","text":""},{"location":"c04/04-10/04-10/#_2","title":"\u4ecb\u7ecd","text":"<pre><code>etcd \u200b\u662f\u200b\u4e00\u4e2a\u200b\u9ad8\u200b\u53ef\u7528\u200b\u7684\u200b\u5206\u5e03\u5f0f\u200b key-value(\u200b\u952e\u503c\u200b) \u200b\u5b58\u50a8\u7cfb\u7edf\u200b\n</code></pre>"},{"location":"c04/04-10/04-10/#_3","title":"\u6587\u6863","text":"<pre><code># api \u200b\u6587\u6863\u200b\nhttps://coreos.com/etcd/docs/latest/api.html\n# \u200b\u642d\u5efa\u200b etcd \u200b\u96c6\u7fa4\u200b\nhttps://segmentfault.com/a/1190000003852735\n# etcd \u200b\u96c6\u7fa4\u200b\u7684\u200b\u7ba1\u7406\u200b \nhttps://segmentfault.com/a/1190000003976539\n</code></pre>"},{"location":"c04/04-10/04-10/#_4","title":"\u5de5\u5177","text":"<ul> <li> <p>etcd cluster NLB\u200b\u5065\u5eb7\u68c0\u67e5\u200b\u9875\u9762\u200b </p> </li> <li> <p>etcd console </p> </li> </ul>"},{"location":"c04/04-10/04-10/#_5","title":"\u53ef\u7528\u6027\u200b\u6d4b\u8bd5","text":""},{"location":"c04/04-10/04-10/#_6","title":"\u76ee\u7684","text":"<ul> <li>\u200b\u6d4b\u8bd5\u73af\u5883\u200b\u4e2d\u200b\uff0cetcd \u200b\u96c6\u7fa4\u200b\u5927\u5c0f\u200b\u4e3a\u200b3</li> <li>\u200b\u6d4b\u8bd5\u200b\u96c6\u7fa4\u200b\u4e2d\u200b0~3\u200b\u53f0\u200b\u670d\u52a1\u5668\u200b\u6d3b\u8dc3\u200b\u65f6\u200b\uff0c\u200b\u8bfb\u5199\u200b\u53ef\u7528\u6027\u200b</li> <li>\u200b\u8bfb\u200b\uff1aget http://10.1.249.172:9003/v2/keys/test1</li> <li>\u200b\u5199\u200b\uff1aput http://10.1.249.172:9003/v2/keys/test1?value=value1</li> </ul>"},{"location":"c04/04-10/04-10/#_7","title":"\u6d4b\u8bd5\u200b\u7ed3\u679c","text":"\u96c6\u7fa4\u200b\u4e2d\u200b\u6d3b\u8dc3\u200b\u670d\u52a1\u5668\u200b\u6570\u200b \u200b\u8bfb\u53d6\u200b \u200b\u5199\u5165\u200b 0 \u200b\u4e0d\u53ef\u200b\u7528\u200b \u200b\u4e0d\u53ef\u200b\u7528\u200b 1 \u200b\u53ef\u7528\u200b \u200b\u4e0d\u53ef\u200b\u7528\u200b 2 \u200b\u53ef\u7528\u200b \u200b\u53ef\u7528\u200b 3 \u200b\u53ef\u7528\u200b \u200b\u53ef\u7528"},{"location":"c04/04-10/04-10/#_8","title":"\u5907\u6ce8","text":"<ul> <li>\u200b\u6d4b\u8bd5\u200b\u96c6\u7fa4\u200b\u4e2d\u200b1\u200b\u53f0\u200b\u670d\u52a1\u5668\u200b\u6d3b\u8dc3\u200b\u65f6\u200b\uff0c\u200b\u5199\u5165\u200b\u65f6\u62a5\u200b\u9519\u200b\uff0c\u200b\u9519\u8bef\u4fe1\u606f\u200b\u5982\u4e0b\u200b\uff1a</li> </ul> <pre><code>{\"errorCode\":300,\"message\":\"Raft Internal Error\",\"cause\":\"etcdserver: request timed out, possibly due to connection lost\",\"index\":0}\n</code></pre>"},{"location":"c04/04-21/","title":"linux \u200b\u7cfb\u7edf\u8d44\u6e90\u200b\u9650\u5236\u200b\u7ba1\u7406\u200b (\u200b\u5efa\u8bae\u200b64\u200b\u4f4d\u200b\u7cfb\u7edf\u200b)","text":""},{"location":"c04/04-21/#1","title":"1. \u200b\u8bbe\u7f6e\u200b\u539f\u56e0","text":"<p>Linux\u200b\u5bf9\u4e8e\u200b\u6bcf\u4e2a\u200b\u7528\u6237\u200b\uff0c\u200b\u7cfb\u7edf\u200b\u9650\u5236\u200b\u5176\u200b\u6700\u5927\u200b\u7684\u200b\u8d44\u6e90\u200b\u6570\u200b\u3002</p> <p>\u200b\u4e3a\u200b\u63d0\u9ad8\u200b\u6027\u80fd\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u6839\u636e\u200b\u8bbe\u5907\u200b\u8d44\u6e90\u200b\u60c5\u51b5\u200b, \u200b\u81ea\u5b9a\u4e49\u200b\u53c2\u6570\u200b, \u200b\u4e00\u822c\u200b\u53ea\u200b\u8bbe\u7f6e\u200b\u6700\u5927\u200b\u53e5\u67c4\u200b\u6570\u200b\u548c\u200b\u6700\u5927\u200b\u8fdb\u7a0b\u200b\u6570\u200b.</p>"},{"location":"c04/04-21/#2","title":"2. \u200b\u67e5\u770b\u200b\u9650\u5236","text":""},{"location":"c04/04-21/#21-ulimit","title":"2.1 ulimit \u200b\u9650\u5236","text":"<pre><code># \u200b\u7cfb\u7edf\u200b\u6240\u6709\u200b\u9650\u5236\u200b\nulimit -a\n\n# \u200b\u6700\u5927\u200b\u53e5\u67c4\u200b\u6570\u200b\nulimit -n\n\n# \u200b\u6700\u5927\u200b\u8fdb\u7a0b\u200b\u6570\u200b\nulimit -u\n\n# \u200b\u6700\u5927\u200b\u5806\u6808\u200b\u5927\u5c0f\u200b\nulimit -s\n</code></pre>"},{"location":"c04/04-21/#22-sysctl","title":"2.2 sysctl \u200b\u9650\u5236","text":"<pre><code># \u200b\u6700\u5927\u200b\u53e5\u67c4\u200b\ncat /proc/sys/fs/file-max\n\u200b\u6216\u8005\u200b\nsudo sysctl -a | grep fs.file-max\n\n# \u200b\u6700\u5927\u200b\u8fdb\u7a0b\u200b\u6570\u200b\ncat /proc/sys/kernel/pid_max\n\u200b\u6216\u8005\u200b\nsudo sysctl -a | grep kernel.pid_max\n\n# \u200b\u6700\u5927\u200b\u7ebf\u7a0b\u200b\u6570\u200b\ncat /proc/sys/kernel/threads-max\n\u200b\u6216\u8005\u200b\nsudo sysctl -a | grep kernel.threads-max\n\n# \u200b\u5355\u4e2a\u200bJVM\u200b\u80fd\u200b\u5f00\u542f\u200b\u7684\u200b\u6700\u5927\u200b\u7ebf\u7a0b\u200b\u6570\u662f\u200b/proc/sys/vm/max_map_count\u200b\u7684\u200b\u8bbe\u7f6e\u200b\u6570\u200b\u7684\u200b\u4e00\u534a\u200b\ncat /proc/sys/vm/max_map_count\n\u200b\u6216\u8005\u200b\nsudo sysctl -a | grep vm.max_map_count\n</code></pre>"},{"location":"c04/04-21/#23","title":"2.3 \u200b\u5f53\u524d\u200b\u8d44\u6e90\u200b\u4f7f\u7528\u200b(\u200b\u53e5\u67c4\u200b)","text":"<pre><code># \u200b\u68c0\u67e5\u200b\u5355\u4e2a\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u9650\u5236\u200b\ncat /proc/&lt;pid&gt;/limits\n\n# \u200b\u67e5\u770b\u200b\u8fdb\u7a0b\u200b\u6240\u200b\u5360\u200b\u7684\u200b\u6587\u4ef6\u200b\u63cf\u8ff0\u7b26\u200b\nlsof -p &lt;pid&gt; | wc -l\n\n# \u200b\u53e5\u67c4\u200b\u5206\u914d\u60c5\u51b5\u200b \ncat /proc/sys/fs/file-nr \n&gt; 3136  0   80000\n\u200b\u4e09\u4e2a\u200b\u6570\u200b\u7684\u200b\u610f\u4e49\u200b: \u200b\u5df2\u200b\u5206\u914d\u200b\u6587\u4ef6\u200b\u53e5\u67c4\u200b\u7684\u200b\u6570\u76ee\u200b / \u200b\u5206\u914d\u200b\u4e86\u200b\u4f46\u200b\u6ca1\u6709\u200b\u4f7f\u7528\u200b\u7684\u200b\u53e5\u67c4\u200b\u6570\u76ee\u200b / \u200b\u6587\u4ef6\u200b\u53e5\u67c4\u200b\u7684\u200b\u6700\u5927\u200b\u6570\u76ee\u200b\n\n</code></pre>"},{"location":"c04/04-21/#24","title":"2.4 \u200b\u5f53\u524d\u200b\u8d44\u6e90\u200b\u4f7f\u7528\u200b(\u200b\u8fdb\u7a0b\u200b)","text":"<pre><code># \u200b\u5355\u4e2a\u200b\u8fdb\u7a0b\u200b\u4f7f\u7528\u200b\u7684\u200b\u7ebf\u7a0b\u200b\npstree -p &lt;pid&gt; | wc -l\n\n# \u200b\u67e5\u8be2\u200b\u5f53\u524d\u200b\u6574\u4e2a\u200b\u7cfb\u7edf\u200b\u5df2\u7528\u200b\u7684\u200b\u7ebf\u7a0b\u200b\u6216\u200b\u8fdb\u7a0b\u200b\u6570\u200b\npstree -p | wc -l\n\n# \u200b\u67e5\u770b\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u8be6\u60c5\u200b\ncat /proc/&lt;pid&gt;/status\n</code></pre>"},{"location":"c04/04-21/#3","title":"3. \u200b\u8bbe\u7f6e\u200b\u9650\u5236","text":""},{"location":"c04/04-21/#31-etcsecuritylimitsconf","title":"3.1 \u200b\u4fee\u6539\u200b /etc/security/limits.conf","text":"<pre><code>\u200b\u5728\u200b\u6587\u4ef6\u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u884c\u200b\u540e\u9762\u200b\u6dfb\u52a0\u200b:\n\n* soft nproc 80000\n* hard nproc 80000\n* soft nofile 80000\n* hard nofile 80000\nroot soft nproc 80000\nroot hard nproc 80000\nroot soft nofile 80000\nroot hard nofile 80000\n</code></pre>"},{"location":"c04/04-21/#32-etcsecuritylimitsd90-nprocconf","title":"3.2 \u200b\u4fee\u6539\u200b /etc/security/limits.d/90-nproc.conf (\u200b\u5982\u679c\u200b\u5b58\u5728\u200b\u7684\u8bdd\u200b):","text":"<pre><code>\u200b\u627e\u5230\u200b:\n*          soft    nproc     1024\nroot       soft    nproc     unlimited\n\n\u200b\u6ce8\u91ca\u200b\u6389\u200b\u8fd9\u200b\u4e24\u884c\u200b:\n# *          soft    nproc     1024\n# root       soft    nproc     unlimited\n</code></pre>"},{"location":"c04/04-21/#33-etcsysctlconf","title":"3.3 \u200b\u4fee\u6539\u200b /etc/sysctl.conf","text":"<pre><code>1) \u200b\u5728\u200b\u6587\u4ef6\u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u884c\u200b\u540e\u9762\u200b\u6dfb\u52a0\u200b:\n\nfs.file-max=80000\nkernel.pid_max=80000\nkernel.threads-max=80000\nvm.max_map_count=160000\nnet.ipv4.tcp_fin_timeout=30\n\n2) \u200b\u7136\u540e\u200b sudo sysctl -p , \u200b\u751f\u6548\u200b\n</code></pre>"},{"location":"c04/04-21/#34","title":"3.4 \u200b\u767b\u51fa\u200b\u7528\u6237\u200b\u540e\u200b, \u200b\u91cd\u65b0\u200b\u767b\u5f55","text":""},{"location":"c04/04-21/#35-supervisor-supervisor","title":"3.5 \u200b\u8bbe\u7f6e\u200b\u6210\u529f\u200b\u540e\u200b, \u200b\u8fdb\u7a0b\u200b\u9700\u8981\u200b\u91cd\u65b0\u542f\u52a8\u200b\u624d\u80fd\u200b\u751f\u6548\u200b. \u200b\u5982\u679c\u200b\u662f\u200bSupervisor\u200b\u5b88\u62a4\u200b\u7684\u8bdd\u200b, \u200b\u9700\u8981\u200b\u5c06\u200b Supervisor\u200b\u8fdb\u7a0b\u200b\u91cd\u542f\u200b\u624d\u884c","text":""},{"location":"c04/04-22/","title":"redis\u200b\u5185\u5b58\u200b\u5360\u7528\u200b\u5206\u6790","text":""},{"location":"c04/04-22/#1","title":"1. \u200b\u73b0\u8c61","text":"<p>redis\u200b\u96c6\u7fa4\u200b\u4e2d\u6709\u200b\u4e09\u4e2a\u200bredis\u200b\u5b9e\u4f8b\u200b, \u200b\u5176\u4e2d\u200b\u7684\u200b\u4e00\u4e2a\u200b\u5b9e\u4f8b\u200b \u200b\u5185\u5b58\u200b\u5360\u7528\u200b\u6bd4\u200b\u5176\u4ed6\u200b\u4e24\u53f0\u200b\u591a\u200b16\u200b\u4e2a\u200bG, \u200b\u5e76\u4e14\u200b\u4e0d\u65ad\u200b\u589e\u957f\u200b.</p>"},{"location":"c04/04-22/#2","title":"2. \u200b\u53ef\u80fd\u6027\u200b\u5206\u6790","text":"<p>2.1 \u200b\u5b58\u5728\u200b\u6bd4\u8f83\u200b\u5927\u200b\u7684\u200bkey 2.2 \u200b\u4e09\u4e2a\u200b\u5b9e\u4f8b\u200b, \u200b\u7b97\u6cd5\u200b\u6709\u200b\u95ee\u9898\u200b,\u200b\u9020\u6210\u200bkey\u200b\u5206\u914d\u200b\u4e0d\u5747\u200b 2.3 \u200b\u4e3b\u4ece\u590d\u5236\u200b\u51fa\u9519\u200b 2.4 \u200b\u5176\u4ed6\u200b\u539f\u56e0\u200b  </p>"},{"location":"c04/04-22/#3-key","title":"3. \u200b\u5904\u7406\u200b\u6b65\u9aa4\u200b\u4e00\u200b: (\u200b\u5b58\u5728\u200b\u6bd4\u8f83\u200b\u5927\u200b\u7684\u200bkey)","text":""},{"location":"c04/04-22/#31","title":"3.1 \u200b\u6587\u6863","text":"<pre><code>redis-cli\u200b\u76f8\u5173\u200b\u547d\u4ee4\u200b: https://redis.io/topics/rediscli\n</code></pre>"},{"location":"c04/04-22/#32","title":"3.2 \u200b\u6267\u884c","text":"<pre><code>redis-cli --bigkeys\n</code></pre> <p>\u200b\u53d1\u73b0\u200b\u4e00\u4e9b\u200b\u6bd4\u8f83\u200b\u5927\u200b\u7684\u200bkey, \u200b\u901a\u8fc7\u200b\u4e1a\u52a1\u200b\u4e0a\u200b\u8fdb\u884c\u200b\u6838\u51cf\u200b, \u200b\u5199\u5165\u200bpython\u200b\u811a\u672c\u200b, \u200b\u653e\u5230\u200b\u6bcf\u65e5\u200b\u5b9a\u65f6\u200b\u4efb\u52a1\u200b.</p>"},{"location":"c04/04-22/#33","title":"3.3 \u200b\u7ed3\u679c","text":"<pre><code>3\u200b\u4e2a\u200b\u5b9e\u4f8b\u200b\u5360\u7528\u200b\u7684\u200b\u5185\u5b58\u200b\u90fd\u200b\u51cf\u5c11\u200b\u4e86\u200b, \u200b\u4f46\u662f\u200b \u200b\u5176\u4e2d\u200b\u7684\u200b\u4e00\u4e2a\u200b\u5b9e\u4f8b\u200b \u200b\u5360\u7528\u200b\u7684\u200b\u5185\u5b58\u200b\u8fd8\u662f\u200b\u6bd4\u200b\u5176\u4ed6\u200b\u4e24\u53f0\u200b\u591a\u200b,\u200b\u6392\u9664\u200b\u8fd9\u4e2a\u200b\u539f\u56e0\u200b.\n</code></pre>"},{"location":"c04/04-22/#4-key","title":"4. \u200b\u5904\u7406\u200b\u6b65\u9aa4\u200b\u4e8c\u200b: (\u200b\u4e09\u4e2a\u200b\u5b9e\u4f8b\u200b, \u200b\u7b97\u6cd5\u200b\u6709\u200b\u95ee\u9898\u200b,\u200b\u9020\u6210\u200bkey\u200b\u5206\u914d\u200b\u4e0d\u5747\u200b)","text":""},{"location":"c04/04-22/#41","title":"4.1 \u200b\u6587\u6863","text":"<pre><code>redis-cli\u200b\u76f8\u5173\u200b\u547d\u4ee4\u200b: https://redis.io/topics/rediscli\nRedis \u200b\u5185\u5b58\u200b\u5206\u6790\u65b9\u6cd5\u200b: https://help.aliyun.com/knowledge_detail/50037.html\n</code></pre>"},{"location":"c04/04-22/#42","title":"4.2 \u200b\u6267\u884c","text":"<ul> <li>4.2.1.\u200b\u4e09\u4e2a\u200b\u5b9e\u4f8b\u200b\u4e0a\u200b\u6267\u884c\u200b, \u200b\u67e5\u770b\u200b\u5b9e\u4f8b\u200b\u4e2d\u200bkey\u200b\u7684\u200b\u6570\u91cf\u200b</li> </ul> <pre><code>redis-cli --scan --pattern '*' | wc -l\n</code></pre> <ul> <li>4.2.2.\u200b\u5206\u6790\u200bkey\u200b\u5206\u5e03\u200b\u60c5\u51b5\u200b (\u200b\u901a\u8fc7\u200bredis\u200b\u5feb\u7167\u200b)</li> </ul> <pre><code>4.2.2.1 \u200b\u6267\u884c\u200bredis-cli bgsave, \u200b\u83b7\u53d6\u200b\u5feb\u7167\u200brdb\u200b\u6587\u4ef6\u200b dump.rdb\n\n4.2.2.2 redis-rdb-tools \u200b\u662f\u200b\u4e00\u4e2a\u200b python \u200b\u7684\u200b\u89e3\u6790\u200b rdb \u200b\u6587\u4ef6\u200b\u7684\u200b\u5de5\u5177\u200b\n\n4.2.2.3 \u200b\u5b89\u88c5\u200b\u5206\u6790\u200b\u5de5\u5177\u200b: pip install rdbtools\n\n4.2.2.4 \u200b\u751f\u6210\u200b CSV \u200b\u683c\u5f0f\u200b\u7684\u200b\u5185\u5b58\u200b\u62a5\u544a\u200b: rdb -c memory dump.rdb &gt; memory.csv\n\n4.2.2.5 \u200b\u5c06\u200b\u6570\u636e\u200b\u5bfc\u5165\u5230\u200b SQLite3 \u200b\u4e2d\u200b\nsqlite3 memory.db\nsqlite&gt; create table memory(database int,type varchar(128),key varchar(128),size_in_bytes int,encoding varchar(128),num_elements int,len_largest_element varchar(128));\nsqlite&gt;.mode csv memory\nsqlite&gt;.import memory.csv memory\n\n4.2.2.6 \u200b\u6570\u636e\u5206\u6790\u200b\n\u200b\u67e5\u8be2\u200bkey\u200b\u4e2a\u6570\u200b: sqlite&gt;select count(*) from memory;\n\u200b\u67e5\u8be2\u200b\u603b\u200b\u7684\u200b\u5185\u5b58\u200b\u5360\u7528\u200b: sqlite&gt;select sum(size_in_bytes) from memory;\n\u200b\u67e5\u8be2\u200b\u5185\u5b58\u200b\u5360\u7528\u200b\u6700\u9ad8\u200b\u7684\u200b10\u200b\u4e2a\u200b key: sqlite&gt;select * from memory order by size_in_bytes desc limit 10;\n\u200b\u67e5\u8be2\u200b\u6210\u5458\u200b\u4e2a\u6570\u200b1000\u200b\u4e2a\u200b\u4ee5\u4e0a\u200b\u7684\u200b list: sqlite&gt;select * from memory where type='list' and num_elements &gt; 1000 ;\n\n</code></pre>"},{"location":"c04/04-22/#43","title":"4.3 \u200b\u7ed3\u679c","text":"<p>key\u200b\u5360\u7528\u200b\u7684\u200b\u5185\u5b58\u200b\u76f8\u5dee\u200b\u4e0d\u200b\u5927\u200b, \u200b\u6ca1\u6709\u200b16G\u200b\u7684\u200b\u5dee\u8ddd\u200b, \u200b\u6392\u9664\u200b\u8fd9\u4e2a\u200b\u539f\u56e0\u200b.</p>"},{"location":"c04/04-22/#5","title":"5. \u200b\u5904\u7406\u200b\u6b65\u9aa4\u200b\u4e09\u200b: (\u200b\u4e3b\u4ece\u590d\u5236\u200b\u51fa\u9519\u200b)","text":""},{"location":"c04/04-22/#51","title":"5.1 \u200b\u7ed3\u679c","text":"<p>3\u200b\u4e2a\u200b\u5b9e\u4f8b\u200b\u90fd\u200b\u662f\u200b\u4e3b\u200b, \u200b\u4e0d\u200b\u5b58\u5728\u200b\u4e3b\u4ece\u5173\u7cfb\u200b, \u200b\u6392\u9664\u200b\u8fd9\u4e2a\u200b\u539f\u56e0\u200b.</p>"},{"location":"c04/04-22/#6","title":"6. \u200b\u5904\u7406\u200b\u6b65\u9aa4\u200b\u56db\u200b: (\u200b\u5176\u4ed6\u200b\u539f\u56e0\u200b)","text":""},{"location":"c04/04-22/#61","title":"6.1 \u200b\u6587\u6863","text":"<pre><code>Redis Clients Handling: https://redis.io/topics/clients\n\u200b\u535a\u5ba2\u200b: http://carlosfu.iteye.com/blog/2254571\n</code></pre>"},{"location":"c04/04-22/#62","title":"6.2 \u200b\u6267\u884c","text":"<ul> <li>6.2.1 \u200b\u89c2\u5bdf\u200b\u4e09\u4e2a\u200b\u5b9e\u4f8b\u200b\u7684\u200binfo\u200b\u4fe1\u606f\u200b, \u200b\u53d1\u73b0\u200b46\u200b\u5f02\u5e38\u200b, client_longest_output_list\u200b\u7684\u200b\u503c\u200b\u5f88\u5927\u200b,\u200b\u9700\u8981\u200b\u5206\u6790\u200b\u4e0b\u200b\u5ba2\u6237\u7aef\u200b\u8fde\u63a5\u200b</li> </ul> <pre><code>redis-cli info | grep client_longest_output_list\n\n\u200b\u5907\u6ce8\u200b: \n# client_longest_output_list : \u200b\u5f53\u524d\u200b\u8fde\u63a5\u200b\u7684\u200b\u5ba2\u6237\u7aef\u200b\u5f53\u4e2d\u200b\uff0c\u200b\u6700\u957f\u200b\u7684\u200b\u8f93\u51fa\u200b\u5217\u8868\u200b\n# \u200b\u670d\u52a1\u7aef\u200b\u548c\u200b\u5ba2\u6237\u7aef\u200b\u4ea4\u4e92\u200b\u65f6\u200b\uff0c\u200b\u5206\u522b\u200b\u4e3a\u200b\u6bcf\u4e2a\u200b\u5ba2\u6237\u7aef\u200b\u8bbe\u7f6e\u200b\u4e86\u200b\u8f93\u5165\u200b\u7f13\u51b2\u533a\u200b\u548c\u200b\u8f93\u51fa\u200b\u7f13\u51b2\u533a\u200b\uff0c\u200b\u8fd9\u90e8\u5206\u200b\u5982\u679c\u200b\u5f88\u5927\u200b\u7684\u8bdd\u200b\u4e5f\u200b\u4f1a\u200b\u5360\u7528\u200bRedis\u200b\u670d\u52a1\u5668\u200b\u7684\u200b\u5185\u5b58\u200b\u3002\n</code></pre> <ul> <li>6.2.2 \u200b\u4e09\u4e2a\u200b\u5b9e\u4f8b\u200b\u6267\u884c\u547d\u4ee4\u200b, \u200b\u53d1\u73b0\u200b46\u200b\u4e0a\u200b\u6709\u200b\u56db\u4e2a\u200b\u8fde\u63a5\u200b\u5f02\u5e38\u200b, \u200b\u8bf7\u6c42\u200b\u6765\u81ea\u200b 10.1.222.42 \u200b\u548c\u200b 10.1.222.43</li> </ul> <pre><code>redis-cli -h 10.1.222.46  client list | grep -v \"omem=0\"\nid=562 addr=10.1.222.43:59854 fd=268 name= age=1068290 idle=4 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=1048279 omem=5182389096 events=rw cmd=zrangebyscore\nid=466 addr=10.1.222.42:58778 fd=15 name= age=1084910 idle=0 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=915401 omem=4860486716 events=rw cmd=zrangebyscore\nid=474 addr=10.1.222.42:58976 fd=84 name= age=1084860 idle=4 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=1050802 omem=5615906732 events=rw cmd=zrangebyscore\nid=549 addr=10.1.222.42:59848 fd=260 name= age=1070275 idle=0 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=32768 obl=0 oll=915073 omem=4859576535 events=rw cmd=zrangebyscore\n\n\u200b\u5907\u6ce8\u200b:\n# age: \u200b\u5ba2\u6237\u7aef\u200b\u5b58\u6d3b\u200b\u7684\u200b\u79d2\u6570\u200b\n# omem:\u200b\u53ef\u53d8\u200b\u5927\u5c0f\u200boutput buffer\u200b\u7684\u200b\u5185\u5b58\u200b\u4f7f\u7528\u200b\u5b57\u8282\u6570\u200b\n# oll:\u200b\u53ef\u53d8\u200b\u5927\u5c0f\u200boutput buffer\u200b\u7684\u200b\u5bf9\u8c61\u200b\u4e2a\u6570\u200b\n\n</code></pre> <ul> <li>6.2.3 \u200b\u4ed4\u7ec6\u5206\u6790\u200b\u5ba2\u6237\u7aef\u200b\u8fde\u63a5\u200b, \u200b\u53d6\u51fa\u200b222.46\u200b\u7ed3\u679c\u200b\u4e2d\u200b\u7684\u200b\u7b2c\u4e00\u6761\u200b\u5206\u6790\u200b.</li> </ul> <pre><code>age=1068290  12.36\u200b\u5929\u200b\noll=1048279  104.8\u200b\u4e07\u4e2a\u200b\u5bf9\u8c61\u200b\nomem=5182389096 4942.3 MB\n</code></pre>"},{"location":"c04/04-22/#63","title":"6.3 \u200b\u7ed3\u679c","text":"<p>\u200b\u5b9a\u4f4d\u200b\u5230\u200b\u95ee\u9898\u200b\u540e\u200b, \u200b\u6682\u65f6\u200b\u5904\u7406\u200b\u529e\u6cd5\u200b: \u200b\u628a\u200b 10.1.222.42 \u200b\u548c\u200b 10.1.222.43\u200b\u7684\u200b\u670d\u52a1\u5668\u200b\u7684\u200b\u670d\u52a1\u200b\u91cd\u542f\u200b\u540e\u200b, 46\u200b\u7684\u200b\u5185\u5b58\u200b\u6062\u590d\u6b63\u5e38\u200b</p>"},{"location":"c04/04-22/#7","title":"7. \u200b\u95ee\u9898\u200b\u5904\u7406\u200b\u65b9\u6848","text":""},{"location":"c04/04-22/#70-1-6","title":"7.0 \u200b\u6309\u7167\u200b1 ~ 6\u200b\u6b65\u200b\u4f9d\u6b21\u200b\u6392\u9664\u200b\u95ee\u9898","text":""},{"location":"c04/04-22/#71-rediskey-key","title":"7.1 redis\u200b\u4e2d\u200b\u7684\u200b\u6b7b\u200bkey\u200b\u9700\u8981\u200b\u5b9a\u671f\u200b\u6e05\u9664\u200b, \u200b\u6bd4\u8f83\u200b\u5927\u200b\u7684\u200bkey\u200b\u9700\u8981\u200b\u5b9a\u671f\u200b\u6838\u51cf\u200b\u6210\u5458\u200b\u6570\u91cf","text":""},{"location":"c04/04-22/#72-zabbix","title":"7.2 zabbix \u200b\u589e\u52a0\u200b\u76d1\u63a7\u200b\u5b57\u200b\u6bb5","text":"<pre><code>7.2.1 \u200b\u589e\u52a0\u200b\u76d1\u63a7\u200b\u5b57\u200b\u6bb5\u200b client_longest_output_list\n</code></pre>"},{"location":"c04/04-22/#73","title":"7.3 \u200b\u5206\u6790\u200b\u5ba2\u6237\u7aef\u200b\u8fde\u63a5\u200b\u5360\u7528\u200b\u5185\u5b58\u200b\u7684\u200b\u539f\u56e0","text":"<pre><code>7.3.1 \u200b\u7a0b\u5e8f\u4ee3\u7801\u200b\u5206\u6790\u200b\n</code></pre>"},{"location":"c04/04-22/#74-output-buffer-limit","title":"7.4 \u200b\u9650\u5236\u200b\u7f13\u51b2\u533a\u200b\u5927\u5c0f\u200b,\u200b\u53c2\u6570\u200boutput-buffer-limit(\u200b\u4e0d\u200b\u5efa\u8bae\u200b)","text":""},{"location":"c10/10-01/","title":"Git Commit Message\u200b\u548c\u200bChangelog\u200b\u89c4\u8303\u200b\u548c\u200b\u6d41\u7a0b\u200b\u81ea\u52a8\u5316","text":""},{"location":"c10/10-01/#1-commit-message","title":"1. \u200b\u8bba\u200bCommit Message\u200b\u7684\u200b\u91cd\u8981\u6027","text":"<p>\u200b\u4ee5\u4e0b\u200b\u9879\u76ee\u200b\u7684\u200bCommit log\u200b\u66f4\u200b\u76f4\u89c2\u200b\u7684\u200b\u544a\u8bc9\u200b\u4f60\u200b\u63d0\u4ea4\u200b\u4e86\u200b\u4e9b\u200b\u4ec0\u4e48\u200b\u4e1c\u897f\u200b\uff1f</p> <p>Angular Commit log</p>"},{"location":"c10/10-01/#2-commit-message-angular","title":"2. Commit Message Angular \u200b\u89c4\u8303","text":"<p>\u200b\u962e\u200b\u4e00\u5cf0\u200b\u8001\u5e08\u200b\u7684\u200b\u6587\u7ae0\u200b</p>"},{"location":"c10/10-01/#3-commitizen-commit-message","title":"3. commitizen \u200b\u5e2e\u52a9\u200b\u4f60\u200b\u89c4\u8303\u200bCommit Message","text":"<ol> <li>\u200b\u5b89\u88c5\u200bnode js\u200b\u548c\u200bnpm </li> <li>\u200b\u5168\u5c40\u200b\u5b89\u88c5\u200bcommitizen </li> </ol> <pre><code>npm install -g commitizen\n</code></pre> <ol> <li>\u200b\u4f7f\u7528\u200bgit cz \u200b\u4ee3\u66ff\u200bgit commit   </li> </ol> <pre><code>git add .\ngit cz\n</code></pre>"},{"location":"c10/10-01/#4-gradlechangelog","title":"4. \u200b\u4f7f\u7528\u200bgradle\u200b\u63d2\u4ef6\u200b\u81ea\u52a8\u200b\u751f\u6210\u200bChangelog","text":"<p>build.gradle\u200b\u4e2d\u200b\u6dfb\u52a0\u200b\uff1a </p> <pre><code>apply plugin: \"com.selesse.git.changelog\"\n</code></pre> <p>\u200b\u63d2\u4ef6\u200b\u4f1a\u200b\u5728\u200bbuild\u200b\u8fc7\u7a0b\u4e2d\u5c06\u200bgit changelog\u200b\u751f\u6210\u200bchanglog\u200b\u6587\u4ef6\u200b\u6dfb\u52a0\u200b\u5230\u200b\u53d1\u5e03\u200b\u5305\u4e2d\u200b  </p>"},{"location":"c10/10-03/","title":"jenkins (\u200b\u6301\u7eed\u200b\u4ea4\u4ed8\u200b)","text":"<p>\u200b\u6301\u7eed\u200b\u4ea4\u4ed8\u200b, \u200b\u7b80\u79f0\u200b\uff1aCD</p>"},{"location":"c10/10-03/#0","title":"0. \u200b\u76f8\u5173\u200b\u6587\u6863","text":"<ul> <li>JENKINS_HOME directory</li> <li>Installing Jenkins on Red Hat distributions</li> <li>Java package download</li> <li>https://testerhome.com/topics/4043</li> <li>https://segmentfault.com/a/1190000002895521</li> <li>http://www.jianshu.com/p/a154f2a1d0c3</li> <li>http://benjaminwhx.com/2016/05/16/Jenkins2.3%E9%87%8D%E7%82%B9%E5%A4%87%E5%BF%98/</li> <li>http://gold.xitu.io/entry/5792b7320a2b580061ab0e27</li> </ul>"},{"location":"c10/10-03/#1","title":"1. \u200b\u5b89\u88c5","text":""},{"location":"c10/10-03/#10-rpm","title":"1.0 rpm\u200b\u5b89\u88c5","text":"<pre><code>\u200b\u9996\u5148\u200b\u901a\u8fc7\u200b  rpm -q &lt;\u200b\u5173\u952e\u5b57\u200b&gt; \u200b\u53ef\u4ee5\u200b\u67e5\u8be2\u200b\u5230\u200brpm\u200b\u5305\u200b\u7684\u200b\u540d\u5b57\u200b\n\u200b\u7136\u540e\u200b \u200b\u8c03\u7528\u200b rpm -e &lt;\u200b\u5305\u200b\u7684\u200b\u540d\u5b57\u200b&gt; \u200b\u5220\u9664\u200b\u7279\u5b9a\u200brpm\u200b\u5305\u200b\n\u200b\u5982\u679c\u200b\u9047\u5230\u200b\u4f9d\u8d56\u200b\uff0c\u200b\u65e0\u6cd5\u200b\u5220\u9664\u200b\uff0c\u200b\u4f7f\u7528\u200b rpm -e --nodeps &lt;\u200b\u5305\u200b\u7684\u200b\u540d\u5b57\u200b&gt; \u200b\u4e0d\u200b\u68c0\u67e5\u200b\u4f9d\u8d56\u200b\uff0c\u200b\u76f4\u63a5\u200b\u5220\u9664\u200brpm\u200b\u5305\u200b\n\u200b\u5982\u679c\u200b\u6070\u597d\u200b\u6709\u200b\u591a\u4e2a\u200b\u5305\u53eb\u200b\u540c\u6837\u200b\u7684\u200b\u540d\u5b57\u200b\uff0c\u200b\u4f7f\u7528\u200b rpm -e --allmatches --nodeps &lt;\u200b\u5305\u200b\u7684\u200b\u540d\u5b57\u200b&gt; \u200b\u5220\u9664\u200b\u6240\u6709\u200b\u76f8\u540c\u200b\u540d\u5b57\u200b\u7684\u200b\u5305\u200b\uff0c \u200b\u5e76\u200b\u5ffd\u7565\u200b\u4f9d\u8d56\u200b\n</code></pre>"},{"location":"c10/10-03/#11-java","title":"1.1 \u200b\u79bb\u7ebf\u200b\u5b89\u88c5\u200bjava","text":"<pre><code>wget --no-check-certificate --no-cookie --header \"Cookie: oraclelicense=accept-securebackup-cookie;\" http://download.oracle.com/otn-pub/java/jdk/8u73-b02/jdk-8u73-linux-x64.rpm\nrpm -ivh 8u73-b02/jdk-8u73-linux-x64.rpm\njava -version\n</code></pre>"},{"location":"c10/10-03/#12-jenkins","title":"1.2 \u200b\u79bb\u7ebf\u200b\u5b89\u88c5\u200bjenkins","text":"<pre><code>wget http://pkg.jenkins-ci.org/redhat-stable/jenkins-2.7.4-1.1.noarch.rpm\nrpm -ivh jenkins-2.7.4-1.1.noarch.rpm\nsudo service jenkins restart\n</code></pre>"},{"location":"c10/10-03/#13-root","title":"1.3 \u200b\u4fee\u6539\u200b\u76ee\u5f55\u200b\u7684\u200b\u76f8\u5e94\u200b\u6743\u9650\u200b\uff0c\u200b\u4fee\u6539\u200broot\u200b\u4e3a\u200b\u5f53\u524d\u200b\u7528\u6237\u200b\u3002","text":"<pre><code>\u200b\u914d\u7f6e\u200b\u76ee\u5f55\u200b\uff1a /etc/sysconfig/jenkins\n\u200b\u7a0b\u5e8f\u200b\uff1a /var/lib/jenkins\ncache\uff1a/var/cache/jenkins \n\u200b\u65e5\u5fd7\u200b\uff1a/var/log/jenkins\n</code></pre>"},{"location":"c10/10-03/#2","title":"2. \u200b\u5e38\u7528\u200b\u914d\u7f6e","text":""},{"location":"c10/10-03/#21","title":"2.1 \u200b\u5168\u5c40\u53d8\u91cf\u200b (\u200b\u975e\u5e38\u200b\u91cd\u8981\u200b)","text":"<pre><code>jenkins -&gt; \u200b\u7ba1\u7406\u200bJenkins -&gt; \u200b\u7cfb\u7edf\u200b\u8bbe\u7f6e\u200b -&gt; \u200b\u5168\u5c40\u200b\u5c5e\u6027\u200b -&gt; Environment variables\n</code></pre> \u200b\u5e8f\u53f7\u200b \u200b\u53d8\u91cf\u200b \u200b\u5907\u6ce8\u200b 1 jenkins_email_to_list \u200b\u90ae\u4ef6\u200b\u6536\u4ef6\u4eba\u200b\u5217\u8868\u200b\uff0c\u200b\u4f8b\u200b\uff1ax@xx.com \u200b\u6216\u8005\u200b x@xx.com,y@xx.com 2 jenkins_email_cc_list \u200b\u90ae\u4ef6\u200b\u6284\u9001\u200b\u4eba\u200b\u5217\u8868\u200b\uff0c\u200b\u4f8b\u200b\uff1ax@xx.com \u200b\u6216\u8005\u200b x@xx.com,y@xx.com 3 jenkins_project_run_test \u200b\u662f\u5426\u200b\u6267\u884c\u200b\u4ee3\u7801\u200b\u4e2d\u200b\u7684\u200b\u5355\u5143\u6d4b\u8bd5\u200b\uff0c\u200b\u4f8b\u200b\uff1a\u200b\u53ea\u6709\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b1\uff0c\u200b\u624d\u200b\u4f1a\u200b\u6267\u884c\u200b\u5355\u5143\u6d4b\u8bd5\u200b\uff08\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b0\uff09 4 jenkins_git_branch \u200b\u62c9\u53d6\u200b\u9879\u76ee\u200b\u7684\u200bgit\u200b\u5206\u652f\u200b\uff0c\u200b\u4f8b\u200b\uff1adev\uff0c\u200b\u5efa\u8bae\u200brelease 5 jenkins_input_approve_list input\u200b\u4e2d\u200b\u53ef\u200b\u786e\u8ba4\u200b\u901a\u8fc7\u200b\u7684\u200b\u7528\u6237\u200b\u5217\u8868\u200b\uff0c\u200b\u4f8b\u200b\uff1auser1\uff0cuser2"},{"location":"c10/10-03/#22","title":"2.2 \u200b\u90ae\u4ef6\u200b\u901a\u77e5","text":""},{"location":"c10/10-03/#23-git","title":"2.3 \u200b\u914d\u7f6e\u200bgit","text":""},{"location":"c10/10-03/#24","title":"2.4 \u200b\u5b9a\u65f6\u200b\u62c9\u53d6\u200b\u7f16\u8bd1","text":""},{"location":"c10/10-03/#25-ssh","title":"2.5 SSH\u200b\u53d1\u5e03","text":""},{"location":"c10/10-03/#26-configure-global-security","title":"2.6 \u200b\u5168\u5c40\u200b\u5b89\u5168\u200b\u8bbe\u7f6e\u200b(Configure Global Security)","text":""},{"location":"c10/10-03/#27","title":"2.7 \u200b\u8fc1\u79fb\u200b\u548c\u200b\u5907\u4efd","text":""},{"location":"c10/10-03/#3","title":"3. \u200b\u63d2\u4ef6","text":""},{"location":"c10/10-03/#31-ssh-agent-plugin","title":"3.1 SSH Agent Plugin","text":"<p>SSH Agent Plugin</p>"},{"location":"c10/10-03/#32-build-user-vars-plugin","title":"3.2 Build User Vars Plugin","text":"<p>Build User Vars Plugin</p>"},{"location":"c10/10-03/#33-mailer","title":"3.3 Mailer","text":"<p>Mailer</p>"},{"location":"c10/10-03/#4","title":"4. \u200b\u73af\u5883\u200b\u8bbe\u7f6e","text":""},{"location":"c10/10-03/#41","title":"4.1 \u200b\u6d4b\u8bd5\u73af\u5883","text":"<pre><code>1) jenkins \u200b\u53d1\u5e03\u200b\u673a\u200b\nip\uff1a192.168.1.1\n\u200b\u5730\u5740\u200b\uff1ahttp://192.168.1.1:8888/\npipeline git\u200b\u5730\u5740\u200b\uff1ahttp://192.168.1.2/project/jenkins-pipeline-script\n\n2) \u200b\u6d4b\u8bd5\u200b\u670d\u52a1\u5668\u200b\nip\uff1a 192.168.1.3\n\u200b\u8f6f\u4ef6\u200b\u8def\u5f84\u200b\uff1a/opt/app/\n\u200b\u65e5\u5fd7\u200b\u8def\u5f84\u200b\uff1a/opt/log/\n</code></pre>"},{"location":"c10/10-03/#5-pipeline","title":"5. pipeline","text":""},{"location":"c10/10-03/#51-ssh","title":"5.1 ssh \u200b\u53d1\u5e03\u200b\u811a\u672c","text":"<pre><code>\u200b\u53d1\u5e03\u200b\u811a\u672c\u200b\uff1a\n\n1) \u200b\u58f0\u660e\u200b\u53d8\u91cf\u200b: \n1.1 PROJECT_NAME\n\n2) \u200b\u68c0\u67e5\u200b\u5907\u4efd\u6587\u4ef6\u200b\u5939\u200b\uff1a /opt/backup/${PROJECT_NAME}\n2.1 \u200b\u4e0d\u200b\u5b58\u5728\u200b\u5c31\u200b\u65b0\u5efa\u200b\n\n3) \u200b\u68c0\u67e5\u200bapp\u200b\u53d1\u5e03\u200b\u6587\u4ef6\u5939\u200b\uff1a/opt/app/${PROJECT_NAME}\n3.1 \u200b\u5b58\u5728\u200b\n3.1.1 \u200b\u5148\u200b\u5907\u4efd\u200b\u53d1\u5e03\u200b\u6587\u4ef6\u5939\u200b\n3.1.2 \u200b\u505c\u6b62\u200b\u7a0b\u5e8f\u200b\u8fdb\u7a0b\u200b\n3.1.3 \u200b\u518d\u200b\u5220\u9664\u200b\u6587\u4ef6\u200b\n\n3.2 \u200b\u4e0d\u200b\u5b58\u5728\u200b\n3.2.1 \u200b\u521b\u5efa\u200b\u53d1\u5e03\u200b\u6587\u4ef6\u5939\u200b\n\n4) \u200b\u90e8\u7f72\u200b\n4.0 \n\n4.1 \u200b\u4e0a\u4f20\u200btar\u200b\u5305\u5230\u200b\u8fdc\u7a0b\u200b\u670d\u52a1\u5668\u200b\u4e0a\u200b\n\u200b\u672c\u5730\u200b\uff1abuild/distributions/*.tar \n\u200b\u8fdc\u7a0b\u200b\uff1a/tmp\n\n4.2 \u200b\u89e3\u538b\u200b\u5230\u200b\u53d1\u5e03\u200b\u6587\u4ef6\u5939\u200b\ntar /opt/app/${PROJECT_NAME}\n\n\n5) \u200b\u5f00\u542f\u200b\u7a0b\u5e8f\u200b\u8fdb\u7a0b\u200b\n</code></pre>"},{"location":"c10/10-04/","title":"\u4f7f\u7528\u200bssh\u200b\u8bbf\u95ee\u200bgitlab","text":""},{"location":"c10/10-04/#1-ssh-keypair","title":"1. \u200b\u751f\u6210\u200bssh keypair","text":"<p>1.1 \u200b\u5b89\u88c5\u200bgit for windows </p> <p>1.2 \u200b\u6253\u5f00\u200bbash for git</p> <p>1.3 \u200b\u751f\u6210\u200b keypair</p> <pre><code>ssh-keygen -t rsa -C \"GitLab\" -b 4096  \n</code></pre> <p>1.4 \u200b\u590d\u5236\u200b\u516c\u94a5\u200b\u5230\u200b\u526a\u8d34\u677f\u200b  </p> <pre><code>type %userprofile%\\.ssh\\id_rsa.pub | clip\n</code></pre> <p>1.5 \u200b\u5c06\u200b\u516c\u94a5\u200b\u8d34\u200b\u5230\u200bgitlab\u200b\u7ad9\u70b9\u200b\u81ea\u5df1\u200b\u8d26\u53f7\u200b\u91cc\u200b\u7684\u200bssh key\u200b\u91cc\u200b</p>"},{"location":"c10/10-04/#2-remote-httpgit","title":"2. \u200b\u66f4\u6362\u200bremote \u200b\u5730\u5740\u200b\uff0c\u200b\u5c06\u200bhttp\u200b\u5730\u5740\u200b\u6362\u6210\u200bgit\u200b\u5730\u5740","text":"<p>2.1 \u200b\u5217\u51fa\u200b\u5f53\u524d\u200bremote\u200b\u5730\u5740\u200b\u5e76\u200b\u5220\u9664\u200b</p> <pre><code>git remote -v\ngit remote remove &lt;remote \u200b\u540d\u5b57\u200b&gt;\n</code></pre> <p>2.2 \u200b\u4ece\u200bgitlab\u200b\u9879\u76ee\u200b\u4e5f\u200b\u4e0a\u200b\u7684\u200b\u514b\u9686\u200b\u5730\u5740\u200b\u52a0\u200b\u5230\u200b\u672c\u5730\u200b\uff1a</p> <pre><code>git remote add origin &lt;git:xxxxxxxxxx&gt;\n</code></pre>"},{"location":"c10/10-04/#3","title":"3. \u200b\u65e0\u200b\u5bc6\u7801\u200b\u62c9\u53d6","text":"<p>\u200b\u76f4\u63a5\u200b\u62c9\u53d6\u200b\uff0c\u200b\u65e0\u9700\u200b\u8f93\u5165\u200b\u7528\u6237\u540d\u200b\u5bc6\u7801\u200b</p>"},{"location":"c10/10-05/","title":"\u7ebf\u4e0a\u200b\u670d\u52a1\u5668\u200b\u76d1\u63a7\u200b\u6307\u5357\u200b \uff08\u200b\u65f6\u5e8f\u200b\u6570\u636e\u5e93\u200b\uff09","text":""},{"location":"c10/10-05/#1","title":"1. \u200b\u76d1\u63a7\u200b\u65b9\u9488\u200b\u7efc\u8ff0","text":""},{"location":"c10/10-05/#2","title":"2. \u200b\u7cfb\u7edf\u76d1\u63a7\u200b\u6307\u6807","text":"<p>\u200b\u901a\u8fc7\u200b diamond \u200b\u91c7\u96c6\u200bcpu,\u200b\u5185\u5b58\u200b,\u200b\u786c\u76d8\u200b,IO\u200b\u7b49\u200b\u76f8\u5173\u200b\u7cfb\u7edf\u200b\u53c2\u6570\u200b\u53d1\u9001\u5230\u200bgraphite carbon\u200b\u670d\u52a1\u200b\u4e2d\u200b,\u200b\u7531\u200bgrafana\u200b\u901a\u8fc7\u200bgraphite-web\u200b\u83b7\u53d6\u6570\u636e\u200b\u540e\u200b,\u200b\u5c55\u73b0\u200b\u57ce\u200b\u56fe\u8868\u200b\u7684\u200b\u65b9\u5f0f\u200b.</p>"},{"location":"c10/10-05/#21-diamond","title":"2.1. diamond\u200b\u7684\u200b\u5b89\u88c5","text":"<p>\u200b\u5728\u200b\u6709\u200b\u7f51\u7edc\u8fde\u63a5\u200b\u7684\u200b\u670d\u52a1\u5668\u200b\u4e0a\u200b\u4f7f\u7528\u200b\u4ee5\u4e0b\u200b\u547d\u4ee4\u200b\u5b89\u88c5\u200b:</p> <pre><code>pip install diamond\n</code></pre>"},{"location":"c10/10-05/#22-diamond","title":"2.2 diamond\u200b\u7684\u200b\u914d\u7f6e","text":"<p>\u200b\u7531\u4e8e\u200b\u6570\u636e\u200b\u5b58\u50a8\u200b\u4f7f\u7528\u200b\u7684\u200b\u662f\u200bgraphite,\u200b\u5e76\u4e14\u200bdiamond\u200b\u9ed8\u8ba4\u200b\u914d\u7f6e\u200b\u5c31\u662f\u200bgraphite collector,\u200b\u6240\u4ee5\u200b diamond\u200b\u7684\u200b\u9ed8\u8ba4\u200b\u914d\u7f6e\u200b\u53ea\u200b\u9700\u200b\u4fee\u6539\u200bgraphite carbon\u200b\u7684\u200b\u5730\u5740\u200b\u5c31\u200b\u53ef\u4ee5\u200b. \u200b\u53e6\u5916\u200b collector\u200b\u7684\u200b\u9ed8\u8ba4\u200b\u6293\u53d6\u200b\u95f4\u9694\u200b\u662f\u200b5\u200b\u5206\u949f\u200b, \u200b\u5f53\u524d\u200b\u4fdd\u6301\u200b\u4e0d\u53d8\u200b,\u200b\u540e\u671f\u200b\u8bc4\u4f30\u200b\u5bb9\u91cf\u200b\u540e\u200b\u8fdb\u884c\u200b\u4fee\u6539\u200b.  </p> <p>\u200b\u4fee\u6539\u200bgraphite\u200b\u7684\u200b\u65b9\u6cd5\u200b\u5982\u4e0b\u200b: 1. \u200b\u6253\u5f00\u200b\u6587\u4ef6\u200b/etc/diamond/diamond.conf 2. \u200b\u4fee\u6539\u200b\u4e00\u4e0b\u200b\u914d\u7f6e\u200b\u9879\u200b</p> <pre><code>[[GraphiteHandler]]\n### Options for GraphiteHandler\n\n# Graphite server host\nhost = 10.1.222.45\n\n# Port to send metrics to\nport = 2003\n\n# Socket timeout (seconds)\ntimeout = 15\n\n# Batch size for metrics\nbatch = 1\n\n[[GraphitePickleHandler]]\n### Options for GraphitePickleHandler\n\n# Graphite server host\nhost = 10.1.222.45\n\n# Port to send metrics to\nport = 2004\n\n# Socket timeout (seconds)\ntimeout = 15\n\n# Batch size for pickled metrics\nbatch = 256\n\n</code></pre>"},{"location":"c10/10-05/#23-diamond","title":"2.3 \u200b\u542f\u52a8\u200bdiamond\u200b\u670d\u52a1","text":""},{"location":"c10/10-05/#231","title":"2.3.1 \u200b\u5982\u9700\u200b\u4fee\u6539\u200b\u6293\u53d6\u200b\u6570\u636e\u200b\u7684\u200b\u9891\u6b21\u200b,\u200b\u53ef\u4ee5\u200b\u4fee\u6539\u200b\u4ee5\u4e0b\u200b\u914d\u7f6e\u200b\u9879","text":"<pre><code>[collectors]\n\n[[c99]]\n\n# Default Poll Interval (seconds)\n# interval = 300\n\n</code></pre>"},{"location":"c10/10-05/#232","title":"2.3.2 \u200b\u5982\u9700\u200b\u4fee\u6539\u200b\u914d\u7f6e\u6587\u4ef6\u200b,\u200b\u6539\u5b8c\u200b\u9700\u8981\u200b\u91cd\u542f\u200b\u670d\u52a1","text":""},{"location":"c10/10-07/","title":"JAVA\u200b\u6e90\u4e8e\u200b\u968f\u673a\u6570\u200b\u751f\u6210\u200b\u7684\u200b\u89c4\u8303\u200b\u5efa\u8bae","text":"<p>\u200b\u751f\u6210\u200b\u968f\u673a\u6570\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5e38\u7528\u200b\u7684\u200b\u529f\u80fd\u200b, JAVA/JVM\u200b\u4e5f\u200b\u63d0\u4f9b\u200b\u5f88\u591a\u200b\u4e0d\u540c\u200b\u7684\u200b\u9009\u62e9\u200b\u8ba9\u200b\u5f00\u53d1\u8005\u200b\u51b3\u5b9a\u200b\u5982\u4f55\u200b\u751f\u6210\u200b\u968f\u673a\u6570\u200b.</p> <p>\u200b\u4f46\u662f\u200b\u4e0d\u540c\u200b\u7684\u200b\u9009\u62e9\u200b\u4f1a\u200b\u4ea7\u751f\u200b\u4e0d\u540c\u200b\u7684\u200b\u540e\u679c\u200b, \u200b\u6700\u540e\u200b\u5f71\u54cd\u200b\u7684\u200b\u4e0d\u4ec5\u4ec5\u200b\u662f\u200b\u5f00\u53d1\u200b, \u200b\u6d4b\u8bd5\u200b,\u200b\u6d41\u7a0b\u200b,\u200b\u8fd0\u7ef4\u200b,\u200b\u5b89\u5168\u200b\u90fd\u200b\u4f1a\u200b\u4ea7\u751f\u200b\u8fde\u9501\u53cd\u5e94\u200b.\u200b\u56e0\u6b64\u200b\u9700\u8981\u200b\u5728\u200b\u6b64\u200b\u8ba8\u8bba\u200b,\u200b\u6f84\u6e05\u200b,\u200b\u5e76\u200b\u63d0\u4f9b\u200b\u89c4\u8303\u200b\u7684\u200b\u5efa\u8bae\u200b.  \u200b\u4ee5\u4e0b\u200b\u662f\u200b\u5f00\u53d1\u200b\u5b9e\u73b0\u200b\u548c\u200b\u5b89\u5168\u200b\u8fd0\u7ef4\u200b\u7684\u200b\u5efa\u8bae\u200b.</p>"},{"location":"c10/10-07/#1","title":"1.  \u200b\u751f\u6210\u200b\u89c4\u8303\u200b\u7684\u200b\u8003\u8651\u200b\u539f\u5219","text":"<p>JAVA\u200b\u6709\u200b\u4ee5\u4e0b\u200b\u51e0\u4e2a\u200b\u751f\u6210\u200b\u968f\u673a\u6570\u200b\u7684\u200b\u65b9\u5f0f\u200b:</p> <ul> <li>Random</li> <li>TheadLocalRandom</li> <li>SecureRandom</li> </ul> <p>\u200b\u5173\u4e8e\u200b\u89c4\u8303\u200b\u5e94\u4ece\u200b\u4ee5\u4e0b\u51e0\u70b9\u200b\u8003\u8651\u200b:</p> <ul> <li>\u200b\u968f\u673a\u6570\u200b\u53ef\u9884\u6d4b\u6027\u200b </li> <li>\u200b\u6027\u80fd\u200b</li> <li>\u200b\u8fd0\u7ef4\u200b\u4ea4\u4ed8\u200b\u590d\u6742\u5ea6\u200b</li> <li>\u200b\u8d28\u91cf\u200b\u63a7\u5236\u200b</li> </ul>"},{"location":"c10/10-07/#2","title":"2. \u200b\u53ef\u9884\u6d4b\u6027","text":"<p>Random\u200b\u548c\u200bThreadLocalRandom\u200b\u90fd\u200b\u662f\u200b\u53ef\u200b\u9884\u6d4b\u200b\u7684\u200b, \u200b\u4e24\u8005\u200b\u4f7f\u7528\u200b\u4e00\u81f4\u200b\u7684\u200b\u5f31\u200b\u4f2a\u200b\u968f\u673a\u200b\u7b97\u6cd5\u200b. \u200b\u4f7f\u5f97\u200b\u653b\u51fb\u8005\u200b\u53ef\u4ee5\u200b\u6a21\u62df\u51fa\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u968f\u673a\u6570\u200b\u7684\u200b\u503c\u200b. \u200b\u5728\u200b\u4e0d\u200b\u6307\u5b9a\u200b\u79cd\u5b50\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b,\u200b\u4f7f\u7528\u200b\u7cfb\u7edf\u200b\u65f6\u95f4\u200b\u4f5c\u4e3a\u200b\u79cd\u5b50\u200b.</p> <p>SecureRandom\u200b\u662f\u200b\u66f4\u200b\u5b89\u5168\u200b\u7684\u200b\u751f\u6210\u200b\u968f\u673a\u6570\u200b\u7684\u200b\u65b9\u5f0f\u200b. \u200b\u5728\u200b\u4e0d\u540c\u200b\u7684\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u4e0b\u200b\u4f7f\u7528\u200b\u9ed8\u8ba4\u200bSecureRandom()\u200b\u4f1a\u200b\u4f7f\u7528\u200b\u4e0d\u540c\u200b\u7684\u200b\u7b97\u6cd5\u200b.</p> <pre><code>SecureRandom random = new SecureRandom();\nbyte[] values = new byte[20];\nrandom.nextBytes(values);\n</code></pre> <p>\u200b\u6bd4\u5982\u200bwindows\u200b\u4e0b\u200b\u4f7f\u7528\u200bSHA1PRNG, \u200b\u800c\u200blinux\u200b\u4e0b\u200b\u4f7f\u7528\u200bNativePRNG. \u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200bSecureRandom.getInstance\u200b\u65b9\u6cd5\u200b\u6307\u5b9a\u200b\u7b97\u6cd5\u200b. </p> <pre><code>SecureRandom secureRandom3 = SecureRandom.getInstance(\"SHA1PRNG\");\nSecureRandom secureRandom2 = SecureRandom.getInstance(\"SHA1PRNG\", \"SUN\");\n</code></pre> <p>\u200b\u5b8c\u6574\u200b\u7684\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u652f\u6301\u200b\u968f\u673a\u6570\u200b\u751f\u6210\u200b\u7b97\u6cd5\u200b\u5217\u8868\u200b\u5728\u200b \u200b\u8fd9\u91cc\u200b. \u200b\u5176\u4e2d\u200b\u5728\u200blinux\u200b\u548c\u200bmacos\u200b\u4e0b\u200b, \u200b\u652f\u6301\u200b\u4ee5\u4e0b\u200b\u51e0\u79cd\u200b:</p> <ol> <li>NativePRNG** Sun</li> <li>SHA1PRNG**   Sun</li> <li>NativePRNGBlocking   Sun</li> <li>NativePRNGNonBlocking</li> </ol> <p>SHA1PRNG\u200b\u662f\u200b\u7eaf\u200bjava\u200b\u5b9e\u73b0\u200b, \u200b\u5728\u200b\u5f31\u79cd\u200b\u524d\u63d0\u200b\u4e0b\u200b,\u200b\u4ecd\u7136\u200b\u662f\u200b\u53ef\u4ee5\u200b\u88ab\u200b\u8ddf\u8e2a\u200b\u7684\u200b. \u200b\u5982\u679c\u200b\u5bf9\u200bSHA1PRNG\u200b\u7684\u200b\u968f\u673a\u6027\u200b\u6709\u200b\u7591\u95ee\u200b, \u200b\u9700\u8981\u200b\u4f7f\u7528\u200bNative\u200b\u7684\u200bPRNG\u200b\u7b97\u6cd5\u200b.  </p> <p>NativePRNG\u200b\u7684\u200b\u76f8\u5173\u200b\u7b97\u6cd5\u200b\u90fd\u200b\u662f\u4ece\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u83b7\u5f97\u200b\u968f\u673a\u200b\u79cd\u5b50\u200b, \u200b\u5728\u200blinux\u200b\u548c\u200bmacos\u200b\u4e0b\u200b/dev/random\u200b\u548c\u200b/dev/urandom\u200b\u53ef\u4ee5\u200b\u83b7\u5f97\u200b\u7684\u200b\u968f\u673a\u200b\u79cd\u5b50\u200b. \u200b\u7b97\u6cd5\u200b\u548c\u200b\u79cd\u5b50\u200b\u6587\u4ef6\u200b\u7684\u200b\u5173\u7cfb\u200b\u5982\u4e0b\u200b:</p> <ul> <li>NativePRNG (nextBytes() uses /dev/urandom, generateSeed() uses /dev/random)</li> <li>NativePRNGBlocking (nextBytes() and generateSeed() use /dev/random)</li> <li>NativePRNGNonBlocking (nextBytes() and generateSeed() use /dev/urandom)</li> </ul> <p>/dev/random\u200b\u548c\u200b/dev/urandom\u200b\u7684\u200b\u533a\u522b\u200b\u4e0b\u9762\u200b\u63d0\u5230\u200b </p> <p>\u200b\u867d\u7136\u200bman\u200b\u91cc\u9762\u200b\u63d0\u5230\u200brandom\u200b\u7684\u200b\u968f\u673a\u6027\u200b\u5927\u4e8e\u200burandom,\u200b\u4f46\u662f\u200b\u6709\u200b\u6587\u7ae0\u200b\u6307\u51fa\u200b,\u200b\u4e24\u8005\u200b\u6ca1\u6709\u200b\u533a\u522b\u200b.</p> <p>\u200b\u6240\u4ee5\u200b\u4ee5\u4e0b\u200b\u5b89\u5168\u200b\u5efa\u8bae\u200b\u662f\u200b\u9700\u8981\u200b\u53c2\u8003\u200b:</p> <ol> <li>Random\u200b\u548c\u200bThreadLocalRandom\u200b\u90fd\u200b\u662f\u200b\u53ef\u4ee5\u200b\u7b80\u5355\u200b\u8ddf\u8e2a\u200b\u7684\u200b, \u200b\u968f\u673a\u6027\u200b\u548c\u200b\u5b89\u5168\u6027\u200b\u5f88\u200b\u4f4e\u200b</li> <li>SHA1PRNG\u200b\u662f\u200bwindows\u200b\u4e0b\u200b\u9ed8\u8ba4\u200b\u7684\u200bSecureRandom\u200b\u7b97\u6cd5\u200b, \u200b\u968f\u673a\u6027\u200b\u7a0d\u200b\u9ad8\u200b.</li> <li>/dev/random\u200b\u548c\u200b/dev/urandom\u200b\u968f\u673a\u6027\u200b\u662f\u200b\u4e00\u6837\u200b\u7684\u200b. \u200b\u5efa\u8bae\u200b\u4f7f\u7528\u200b\u57fa\u4e8e\u200b/dev/urandom\u200b\u7684\u200b\u7b97\u6cd5\u200b, \u200b\u867d\u7136\u200b\u5b98\u65b9\u200b\u66f4\u200b\u8ba4\u540c\u200b/dev/random</li> <li>\u200b\u4f7f\u7528\u200bSecureRandom, \u200b\u5efa\u8bae\u200b\u4f7f\u7528\u200bgetInstance\u200b\u6216\u200bgetInstanceStrong,\u200b\u6307\u5b9a\u200b\u7b97\u6cd5\u200b,\u200b\u800c\u200b\u4e0d\u8981\u200b\u4f7f\u7528\u200b\u9ed8\u8ba4\u200b\u7684\u200b\u6784\u9020\u51fd\u6570\u200b.\u200b\u56e0\u4e3a\u200b\u5f00\u53d1\u200b\u673a\u662f\u200bwindows, \u200b\u6d4b\u8bd5\u200b\u548c\u200b\u751f\u4ea7\u200b\u673a\u662f\u200blinux</li> </ol>"},{"location":"c10/10-07/#3","title":"3. \u200b\u6027\u80fd","text":"<p>\u200b\u6240\u6709\u200b\u968f\u673a\u200bapi\u200b\u90fd\u200b\u662f\u200b\u7ee7\u627f\u200bRandom, Random\u200b\u662f\u200b\u7ebf\u7a0b\u200b\u5b89\u5168\u200b\u7684\u200b, \u200b\u6240\u4ee5\u200b\u5927\u5bb6\u200b\u90fd\u200b\u662f\u200b\u7ebf\u7a0b\u200b\u5b89\u5168\u200b\u7684\u200b.  </p> <p>\u200b\u4f46\u662f\u200b\u591a\u7ebf\u7a0b\u200b\u4e0b\u200b,Random\u200b\u7684\u200b\u6027\u80fd\u200b\u4e0d\u597d\u200b,JDK 1.7\u200b\u4ee5\u540e\u200b\u5f15\u5165\u200b\u4e86\u200bThreadLocalRandom.  \u200b\u6240\u4ee5\u200b\u591a\u7ebf\u7a0b\u200b\u73af\u5883\u200b\u4e0b\u200b, \u200b\u4e0d\u80fd\u200b\u4f7f\u7528\u200bRandom, \u200b\u800c\u200b\u8981\u200b\u7528\u200bThreadLocalRandom.  </p> <p>\u200b\u4f7f\u7528\u200b/dev/random\u200b\u7684\u200b\u573a\u666f\u200b\u4e0b\u200b, \u200b\u963b\u585e\u200b\u662f\u200b\u6bd4\u8f83\u4e25\u91cd\u200b\u7684\u200b,\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u5728\u200bshell\u200b\u4e0b\u200b\u6267\u884c\u200b\u4ee5\u4e0b\u200b\u547d\u4ee4\u200b\u4f53\u9a8c\u200b\u4e00\u4e0b\u200b\u5230\u5e95\u200b\u6709\u200b\u591a\u200b\u4e25\u91cd\u200b:</p> <pre><code>head -n 1 /dev/random\n</code></pre> <p>/dev/urandom\u200b\u662f\u975e\u200b\u963b\u585e\u200b\u7684\u200b, \u200b\u5373\u4f7f\u200b\u8868\u9762\u200b\u4e0a\u200b\u968f\u673a\u6027\u200b\u4e0d\u5982\u200b/dev/random, \u200b\u4f46\u662f\u200b\u5b9e\u9645\u200b\u60c5\u51b5\u200b\u53ef\u80fd\u200b\u5e76\u200b\u4e0d\u662f\u200b\u8fd9\u6837\u200b.    </p> <p>\u200b\u6240\u4ee5\u200b\u4ee5\u4e0b\u200b\u6027\u80fd\u200b\u5efa\u8bae\u200b\u662f\u200b\u9700\u8981\u200b\u53c2\u8003\u200b\u7684\u200b:</p> <ol> <li>\u200b\u5c3d\u91cf\u200b\u4e0d\u8981\u200b\u4f7f\u7528\u200bRandom,\u200b\u5373\u4f7f\u200b\u5728\u200b\u968f\u673a\u6027\u200b\u8981\u6c42\u200b\u4e0d\u9ad8\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b</li> <li>\u200b\u4f7f\u7528\u200bSecureRandom, \u200b\u5efa\u8bae\u200b\u4f7f\u7528\u200bgetInstance\u200b\u6216\u200bgetInstanceStrong,\u200b\u6307\u5b9a\u200b\u7b97\u6cd5\u200b,\u200b\u800c\u200b\u4e0d\u8981\u200b\u4f7f\u7528\u200b\u9ed8\u8ba4\u200b\u7684\u200b\u6784\u9020\u51fd\u6570\u200b.\u200b\u56e0\u4e3a\u200b\u5f00\u53d1\u200b\u673a\u662f\u200bwindows, \u200b\u6d4b\u8bd5\u200b\u548c\u200b\u751f\u4ea7\u200b\u673a\u662f\u200blinux</li> <li>\u200b\u5982\u679c\u200b\u4e0d\u80fd\u200b\u5fcd\u53d7\u200b\u963b\u585e\u200b, \u200b\u4e0d\u8981\u200b\u4f7f\u7528\u200b\u57fa\u4e8e\u200b/dev/random\u200b\u7684\u200b\u7b97\u6cd5\u200b\u83b7\u53d6\u200b\u968f\u673a\u6570\u200b</li> <li>\u200b\u9ad8\u8d28\u91cf\u200b\u7684\u200b\u968f\u673a\u6027\u200b\u503c\u5f97\u200b\u82b1\u8d39\u200bCPU\u200b\u8d44\u6e90\u200b\u53bb\u200b\u83b7\u53d6\u200b, \u200b\u5373\u4f7f\u200b\u5728\u200b\u591a\u7ebf\u7a0b\u200b\u7684\u200b\u73af\u5883\u200b\u4e0b\u200b, \u200b\u540c\u4e00\u4e2a\u200b\u573a\u666f\u200b\u4f7f\u7528\u200b\u540c\u4e00\u4e2a\u200b\u5168\u5c40\u200bSecureRandom\u200b\u662f\u200b\u53ef\u4ee5\u200b\u88ab\u200b\u63a5\u53d7\u200b\u7684\u200b,\u200b\u5373\u4f7f\u200b\u963b\u585e\u200b\u4e5f\u200b\u53ea\u200b\u51fa\u73b0\u200b\u5728\u200b\u5bf9\u8c61\u200b\u5b9e\u4f8b\u200b\u5316\u200b\u9636\u6bb5\u200b.  </li> <li>\u200b\u5728\u200b\u4e00\u4e9b\u200b\u7279\u5b9a\u200b\u573a\u666f\u200b\u4e0b\u200b, \u200b\u901a\u8fc7\u200b\u4f7f\u7528\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\u6216\u8005\u200b\u4fee\u6539\u200bJRE\u200b\u91cc\u9762\u200bjava.security\u200b\u6587\u4ef6\u200b,\u200b\u53ef\u4ee5\u200b\u91cd\u5b9a\u5411\u200b\u9ed8\u8ba4\u200b\u6784\u9020\u51fd\u6570\u200b\u7684\u200b\u7b97\u6cd5\u200b\u4ee5\u53ca\u200b\u5c06\u200b/dev/random\u200b\u7684\u200b\u7b97\u6cd5\u200b\u91cd\u5b9a\u5411\u200b\u5230\u200b/dev/urandom\u200b\u91cc\u200b .  </li> </ol> <p>\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\u8986\u76d6\u200b\u4e3e\u4f8b\u200b:</p> <pre><code>-Djava.security.debug=\"provider,engine=SecureRandom\"\n</code></pre> <p>\u200b\u4fee\u6539\u200bjava.security\u200b\u4e3e\u4f8b\u200b: </p> <pre><code>securerandom.source=file:/dev/urandom\nsecurerandom.strongAlgorithms=NativePRNGBlocking:SUN\n</code></pre>"},{"location":"c10/10-07/#3_1","title":"3.\u200b\u8fd0\u7ef4\u200b\u4ea4\u4ed8","text":"<p>\u200b\u8fd0\u7ef4\u200b\u4ea4\u4ed8\u200b\u5efa\u8bae\u200b:</p> <ol> <li>\u200b\u5bf9\u4e8e\u200b\u73b0\u6709\u200b\u7b2c\u4e09\u65b9\u200b\u7cfb\u7edf\u200b, \u200b\u5728\u200b\u51fa\u73b0\u200b\u963b\u585e\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b, \u200b\u901a\u8fc7\u200b\u547d\u4ee4\u884c\u200b\u6d4b\u8bd5\u200b\u9a8c\u8bc1\u200b\u662f\u200bsecurerandom\u200b\u963b\u585e\u200b\u95ee\u9898\u200b\u540e\u200b,\u200b\u5efa\u8bae\u200b\u4fee\u6539\u200bjava.security\u200b\u5c06\u200bsource\u200b\u91cd\u5199\u200b\u5230\u200b/dev/urandom\u200b\u4e0a\u200b\u89e3\u51b3\u95ee\u9898\u200b.</li> <li>\u200b\u5bf9\u4e8e\u200b\u81ea\u6709\u200b\u7cfb\u7edf\u200b,\u200b\u5efa\u8bae\u200b\u5c06\u200b\u7b97\u6cd5\u200b\u548c\u200bsource\u200b\u76f4\u63a5\u200b\u4fee\u6539\u200b\u6210\u975e\u200b\u963b\u585e\u200b\u7684\u200b\u65b9\u5f0f\u200b,\u200b\u5236\u4f5c\u200b\u8fdb\u200b\u6a21\u677f\u200b\u673a\u200b. </li> </ol>"},{"location":"c10/10-07/#4","title":"4. \u200b\u8d28\u91cf\u200b\u63a7\u5236","text":"<p>\u200b\u8d28\u91cf\u200b\u4ea4\u4ed8\u200b\u5efa\u8bae\u200b:</p> <ol> <li>sonar\u200b\u4fdd\u7559\u200b\u5bf9\u200b\u6240\u6709\u200b\u7cfb\u7edf\u200bRandom\u200b\u6f0f\u6d1e\u200b\u7684\u200b\u6700\u9ad8\u7ea7\u522b\u200b\u62a5\u8b66\u200b</li> <li>\u200b\u5bf9\u4e8e\u200b\u6240\u6709\u200b\u7cfb\u7edf\u200b\u5e94\u200b\u4fdd\u7559\u200b\u5bf9\u200bThreadLocalRandom\u200b\u7684\u200b\u6f0f\u6d1e\u200b\u62a5\u8b66\u200b,\u200b\u7ea7\u522b\u200b\u53ef\u4ee5\u200b\u964d\u4f4e\u200b</li> <li>\u200b\u5bf9\u4e8e\u200b\u767b\u9646\u200b\u7c7b\u200b,\u200b\u4fc3\u9500\u200b\u6d3b\u52a8\u200b, \u200b\u91d1\u878d\u7c7b\u200b, \u200b\u5238\u200b\u51ed\u8bc1\u200b\u7b49\u200b\u5b89\u5168\u7ea7\u522b\u200b\u8f83\u200b\u9ad8\u200b\u7cfb\u7edf\u200b,\u200b\u5e94\u5bf9\u200b\u975e\u200bSecureRandom\u200b\u7c7b\u200b\u4ee5\u53ca\u200bSHA1PRNG\u200b\u7b97\u6cd5\u200b\u63d0\u793a\u200b\u6f0f\u6d1e\u200b</li> </ol>"},{"location":"c10/10-07/#_1","title":"\u53c2\u8003\u200b:","text":"<p>https://tersesystems.com/blog/2015/12/17/the-right-way-to-use-securerandom/</p> <p>https://docs.oracle.com/javase/8/docs/technotes/guides/security/SunProviders.html#SecureRandomImp</p> <p>https://www.2uo.de/myths-about-urandom/</p> <p>http://ju.outofmemory.cn/entry/286621</p> <p>https://www.javamex.com/tutorials/random_numbers/securerandom.shtml</p> <p>https://docs.oracle.com/cd/E13209_01/wlcp/wlss30/configwlss/jvmrand.html</p> <p>https://docs.oracle.com/javase/8/docs/api/java/util/Random.html#Random--</p> <p>https://docs.oracle.com/javase/8/docs/api/java/security/SecureRandom.html</p> <p>https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadLocalRandom.html</p>"},{"location":"c99/test-redis-copy/","title":"redis \u200b\u590d\u5236\u200b\u811a\u672c","text":"<pre><code>* redis A \uff08\u200b\u6e90\u200bredis\uff09\n* redis B \uff08\u200b\u76ee\u6807\u200bredis\uff09\n* redis C \uff08\u200b\u8bb0\u5f55\u200b\u590d\u5236\u200b\u5931\u8d25\u200b\u7684\u200bkey\uff09\n* seek_keys \uff08\u200b\u5b9a\u4e49\u200b\u7b5b\u9009\u200bkey\u200b\u7c7b\u578b\u200b\u5217\u8868\u200b\uff09 \n</code></pre>"},{"location":"c99/test-redis-copy/#_1","title":"\u811a\u672c\u200b\u6267\u884c\u200b\u8fc7\u7a0b","text":"<pre><code>1. \u200b\u7b2c\u4e00\u6b21\u200b\u6267\u884c\u200b\u811a\u672c\u200b\n1.1 \u200b\u6267\u884c\u200b\u7684\u200bkey\u200b\u5217\u8868\u200b: redis A \u200b\u7684\u200b\u6240\u6709\u200b\u8fc7\u6ee4\u200bkey\u200b\u5217\u8868\u200b\n1.2 \u200b\u904d\u5386\u200bkey\u200b\u5217\u8868\u200b\uff0c \u200b\u4ece\u200bredis A \u200b\u4e2d\u200b\u53d6\u51fa\u200b\u6570\u636e\u200b\uff0c\u200b\u63d2\u5165\u200b\u5230\u200bredis B\u200b\u4e2d\u200b\u3002\n\u200b\u82e5\u200b\u4e2d\u95f4\u200b\u51fa\u9519\u200b\uff0credis C \u200b\u6267\u884c\u200b sadd error:A:B key\n\u200b\u82e5\u200b\u6210\u529f\u200b\u7684\u8bdd\u200b\uff0credis C \u200b\u6267\u884c\u200b srem error:A:B key\n\n2. \u200b\u7b2c\u4e8c\u6b21\u200b\u6267\u884c\u200b\u811a\u672c\u200b\n2.1 \u200b\u6267\u884c\u200b\u7684\u200bkey\u200b\u5217\u8868\u200b: redis A \u200b\u7684\u200b\u6240\u6709\u200b\u8fc7\u6ee4\u200bkey\u200b\u5217\u8868\u200b\uff0c \u200b\u53bb\u9664\u200bredis B \u200b\u7684\u200b\u6240\u6709\u200b\u8fc7\u6ee4\u200bkey\u200b\u5217\u8868\u200b, \u200b\u518d\u200b\u52a0\u4e0a\u200b redis C error:A:B\u200b\u7684\u200bkey\u200b\u5217\u8868\u200b\n2.2 \u200b\u904d\u5386\u200bkey\u200b\u5217\u8868\u200b\uff0c \u200b\u4ece\u200bredis A \u200b\u4e2d\u200b\u53d6\u51fa\u200b\u6570\u636e\u200b\uff0c\u200b\u63d2\u5165\u200b\u5230\u200bredis B\u200b\u4e2d\u200b\u3002\n\u200b\u82e5\u200b\u4e2d\u95f4\u200b\u51fa\u9519\u200b\uff0credis C \u200b\u6267\u884c\u200b sadd error:A:B key\n\u200b\u82e5\u200b\u6210\u529f\u200b\u7684\u8bdd\u200b\uff0credis C \u200b\u6267\u884c\u200b srem error:A:B key\n\n\u200b\u91cd\u590d\u200b\u6267\u884c\u200b\uff0c\u200b\u76f4\u5230\u200bredis C \u200b\u4e2d\u200b\u7684\u200berror:A:B\u200b\u503c\u4e3a\u200b\u7a7a\u200b\u4e3a\u6b62\u200b\u3002\n</code></pre>"},{"location":"c99/test-redis-copy/#redis-a","title":"\u53d6\u51fa\u200b\u6570\u636e\u200b \uff08redis A\uff09","text":""},{"location":"c99/test-redis-copy/#hash","title":"\u5f53\u200b\u7c7b\u578b\u200b\u662f\u200bhash","text":"<pre><code>* hgetall\u200b\u76f4\u63a5\u200b\u4e00\u6b21\u200b\u53d6\u51fa\u200b\n</code></pre>"},{"location":"c99/test-redis-copy/#zset","title":"\u5f53\u200b\u7c7b\u578b\u200b\u662f\u200bzset","text":"<pre><code>* \u200b\u5148\u200b\u8ba1\u7b97\u200b\u51fa\u200bkey\u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\u603b\u200b\u6761\u6570\u200b\n* \u200b\u8bbe\u7f6e\u200b\u7684\u200b\u5355\u6b21\u200b\u53d6\u51fa\u200b\u7684\u200b\u6761\u6570\u200b PageSize\uff08\u200b\u9ed8\u8ba4\u200b\u662f\u200b20000\uff09\n* \u200b\u6309\u7167\u200bPageSize\uff0c\u200b\u5206\u6279\u200b\u53d6\u51fa\u200b\u6570\u636e\u200b\n</code></pre>"},{"location":"c99/test-redis-copy/#redis-b","title":"\u63d2\u5165\u200b\u6570\u636e\u200b \uff08redis B\uff09","text":""},{"location":"c99/test-redis-copy/#hash_1","title":"\u5f53\u200b\u7c7b\u578b\u200b\u662f\u200bhash","text":"<pre><code>* \u200b\u6570\u636e\u91cf\u200b\u4e0d\u200b\u5927\u200b\uff0c\u200b\u76f4\u63a5\u200b\u4e00\u6b21\u200bhmset\u200b\u63d2\u5165\u200b\u6570\u636e\u200b\n</code></pre>"},{"location":"c99/test-redis-copy/#zset_1","title":"\u5f53\u200b\u7c7b\u578b\u200b\u662f\u200bzset","text":"<pre><code>* \u200b\u5148\u200b\u8ba1\u7b97\u200b\u9700\u8981\u200b\u63d2\u5165\u200b\u6570\u636e\u200b\u603b\u200b\u6761\u6570\u200b\n* \u200b\u8bbe\u7f6e\u200b\u7684\u200b\u5355\u6b21\u200b\u63d2\u5165\u200b\u7684\u200b\u6761\u6570\u200b PageSize\uff08\u200b\u9ed8\u8ba4\u200b\u662f\u200b2000\uff09\n* \u200b\u6309\u7167\u200bPageSize\uff0c\u200b\u5206\u6279\u200b\u63d2\u5165\u200b\u6570\u636e\u200b\n</code></pre>"},{"location":"c99/test-redis-copy/#key-redis-c","title":"\u8bb0\u5f55\u200b\u590d\u5236\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u51fa\u9519\u200b\u7684\u200bkey \uff08redis C\uff09","text":"<pre><code>* \u200b\u5f53\u200b\u53d6\u51fa\u200b\u6570\u636e\u200b\u6216\u8005\u200b\u63d2\u5165\u200b\u6570\u636e\u200b \u200b\u51fa\u9519\u200b\uff0credis C \u200b\u6267\u884c\u200b sadd error:A:B key\n* \u200b\u5f53\u200b\u53d6\u51fa\u200b\u6570\u636e\u200b\u548c\u200b\u63d2\u5165\u200b\u6570\u636e\u200b \u200b\u90fd\u200b\u6210\u529f\u200b\uff0credis C \u200b\u6267\u884c\u200b srem error:A:B key\n</code></pre>"},{"location":"c99/test-redis-copy/#key","title":"\u7b5b\u9009\u200b\u51fa\u200b\u9700\u8981\u200b\u590d\u5236\u200b\u7684\u200bkey\u200b\u5217\u8868","text":"<pre><code>* \u200b\u5b9a\u4e49\u200bkey\u200b\u7c7b\u578b\u200b seek_keys, \u200b\u5982\u200b\uff1a \n[\n\"some:xxx:*\",\n\"some:yyy:*\",\n]\n* redis A\uff0c\u200b\u6839\u636e\u200bseek_keys\uff0c\u200b\u7b5b\u9009\u200b\u51fa\u200bkey\u200b\u5217\u8868\u200b key_list_A\n* redis B\uff0c\u200b\u6839\u636e\u200bseek_keys\uff0c\u200b\u7b5b\u9009\u200b\u51fa\u200bkey\u200b\u5217\u8868\u200b key_list_B\n* redis C, key\u200b\u53d6\u51fa\u200bkey\u200b\u5217\u8868\u200b key_list_C\n* \u200b\u6700\u540e\u200b\u7b97\u200b\u51fa\u200b\u9700\u8981\u200b\u590d\u5236\u200b\u7684\u200bkey\u200b\u5217\u8868\u200b\uff1akey_list_A\u200b\u4e2d\u200b\uff0c\u200b\u51cf\u53bb\u200bkey_list_B\uff0c\u200b\u7136\u540e\u200b\u548c\u200b key_list_C\u200b\u7684\u200b\u5e76\u200b\u96c6\u200b\u3002\uff08key_list_A - key_list_B | key_list_C\uff09\n\n</code></pre>"},{"location":"c99/test-redis-copy/#_2","title":"\u6d4b\u8bd5\u73af\u5883\u200b\u811a\u672c\u200b\u901f\u5ea6","text":""},{"location":"c99/test-redis-copy/#1","title":"1. \u200b\u6570\u636e\u200b\u590d\u5236","text":"<pre><code>1.1 seek_key: [\n        \"some:xxx:*\",\n        \"some:yyy:*\"\n]\n\n1.2 \u200b\u6e90\u200bredis\uff1a10.1.249.139\n1.3 \u200b\u76ee\u7684\u200bredis\uff1a10.1.249.39\n1.4 \u200b\u539f\u59cb\u200b\u5185\u5b58\u200b\uff1a897.54K\uff0c \u200b\u590d\u5236\u200b\u540e\u200b\u6570\u636e\u91cf\u200b\u5927\u5c0f\u200b\uff082.63G\uff09\uff0c\u200b\u65f6\u95f4\u200b\uff08271.79 seconds\uff09\n</code></pre>"},{"location":"c99/test-redis-copy/#2-redis27g","title":"2. \u200b\u7ebf\u4e0a\u200b\u5360\u7528\u200b\u5185\u5b58\u200b\u60c5\u51b5\u200b\uff08\u200b\u4e00\u5171\u200b\u4e09\u4e2a\u200bredis\u200b\u5b9e\u4f8b\u200b\uff0c\u200b\u5355\u4e2a\u200b\u5dee\u4e0d\u591a\u200b27G\uff09","text":""},{"location":"c99/test-redis-copy/#redis_1","title":"redis \u200b\u6e05\u9664\u200b\u903b\u8f91","text":""},{"location":"c99/test-redis-copy/#key-key-xxxx","title":"\u4e1a\u52a1\u200bkey (key\u200b\u5339\u914d\u200b\u662f\u200b xxxx:*)","text":"<ul> <li>\u200b\u5206\u6790\u200b</li> </ul> <pre><code>1. \u200b\u7c7b\u578b\u200b\u662f\u200b zset\n2. score\u200b\u503c\u200b\u89c4\u5219\u200b\uff1a BizDate \u200b\u51cf\u53bb\u200b 2015-11-11 \u200b\u7684\u200b\u5929\u6570\u200b\n</code></pre> <ul> <li>\u200b\u6e05\u9664\u200b\u903b\u8f91\u200b</li> </ul> <pre><code>1. \u200b\u67e5\u51fa\u200b\u7b26\u5408\u200b xxxx:* \u200b\u7684\u200b\u6240\u6709\u200bkey\n\n2. \u200b\u5b9a\u4e49\u200b\u9700\u8981\u200b\u6e05\u9664\u200b\u7684\u200b\u65e5\u671f\u200b\u8303\u56f4\u200b\uff1a\nmin=0\uff0c \nmax= now - '2015-11-11' - 7   \uff08\u200b\u4ee5\u9632\u4e07\u4e00\u200b\uff0c\u200b\u591a\u200b\u4fdd\u7559\u200b\u4e00\u5468\u200b\uff09\n\u200b\u5907\u6ce8\u200b\uff1a \u200b\u4eca\u5929\u200b\u662f\u200b2017-04-21\uff0c max \u200b\u503c\u4e3a\u200b 520\n\n3. zremrangebyscore key 0 max\n</code></pre> <ul> <li>\u200b\u6548\u679c\u200b</li> </ul> <pre><code>\u200b\u7528\u7ebf\u200b\u4e0a\u200b\u73af\u5883\u200b\u7684\u200b\u4e00\u53f0\u200b\u5df2\u200b\u4e0b\u7ebf\u200b\u5907\u673a\u200b\u6d4b\u8bd5\u200b\u4e86\u200b\u4e0b\u200b\u3002\n\n\u200b\u5185\u5b58\u200b\u5360\u7528\u200b\uff1a\n\u200b\u6e05\u7406\u200b\u524d\u200b\uff1a27.14GB\n\u200b\u6e05\u7406\u200b\u540e\u200b\uff1a20.18GB\n\nkey\u200b\u6570\u91cf\u200b\uff1a\n\u200b\u6e05\u7406\u200b\u524d\u200b\uff1a119208\n\u200b\u6e05\u7406\u200b\u540e\u200b\uff1a29819\n\n</code></pre>"}]}